
  var renderAll = false
  var nodes = new vis.DataSet([{"id":"root.VpcStack","dependencies":[{"key":"Ref","value":[],"path":"$.Properties.Parameters.EnvironmentName"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.AvailabilityZones"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.VpcCIDR"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.PublicSubnet1CIDR"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.PublicSubnet2CIDR"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.PrivateSubnet1CIDR"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.PrivateSubnet2CIDR"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.PrivateSubnet3CIDR"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.PrivateSubnet4CIDR"},{"key":"Ref","value":[],"path":"$.Properties.Tags.Value"},{"key":"Fn::Sub","value":[],"path":"$.Properties.TemplateURL"}],"prefix":"root","hidden":false,"type":"AWS::CloudFormation::Stack","label":"VpcStack","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-CloudFormation_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23B0084D%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF4F8B%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-CloudFormation_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FManagement-Governance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M53%2C39.9632039%20L58%2C39.9632039%20L58%2C37.9601375%20L53%2C37.9601375%20L53%2C39.9632039%20Z%20M28%2C51.9816019%20L33%2C51.9816019%20L33%2C49.9785356%20L28%2C49.9785356%20L28%2C51.9816019%20Z%20M18%2C51.9816019%20L25%2C51.9816019%20L25%2C49.9785356%20L18%2C49.9785356%20L18%2C51.9816019%20Z%20M18%2C45.9724029%20L30%2C45.9724029%20L30%2C43.9693366%20L18%2C43.9693366%20L18%2C45.9724029%20Z%20M18%2C33.9540048%20L27%2C33.9540048%20L27%2C31.9509385%20L18%2C31.9509385%20L18%2C33.9540048%20Z%20M18%2C39.9632039%20L51%2C39.9632039%20L51%2C37.9601375%20L18%2C37.9601375%20L18%2C39.9632039%20Z%20M37%2C61.9969337%20L14%2C61.9969337%20L14%2C27.9448058%20L37%2C27.9448058%20L37%2C35.9570712%20L39%2C35.9570712%20L39%2C26.9432726%20C39%2C26.3904263%2038.552%2C25.9417395%2038%2C25.9417395%20L13%2C25.9417395%20C12.447%2C25.9417395%2012%2C26.3904263%2012%2C26.9432726%20L12%2C62.9984668%20C12%2C63.5513131%2012.447%2C64%2013%2C64%20L38%2C64%20C38.552%2C64%2039%2C63.5513131%2039%2C62.9984668%20L39%2C42.9678034%20L37%2C42.9678034%20L37%2C61.9969337%20Z%20M68%2C36.9586044%20C68%2C43.4305117%2062.173%2C45.6819583%2059.092%2C45.9683968%20L43%2C45.9724029%20L43%2C43.9693366%20L59%2C43.9693366%20C59.195%2C43.9463013%2066%2C43.2121775%2066%2C36.9586044%20C66%2C31.2638867%2060.863%2C30.1081175%2059.834%2C29.9338507%20C59.321%2C29.8467173%2058.96%2C29.3820059%2059.004%2C28.8632117%20C59.005%2C28.8441826%2059.007%2C28.826155%2059.009%2C28.8081274%20C58.954%2C25.5902013%2056.981%2C24.584662%2056.126%2C24.3002266%20C54.53%2C23.769414%2052.751%2C24.2771913%2051.81%2C25.5391231%20C51.591%2C25.8355769%2051.229%2C25.9868085%2050.861%2C25.9307226%20C50.497%2C25.8756383%2050.192%2C25.625255%2050.068%2C25.2767214%20C49.447%2C23.5360568%2048.546%2C22.4083304%2047.293%2C21.1534094%20C44.159%2C18.0386412%2039.905%2C17.1783242%2035.925%2C18.8528877%20C33.837%2C19.7332353%2032.012%2C21.7282894%2030.922%2C24.327268%20L29.078%2C23.5500782%20C30.37%2C20.4743699%2032.584%2C18.0887179%2035.15%2C17.007062%20C39.905%2C15.0049972%2044.971%2C16.0255595%2048.704%2C19.7342369%20C49.774%2C20.8068789%2050.66%2C21.851478%2051.35%2C23.2035478%20C52.843%2C22.0978551%2054.857%2C21.7673492%2056.757%2C22.3993166%20C59.189%2C23.2085554%2060.727%2C25.3207889%2060.975%2C28.1290879%20C64.381%2C28.9884034%2068%2C31.7115721%2068%2C36.9586044%20L68%2C36.9586044%20Z%22%20id%3D%22AWS-CloudFormation_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"DeletionPolicy: Delete\nUpdateReplacePolicy: Delete\nType: 'AWS::CloudFormation::Stack'\nProperties:\n  TemplateURL: !!Sub 'https://${S3BucketName}.s3.amazonaws.com/vpc.yml'\n  TimeoutInMinutes: 20\n  Parameters:\n    EnvironmentName: !!Ref EnvironmentName\n    AvailabilityZones: !!Join \n      - ','\n      - !!Ref AvailabilityZones\n    VpcCIDR: !!Ref VpcCIDR\n    PublicSubnet1CIDR: !!Ref PublicSubnet1CIDR\n    PublicSubnet2CIDR: !!Ref PublicSubnet2CIDR\n    PrivateSubnet1CIDR: !!Ref PrivateSubnet1CIDR\n    PrivateSubnet2CIDR: !!Ref PrivateSubnet2CIDR\n    PrivateSubnet3CIDR: !!Ref PrivateSubnet3CIDR\n    PrivateSubnet4CIDR: !!Ref PrivateSubnet4CIDR\n  Tags:\n    - Key: Name\n      Value: !!Ref EnvironmentName\n","resource":{"DeletionPolicy":"Delete","UpdateReplacePolicy":"Delete","Type":"AWS::CloudFormation::Stack","Properties":{"TemplateURL":{"Fn::Sub":"https://${S3BucketName}.s3.amazonaws.com/vpc.yml"},"TimeoutInMinutes":20,"Parameters":{"EnvironmentName":{"Ref":"EnvironmentName"},"AvailabilityZones":{"Fn::Join":[",",{"Ref":"AvailabilityZones"}]},"VpcCIDR":{"Ref":"VpcCIDR"},"PublicSubnet1CIDR":{"Ref":"PublicSubnet1CIDR"},"PublicSubnet2CIDR":{"Ref":"PublicSubnet2CIDR"},"PrivateSubnet1CIDR":{"Ref":"PrivateSubnet1CIDR"},"PrivateSubnet2CIDR":{"Ref":"PrivateSubnet2CIDR"},"PrivateSubnet3CIDR":{"Ref":"PrivateSubnet3CIDR"},"PrivateSubnet4CIDR":{"Ref":"PrivateSubnet4CIDR"}},"Tags":[{"Key":"Name","Value":{"Ref":"EnvironmentName"}}]}}},{"id":"root.DnsStack","dependencies":[{"key":"Ref","value":[],"path":"$.Properties.Parameters.EnvironmentName"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.DomainName"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.WebSubDomainName"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.APISubDomainName"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.HostedZoneId"},{"key":"Ref","value":[],"path":"$.Properties.Tags.Value"},{"key":"Fn::Sub","value":[],"path":"$.Properties.TemplateURL"}],"prefix":"root","hidden":false,"type":"AWS::CloudFormation::Stack","label":"DnsStack","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-CloudFormation_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23B0084D%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF4F8B%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-CloudFormation_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FManagement-Governance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M53%2C39.9632039%20L58%2C39.9632039%20L58%2C37.9601375%20L53%2C37.9601375%20L53%2C39.9632039%20Z%20M28%2C51.9816019%20L33%2C51.9816019%20L33%2C49.9785356%20L28%2C49.9785356%20L28%2C51.9816019%20Z%20M18%2C51.9816019%20L25%2C51.9816019%20L25%2C49.9785356%20L18%2C49.9785356%20L18%2C51.9816019%20Z%20M18%2C45.9724029%20L30%2C45.9724029%20L30%2C43.9693366%20L18%2C43.9693366%20L18%2C45.9724029%20Z%20M18%2C33.9540048%20L27%2C33.9540048%20L27%2C31.9509385%20L18%2C31.9509385%20L18%2C33.9540048%20Z%20M18%2C39.9632039%20L51%2C39.9632039%20L51%2C37.9601375%20L18%2C37.9601375%20L18%2C39.9632039%20Z%20M37%2C61.9969337%20L14%2C61.9969337%20L14%2C27.9448058%20L37%2C27.9448058%20L37%2C35.9570712%20L39%2C35.9570712%20L39%2C26.9432726%20C39%2C26.3904263%2038.552%2C25.9417395%2038%2C25.9417395%20L13%2C25.9417395%20C12.447%2C25.9417395%2012%2C26.3904263%2012%2C26.9432726%20L12%2C62.9984668%20C12%2C63.5513131%2012.447%2C64%2013%2C64%20L38%2C64%20C38.552%2C64%2039%2C63.5513131%2039%2C62.9984668%20L39%2C42.9678034%20L37%2C42.9678034%20L37%2C61.9969337%20Z%20M68%2C36.9586044%20C68%2C43.4305117%2062.173%2C45.6819583%2059.092%2C45.9683968%20L43%2C45.9724029%20L43%2C43.9693366%20L59%2C43.9693366%20C59.195%2C43.9463013%2066%2C43.2121775%2066%2C36.9586044%20C66%2C31.2638867%2060.863%2C30.1081175%2059.834%2C29.9338507%20C59.321%2C29.8467173%2058.96%2C29.3820059%2059.004%2C28.8632117%20C59.005%2C28.8441826%2059.007%2C28.826155%2059.009%2C28.8081274%20C58.954%2C25.5902013%2056.981%2C24.584662%2056.126%2C24.3002266%20C54.53%2C23.769414%2052.751%2C24.2771913%2051.81%2C25.5391231%20C51.591%2C25.8355769%2051.229%2C25.9868085%2050.861%2C25.9307226%20C50.497%2C25.8756383%2050.192%2C25.625255%2050.068%2C25.2767214%20C49.447%2C23.5360568%2048.546%2C22.4083304%2047.293%2C21.1534094%20C44.159%2C18.0386412%2039.905%2C17.1783242%2035.925%2C18.8528877%20C33.837%2C19.7332353%2032.012%2C21.7282894%2030.922%2C24.327268%20L29.078%2C23.5500782%20C30.37%2C20.4743699%2032.584%2C18.0887179%2035.15%2C17.007062%20C39.905%2C15.0049972%2044.971%2C16.0255595%2048.704%2C19.7342369%20C49.774%2C20.8068789%2050.66%2C21.851478%2051.35%2C23.2035478%20C52.843%2C22.0978551%2054.857%2C21.7673492%2056.757%2C22.3993166%20C59.189%2C23.2085554%2060.727%2C25.3207889%2060.975%2C28.1290879%20C64.381%2C28.9884034%2068%2C31.7115721%2068%2C36.9586044%20L68%2C36.9586044%20Z%22%20id%3D%22AWS-CloudFormation_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"DeletionPolicy: Delete\nUpdateReplacePolicy: Delete\nType: 'AWS::CloudFormation::Stack'\nProperties:\n  TemplateURL: !!Sub 'https://${S3BucketName}.s3.amazonaws.com/dns.yml'\n  TimeoutInMinutes: 20\n  Parameters:\n    EnvironmentName: !!Ref EnvironmentName\n    DomainName: !!Ref DomainName\n    WebSubDomainName: !!Ref WebSubDomainName\n    APISubDomainName: !!Ref APISubDomainName\n    HostedZoneId: !!Ref HostedZoneId\n  Tags:\n    - Key: Name\n      Value: !!Ref EnvironmentName\n","resource":{"DeletionPolicy":"Delete","UpdateReplacePolicy":"Delete","Type":"AWS::CloudFormation::Stack","Properties":{"TemplateURL":{"Fn::Sub":"https://${S3BucketName}.s3.amazonaws.com/dns.yml"},"TimeoutInMinutes":20,"Parameters":{"EnvironmentName":{"Ref":"EnvironmentName"},"DomainName":{"Ref":"DomainName"},"WebSubDomainName":{"Ref":"WebSubDomainName"},"APISubDomainName":{"Ref":"APISubDomainName"},"HostedZoneId":{"Ref":"HostedZoneId"}},"Tags":[{"Key":"Name","Value":{"Ref":"EnvironmentName"}}]}}},{"id":"root.WebStack","dependencies":[{"key":"Ref","value":[],"path":"$.Properties.Parameters.EnvironmentName"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.DomainName"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.WebSubDomainName"},{"key":"Ref","value":["DnsStack"],"path":"$.Properties.Parameters.HostedZoneId"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.CertificateArn"},{"key":"Ref","value":[],"path":"$.Properties.Tags.Value"},{"key":"Fn::Sub","value":[],"path":"$.Properties.TemplateURL"},{"key":"Fn::Sub","value":[],"path":"$.Properties.Parameters.HostedZoneId"}],"prefix":"root","hidden":false,"type":"AWS::CloudFormation::Stack","label":"WebStack","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-CloudFormation_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23B0084D%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF4F8B%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-CloudFormation_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FManagement-Governance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M53%2C39.9632039%20L58%2C39.9632039%20L58%2C37.9601375%20L53%2C37.9601375%20L53%2C39.9632039%20Z%20M28%2C51.9816019%20L33%2C51.9816019%20L33%2C49.9785356%20L28%2C49.9785356%20L28%2C51.9816019%20Z%20M18%2C51.9816019%20L25%2C51.9816019%20L25%2C49.9785356%20L18%2C49.9785356%20L18%2C51.9816019%20Z%20M18%2C45.9724029%20L30%2C45.9724029%20L30%2C43.9693366%20L18%2C43.9693366%20L18%2C45.9724029%20Z%20M18%2C33.9540048%20L27%2C33.9540048%20L27%2C31.9509385%20L18%2C31.9509385%20L18%2C33.9540048%20Z%20M18%2C39.9632039%20L51%2C39.9632039%20L51%2C37.9601375%20L18%2C37.9601375%20L18%2C39.9632039%20Z%20M37%2C61.9969337%20L14%2C61.9969337%20L14%2C27.9448058%20L37%2C27.9448058%20L37%2C35.9570712%20L39%2C35.9570712%20L39%2C26.9432726%20C39%2C26.3904263%2038.552%2C25.9417395%2038%2C25.9417395%20L13%2C25.9417395%20C12.447%2C25.9417395%2012%2C26.3904263%2012%2C26.9432726%20L12%2C62.9984668%20C12%2C63.5513131%2012.447%2C64%2013%2C64%20L38%2C64%20C38.552%2C64%2039%2C63.5513131%2039%2C62.9984668%20L39%2C42.9678034%20L37%2C42.9678034%20L37%2C61.9969337%20Z%20M68%2C36.9586044%20C68%2C43.4305117%2062.173%2C45.6819583%2059.092%2C45.9683968%20L43%2C45.9724029%20L43%2C43.9693366%20L59%2C43.9693366%20C59.195%2C43.9463013%2066%2C43.2121775%2066%2C36.9586044%20C66%2C31.2638867%2060.863%2C30.1081175%2059.834%2C29.9338507%20C59.321%2C29.8467173%2058.96%2C29.3820059%2059.004%2C28.8632117%20C59.005%2C28.8441826%2059.007%2C28.826155%2059.009%2C28.8081274%20C58.954%2C25.5902013%2056.981%2C24.584662%2056.126%2C24.3002266%20C54.53%2C23.769414%2052.751%2C24.2771913%2051.81%2C25.5391231%20C51.591%2C25.8355769%2051.229%2C25.9868085%2050.861%2C25.9307226%20C50.497%2C25.8756383%2050.192%2C25.625255%2050.068%2C25.2767214%20C49.447%2C23.5360568%2048.546%2C22.4083304%2047.293%2C21.1534094%20C44.159%2C18.0386412%2039.905%2C17.1783242%2035.925%2C18.8528877%20C33.837%2C19.7332353%2032.012%2C21.7282894%2030.922%2C24.327268%20L29.078%2C23.5500782%20C30.37%2C20.4743699%2032.584%2C18.0887179%2035.15%2C17.007062%20C39.905%2C15.0049972%2044.971%2C16.0255595%2048.704%2C19.7342369%20C49.774%2C20.8068789%2050.66%2C21.851478%2051.35%2C23.2035478%20C52.843%2C22.0978551%2054.857%2C21.7673492%2056.757%2C22.3993166%20C59.189%2C23.2085554%2060.727%2C25.3207889%2060.975%2C28.1290879%20C64.381%2C28.9884034%2068%2C31.7115721%2068%2C36.9586044%20L68%2C36.9586044%20Z%22%20id%3D%22AWS-CloudFormation_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"DeletionPolicy: Delete\nUpdateReplacePolicy: Delete\nType: 'AWS::CloudFormation::Stack'\nProperties:\n  TemplateURL: !!Sub 'https://${S3BucketName}.s3.amazonaws.com/web.yml'\n  TimeoutInMinutes: 20\n  Parameters:\n    EnvironmentName: !!Ref EnvironmentName\n    DomainName: !!Ref DomainName\n    WebSubDomainName: !!Ref WebSubDomainName\n    HostedZoneId: !!Sub \n      - '${NestedStackName}-HostedZoneID'\n      - NestedStackName: !!Select \n          - 1\n          - !!Split \n            - /\n            - !!Ref DnsStack\n    CertificateArn: !!Ref WebCertificateArn\n  Tags:\n    - Key: Name\n      Value: !!Ref EnvironmentName\n","resource":{"DeletionPolicy":"Delete","UpdateReplacePolicy":"Delete","Type":"AWS::CloudFormation::Stack","Properties":{"TemplateURL":{"Fn::Sub":"https://${S3BucketName}.s3.amazonaws.com/web.yml"},"TimeoutInMinutes":20,"Parameters":{"EnvironmentName":{"Ref":"EnvironmentName"},"DomainName":{"Ref":"DomainName"},"WebSubDomainName":{"Ref":"WebSubDomainName"},"HostedZoneId":{"Fn::Sub":["${NestedStackName}-HostedZoneID",{"NestedStackName":{"Fn::Select":[1,{"Fn::Split":["/",{"Ref":"DnsStack"}]}]}}]},"CertificateArn":{"Ref":"WebCertificateArn"}},"Tags":[{"Key":"Name","Value":{"Ref":"EnvironmentName"}}]}}},{"id":"root.SitePipelineStack","dependencies":[{"key":"Ref","value":[],"path":"$.Properties.Parameters.EnvironmentName"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.GitHubOwner"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.GitHubRepo"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.GitHubBranch"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.GitHubTokenSecretName"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.GitHubTokenSecretKeyName"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.WebsiteSourceDirectory"},{"key":"Ref","value":["WebStack"],"path":"$.Properties.Parameters.WebsiteBucket"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.AlertDetailType"},{"key":"Ref","value":[],"path":"$.Properties.Tags.Value"},{"key":"Fn::Sub","value":[],"path":"$.Properties.TemplateURL"},{"key":"Fn::Sub","value":[],"path":"$.Properties.Parameters.WebsiteBucket"}],"prefix":"root","hidden":false,"type":"AWS::CloudFormation::Stack","label":"SitePipelineStack","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-CloudFormation_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23B0084D%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF4F8B%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-CloudFormation_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FManagement-Governance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M53%2C39.9632039%20L58%2C39.9632039%20L58%2C37.9601375%20L53%2C37.9601375%20L53%2C39.9632039%20Z%20M28%2C51.9816019%20L33%2C51.9816019%20L33%2C49.9785356%20L28%2C49.9785356%20L28%2C51.9816019%20Z%20M18%2C51.9816019%20L25%2C51.9816019%20L25%2C49.9785356%20L18%2C49.9785356%20L18%2C51.9816019%20Z%20M18%2C45.9724029%20L30%2C45.9724029%20L30%2C43.9693366%20L18%2C43.9693366%20L18%2C45.9724029%20Z%20M18%2C33.9540048%20L27%2C33.9540048%20L27%2C31.9509385%20L18%2C31.9509385%20L18%2C33.9540048%20Z%20M18%2C39.9632039%20L51%2C39.9632039%20L51%2C37.9601375%20L18%2C37.9601375%20L18%2C39.9632039%20Z%20M37%2C61.9969337%20L14%2C61.9969337%20L14%2C27.9448058%20L37%2C27.9448058%20L37%2C35.9570712%20L39%2C35.9570712%20L39%2C26.9432726%20C39%2C26.3904263%2038.552%2C25.9417395%2038%2C25.9417395%20L13%2C25.9417395%20C12.447%2C25.9417395%2012%2C26.3904263%2012%2C26.9432726%20L12%2C62.9984668%20C12%2C63.5513131%2012.447%2C64%2013%2C64%20L38%2C64%20C38.552%2C64%2039%2C63.5513131%2039%2C62.9984668%20L39%2C42.9678034%20L37%2C42.9678034%20L37%2C61.9969337%20Z%20M68%2C36.9586044%20C68%2C43.4305117%2062.173%2C45.6819583%2059.092%2C45.9683968%20L43%2C45.9724029%20L43%2C43.9693366%20L59%2C43.9693366%20C59.195%2C43.9463013%2066%2C43.2121775%2066%2C36.9586044%20C66%2C31.2638867%2060.863%2C30.1081175%2059.834%2C29.9338507%20C59.321%2C29.8467173%2058.96%2C29.3820059%2059.004%2C28.8632117%20C59.005%2C28.8441826%2059.007%2C28.826155%2059.009%2C28.8081274%20C58.954%2C25.5902013%2056.981%2C24.584662%2056.126%2C24.3002266%20C54.53%2C23.769414%2052.751%2C24.2771913%2051.81%2C25.5391231%20C51.591%2C25.8355769%2051.229%2C25.9868085%2050.861%2C25.9307226%20C50.497%2C25.8756383%2050.192%2C25.625255%2050.068%2C25.2767214%20C49.447%2C23.5360568%2048.546%2C22.4083304%2047.293%2C21.1534094%20C44.159%2C18.0386412%2039.905%2C17.1783242%2035.925%2C18.8528877%20C33.837%2C19.7332353%2032.012%2C21.7282894%2030.922%2C24.327268%20L29.078%2C23.5500782%20C30.37%2C20.4743699%2032.584%2C18.0887179%2035.15%2C17.007062%20C39.905%2C15.0049972%2044.971%2C16.0255595%2048.704%2C19.7342369%20C49.774%2C20.8068789%2050.66%2C21.851478%2051.35%2C23.2035478%20C52.843%2C22.0978551%2054.857%2C21.7673492%2056.757%2C22.3993166%20C59.189%2C23.2085554%2060.727%2C25.3207889%2060.975%2C28.1290879%20C64.381%2C28.9884034%2068%2C31.7115721%2068%2C36.9586044%20L68%2C36.9586044%20Z%22%20id%3D%22AWS-CloudFormation_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"DeletionPolicy: Delete\nUpdateReplacePolicy: Delete\nType: 'AWS::CloudFormation::Stack'\nProperties:\n  TemplateURL: !!Sub 'https://${S3BucketName}.s3.amazonaws.com/site-pipeline.yml'\n  TimeoutInMinutes: 20\n  Parameters:\n    EnvironmentName: !!Ref EnvironmentName\n    GitHubOwner: !!Ref GitHubOwner\n    GitHubRepo: !!Ref GitHubRepo\n    GitHubBranch: !!Ref GitHubBranch\n    GitHubTokenSecretName: !!Ref GitHubTokenSecretName\n    GitHubTokenSecretKeyName: !!Ref GitHubTokenSecretKeyName\n    WebsiteSourceDirectory: !!Ref WebsiteSourceDirectory\n    WebsiteBucket: !!Sub \n      - '${NestedStackName}-WebsiteBucket'\n      - NestedStackName: !!Select \n          - 1\n          - !!Split \n            - /\n            - !!Ref WebStack\n    AlertDetailType: !!Ref SiteDeployAlertDetailType\n  Tags:\n    - Key: Name\n      Value: !!Ref EnvironmentName\n","resource":{"DeletionPolicy":"Delete","UpdateReplacePolicy":"Delete","Type":"AWS::CloudFormation::Stack","Properties":{"TemplateURL":{"Fn::Sub":"https://${S3BucketName}.s3.amazonaws.com/site-pipeline.yml"},"TimeoutInMinutes":20,"Parameters":{"EnvironmentName":{"Ref":"EnvironmentName"},"GitHubOwner":{"Ref":"GitHubOwner"},"GitHubRepo":{"Ref":"GitHubRepo"},"GitHubBranch":{"Ref":"GitHubBranch"},"GitHubTokenSecretName":{"Ref":"GitHubTokenSecretName"},"GitHubTokenSecretKeyName":{"Ref":"GitHubTokenSecretKeyName"},"WebsiteSourceDirectory":{"Ref":"WebsiteSourceDirectory"},"WebsiteBucket":{"Fn::Sub":["${NestedStackName}-WebsiteBucket",{"NestedStackName":{"Fn::Select":[1,{"Fn::Split":["/",{"Ref":"WebStack"}]}]}}]},"AlertDetailType":{"Ref":"SiteDeployAlertDetailType"}},"Tags":[{"Key":"Name","Value":{"Ref":"EnvironmentName"}}]}}},{"id":"root.DBStack","dependencies":[{"key":"Ref","value":["VpcStack"],"path":"$.Properties.Parameters.ParentVPCStack"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.DBName"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.DBUsername"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.DBEngineVersion"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.DBInstanceClass"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.LambdaBootStrapS3Bucket"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.EnvironmentStage"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.NotificationList"},{"key":"Ref","value":[],"path":"$.Properties.Tags.Value"},{"key":"Fn::Sub","value":[],"path":"$.Properties.TemplateURL"},{"key":"Fn::Sub","value":[],"path":"$.Properties.Parameters.ParentVPCStack"}],"prefix":"root","hidden":false,"type":"AWS::CloudFormation::Stack","label":"DBStack","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-CloudFormation_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23B0084D%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF4F8B%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-CloudFormation_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FManagement-Governance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M53%2C39.9632039%20L58%2C39.9632039%20L58%2C37.9601375%20L53%2C37.9601375%20L53%2C39.9632039%20Z%20M28%2C51.9816019%20L33%2C51.9816019%20L33%2C49.9785356%20L28%2C49.9785356%20L28%2C51.9816019%20Z%20M18%2C51.9816019%20L25%2C51.9816019%20L25%2C49.9785356%20L18%2C49.9785356%20L18%2C51.9816019%20Z%20M18%2C45.9724029%20L30%2C45.9724029%20L30%2C43.9693366%20L18%2C43.9693366%20L18%2C45.9724029%20Z%20M18%2C33.9540048%20L27%2C33.9540048%20L27%2C31.9509385%20L18%2C31.9509385%20L18%2C33.9540048%20Z%20M18%2C39.9632039%20L51%2C39.9632039%20L51%2C37.9601375%20L18%2C37.9601375%20L18%2C39.9632039%20Z%20M37%2C61.9969337%20L14%2C61.9969337%20L14%2C27.9448058%20L37%2C27.9448058%20L37%2C35.9570712%20L39%2C35.9570712%20L39%2C26.9432726%20C39%2C26.3904263%2038.552%2C25.9417395%2038%2C25.9417395%20L13%2C25.9417395%20C12.447%2C25.9417395%2012%2C26.3904263%2012%2C26.9432726%20L12%2C62.9984668%20C12%2C63.5513131%2012.447%2C64%2013%2C64%20L38%2C64%20C38.552%2C64%2039%2C63.5513131%2039%2C62.9984668%20L39%2C42.9678034%20L37%2C42.9678034%20L37%2C61.9969337%20Z%20M68%2C36.9586044%20C68%2C43.4305117%2062.173%2C45.6819583%2059.092%2C45.9683968%20L43%2C45.9724029%20L43%2C43.9693366%20L59%2C43.9693366%20C59.195%2C43.9463013%2066%2C43.2121775%2066%2C36.9586044%20C66%2C31.2638867%2060.863%2C30.1081175%2059.834%2C29.9338507%20C59.321%2C29.8467173%2058.96%2C29.3820059%2059.004%2C28.8632117%20C59.005%2C28.8441826%2059.007%2C28.826155%2059.009%2C28.8081274%20C58.954%2C25.5902013%2056.981%2C24.584662%2056.126%2C24.3002266%20C54.53%2C23.769414%2052.751%2C24.2771913%2051.81%2C25.5391231%20C51.591%2C25.8355769%2051.229%2C25.9868085%2050.861%2C25.9307226%20C50.497%2C25.8756383%2050.192%2C25.625255%2050.068%2C25.2767214%20C49.447%2C23.5360568%2048.546%2C22.4083304%2047.293%2C21.1534094%20C44.159%2C18.0386412%2039.905%2C17.1783242%2035.925%2C18.8528877%20C33.837%2C19.7332353%2032.012%2C21.7282894%2030.922%2C24.327268%20L29.078%2C23.5500782%20C30.37%2C20.4743699%2032.584%2C18.0887179%2035.15%2C17.007062%20C39.905%2C15.0049972%2044.971%2C16.0255595%2048.704%2C19.7342369%20C49.774%2C20.8068789%2050.66%2C21.851478%2051.35%2C23.2035478%20C52.843%2C22.0978551%2054.857%2C21.7673492%2056.757%2C22.3993166%20C59.189%2C23.2085554%2060.727%2C25.3207889%2060.975%2C28.1290879%20C64.381%2C28.9884034%2068%2C31.7115721%2068%2C36.9586044%20L68%2C36.9586044%20Z%22%20id%3D%22AWS-CloudFormation_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"DeletionPolicy: Delete\nUpdateReplacePolicy: Delete\nType: 'AWS::CloudFormation::Stack'\nProperties:\n  TemplateURL: !!Sub 'https://${S3BucketName}.s3.amazonaws.com/aurora-postgres-db-cluster.yml'\n  TimeoutInMinutes: 20\n  Parameters:\n    ParentVPCStack: !!Sub \n      - '${NestedStackName}'\n      - NestedStackName: !!Select \n          - 1\n          - !!Split \n            - /\n            - !!Ref VpcStack\n    DBName: !!Ref DBName\n    DBUsername: !!Ref DBUsername\n    DBEngineVersion: !!Ref DBEngineVersion\n    DBInstanceClass: !!Ref DBInstanceClass\n    LambdaBootStrapS3Bucket: !!Ref S3BucketName\n    EnvironmentStage: !!Ref EnvironmentStage\n    NotificationList: !!Ref NotificationList\n  Tags:\n    - Key: Name\n      Value: !!Ref EnvironmentName\n","resource":{"DeletionPolicy":"Delete","UpdateReplacePolicy":"Delete","Type":"AWS::CloudFormation::Stack","Properties":{"TemplateURL":{"Fn::Sub":"https://${S3BucketName}.s3.amazonaws.com/aurora-postgres-db-cluster.yml"},"TimeoutInMinutes":20,"Parameters":{"ParentVPCStack":{"Fn::Sub":["${NestedStackName}",{"NestedStackName":{"Fn::Select":[1,{"Fn::Split":["/",{"Ref":"VpcStack"}]}]}}]},"DBName":{"Ref":"DBName"},"DBUsername":{"Ref":"DBUsername"},"DBEngineVersion":{"Ref":"DBEngineVersion"},"DBInstanceClass":{"Ref":"DBInstanceClass"},"LambdaBootStrapS3Bucket":{"Ref":"S3BucketName"},"EnvironmentStage":{"Ref":"EnvironmentStage"},"NotificationList":{"Ref":"NotificationList"}},"Tags":[{"Key":"Name","Value":{"Ref":"EnvironmentName"}}]}}},{"id":"root.ApiPipelineStack","dependencies":[{"key":"Ref","value":[],"path":"$.Properties.Parameters.EnvironmentName"},{"key":"Ref","value":["VpcStack"],"path":"$.Properties.Parameters.VpcStack"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.GitHubOwner"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.GitHubRepo"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.GitHubBranch"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.GitHubTokenSecretName"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.GitHubTokenSecretKeyName"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.MaxContainers"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.Image"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.DomainName"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.APISubDomainName"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.AlertDetailType"},{"key":"Ref","value":["SitePipelineStack"],"path":"$.Properties.Parameters.SnsTopicArns"},{"key":"Ref","value":["DnsStack"],"path":"$.Properties.Parameters.HostedZoneId"},{"key":"Ref","value":["DnsStack"],"path":"$.Properties.Parameters.APICertificateId"},{"key":"Ref","value":[],"path":"$.Properties.Tags.Value"},{"key":"Fn::Sub","value":[],"path":"$.Properties.TemplateURL"},{"key":"Fn::Sub","value":[],"path":"$.Properties.Parameters.VpcStack"},{"key":"Fn::Sub","value":[],"path":"$.Properties.Parameters.SnsTopicArns"},{"key":"Fn::Sub","value":[],"path":"$.Properties.Parameters.HostedZoneId"},{"key":"Fn::Sub","value":[],"path":"$.Properties.Parameters.APICertificateId"}],"prefix":"root","hidden":false,"type":"AWS::CloudFormation::Stack","label":"ApiPipelineStack","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-CloudFormation_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23B0084D%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF4F8B%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-CloudFormation_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FManagement-Governance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M53%2C39.9632039%20L58%2C39.9632039%20L58%2C37.9601375%20L53%2C37.9601375%20L53%2C39.9632039%20Z%20M28%2C51.9816019%20L33%2C51.9816019%20L33%2C49.9785356%20L28%2C49.9785356%20L28%2C51.9816019%20Z%20M18%2C51.9816019%20L25%2C51.9816019%20L25%2C49.9785356%20L18%2C49.9785356%20L18%2C51.9816019%20Z%20M18%2C45.9724029%20L30%2C45.9724029%20L30%2C43.9693366%20L18%2C43.9693366%20L18%2C45.9724029%20Z%20M18%2C33.9540048%20L27%2C33.9540048%20L27%2C31.9509385%20L18%2C31.9509385%20L18%2C33.9540048%20Z%20M18%2C39.9632039%20L51%2C39.9632039%20L51%2C37.9601375%20L18%2C37.9601375%20L18%2C39.9632039%20Z%20M37%2C61.9969337%20L14%2C61.9969337%20L14%2C27.9448058%20L37%2C27.9448058%20L37%2C35.9570712%20L39%2C35.9570712%20L39%2C26.9432726%20C39%2C26.3904263%2038.552%2C25.9417395%2038%2C25.9417395%20L13%2C25.9417395%20C12.447%2C25.9417395%2012%2C26.3904263%2012%2C26.9432726%20L12%2C62.9984668%20C12%2C63.5513131%2012.447%2C64%2013%2C64%20L38%2C64%20C38.552%2C64%2039%2C63.5513131%2039%2C62.9984668%20L39%2C42.9678034%20L37%2C42.9678034%20L37%2C61.9969337%20Z%20M68%2C36.9586044%20C68%2C43.4305117%2062.173%2C45.6819583%2059.092%2C45.9683968%20L43%2C45.9724029%20L43%2C43.9693366%20L59%2C43.9693366%20C59.195%2C43.9463013%2066%2C43.2121775%2066%2C36.9586044%20C66%2C31.2638867%2060.863%2C30.1081175%2059.834%2C29.9338507%20C59.321%2C29.8467173%2058.96%2C29.3820059%2059.004%2C28.8632117%20C59.005%2C28.8441826%2059.007%2C28.826155%2059.009%2C28.8081274%20C58.954%2C25.5902013%2056.981%2C24.584662%2056.126%2C24.3002266%20C54.53%2C23.769414%2052.751%2C24.2771913%2051.81%2C25.5391231%20C51.591%2C25.8355769%2051.229%2C25.9868085%2050.861%2C25.9307226%20C50.497%2C25.8756383%2050.192%2C25.625255%2050.068%2C25.2767214%20C49.447%2C23.5360568%2048.546%2C22.4083304%2047.293%2C21.1534094%20C44.159%2C18.0386412%2039.905%2C17.1783242%2035.925%2C18.8528877%20C33.837%2C19.7332353%2032.012%2C21.7282894%2030.922%2C24.327268%20L29.078%2C23.5500782%20C30.37%2C20.4743699%2032.584%2C18.0887179%2035.15%2C17.007062%20C39.905%2C15.0049972%2044.971%2C16.0255595%2048.704%2C19.7342369%20C49.774%2C20.8068789%2050.66%2C21.851478%2051.35%2C23.2035478%20C52.843%2C22.0978551%2054.857%2C21.7673492%2056.757%2C22.3993166%20C59.189%2C23.2085554%2060.727%2C25.3207889%2060.975%2C28.1290879%20C64.381%2C28.9884034%2068%2C31.7115721%2068%2C36.9586044%20L68%2C36.9586044%20Z%22%20id%3D%22AWS-CloudFormation_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"DeletionPolicy: Delete\nUpdateReplacePolicy: Delete\nType: 'AWS::CloudFormation::Stack'\nProperties:\n  TemplateURL: !!Sub 'https://${S3BucketName}.s3.amazonaws.com/api-pipeline.yml'\n  TimeoutInMinutes: 20\n  Parameters:\n    EnvironmentName: !!Ref EnvironmentName\n    VpcStack: !!Sub \n      - '${NestedStackName}'\n      - NestedStackName: !!Select \n          - 1\n          - !!Split \n            - /\n            - !!Ref VpcStack\n    GitHubOwner: !!Ref GitHubOwner\n    GitHubRepo: !!Ref GitHubRepoAPI\n    GitHubBranch: !!Ref GitHubBranch\n    GitHubTokenSecretName: !!Ref GitHubTokenSecretName\n    GitHubTokenSecretKeyName: !!Ref GitHubTokenSecretKeyName\n    MaxContainers: !!Ref MaxContainers\n    Image: !!Ref Image\n    DomainName: !!Ref DomainName\n    APISubDomainName: !!Ref APISubDomainName\n    AlertDetailType: !!Ref SiteDeployAlertDetailType\n    SnsTopicArns: !!Sub \n      - '${NestedStackName}-SNSTopicArn'\n      - NestedStackName: !!Select \n          - 1\n          - !!Split \n            - /\n            - !!Ref SitePipelineStack\n    HostedZoneId: !!Sub \n      - '${NestedStackName}-HostedZoneID'\n      - NestedStackName: !!Select \n          - 1\n          - !!Split \n            - /\n            - !!Ref DnsStack\n    APICertificateId: !!Sub \n      - '${NestedStackName}-APICertificateID'\n      - NestedStackName: !!Select \n          - 1\n          - !!Split \n            - /\n            - !!Ref DnsStack\n  Tags:\n    - Key: Name\n      Value: !!Ref EnvironmentName\n","resource":{"DeletionPolicy":"Delete","UpdateReplacePolicy":"Delete","Type":"AWS::CloudFormation::Stack","Properties":{"TemplateURL":{"Fn::Sub":"https://${S3BucketName}.s3.amazonaws.com/api-pipeline.yml"},"TimeoutInMinutes":20,"Parameters":{"EnvironmentName":{"Ref":"EnvironmentName"},"VpcStack":{"Fn::Sub":["${NestedStackName}",{"NestedStackName":{"Fn::Select":[1,{"Fn::Split":["/",{"Ref":"VpcStack"}]}]}}]},"GitHubOwner":{"Ref":"GitHubOwner"},"GitHubRepo":{"Ref":"GitHubRepoAPI"},"GitHubBranch":{"Ref":"GitHubBranch"},"GitHubTokenSecretName":{"Ref":"GitHubTokenSecretName"},"GitHubTokenSecretKeyName":{"Ref":"GitHubTokenSecretKeyName"},"MaxContainers":{"Ref":"MaxContainers"},"Image":{"Ref":"Image"},"DomainName":{"Ref":"DomainName"},"APISubDomainName":{"Ref":"APISubDomainName"},"AlertDetailType":{"Ref":"SiteDeployAlertDetailType"},"SnsTopicArns":{"Fn::Sub":["${NestedStackName}-SNSTopicArn",{"NestedStackName":{"Fn::Select":[1,{"Fn::Split":["/",{"Ref":"SitePipelineStack"}]}]}}]},"HostedZoneId":{"Fn::Sub":["${NestedStackName}-HostedZoneID",{"NestedStackName":{"Fn::Select":[1,{"Fn::Split":["/",{"Ref":"DnsStack"}]}]}}]},"APICertificateId":{"Fn::Sub":["${NestedStackName}-APICertificateID",{"NestedStackName":{"Fn::Select":[1,{"Fn::Split":["/",{"Ref":"DnsStack"}]}]}}]}},"Tags":[{"Key":"Name","Value":{"Ref":"EnvironmentName"}}]}}},{"id":"root.ChatbotStack","dependencies":[{"key":"Ref","value":[],"path":"$.Properties.Parameters.EnvironmentName"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.ConfigurationName"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.SlackChannelId"},{"key":"Ref","value":[],"path":"$.Properties.Parameters.SlackWorkspaceId"},{"key":"Ref","value":["SitePipelineStack"],"path":"$.Properties.Parameters.SnsTopicArns"},{"key":"Ref","value":[],"path":"$.Properties.Tags.Value"},{"key":"Fn::Sub","value":[],"path":"$.Properties.TemplateURL"},{"key":"Fn::Sub","value":[],"path":"$.Properties.Parameters.SnsTopicArns"}],"prefix":"root","hidden":false,"type":"AWS::CloudFormation::Stack","label":"ChatbotStack","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-CloudFormation_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23B0084D%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF4F8B%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-CloudFormation_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FManagement-Governance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M53%2C39.9632039%20L58%2C39.9632039%20L58%2C37.9601375%20L53%2C37.9601375%20L53%2C39.9632039%20Z%20M28%2C51.9816019%20L33%2C51.9816019%20L33%2C49.9785356%20L28%2C49.9785356%20L28%2C51.9816019%20Z%20M18%2C51.9816019%20L25%2C51.9816019%20L25%2C49.9785356%20L18%2C49.9785356%20L18%2C51.9816019%20Z%20M18%2C45.9724029%20L30%2C45.9724029%20L30%2C43.9693366%20L18%2C43.9693366%20L18%2C45.9724029%20Z%20M18%2C33.9540048%20L27%2C33.9540048%20L27%2C31.9509385%20L18%2C31.9509385%20L18%2C33.9540048%20Z%20M18%2C39.9632039%20L51%2C39.9632039%20L51%2C37.9601375%20L18%2C37.9601375%20L18%2C39.9632039%20Z%20M37%2C61.9969337%20L14%2C61.9969337%20L14%2C27.9448058%20L37%2C27.9448058%20L37%2C35.9570712%20L39%2C35.9570712%20L39%2C26.9432726%20C39%2C26.3904263%2038.552%2C25.9417395%2038%2C25.9417395%20L13%2C25.9417395%20C12.447%2C25.9417395%2012%2C26.3904263%2012%2C26.9432726%20L12%2C62.9984668%20C12%2C63.5513131%2012.447%2C64%2013%2C64%20L38%2C64%20C38.552%2C64%2039%2C63.5513131%2039%2C62.9984668%20L39%2C42.9678034%20L37%2C42.9678034%20L37%2C61.9969337%20Z%20M68%2C36.9586044%20C68%2C43.4305117%2062.173%2C45.6819583%2059.092%2C45.9683968%20L43%2C45.9724029%20L43%2C43.9693366%20L59%2C43.9693366%20C59.195%2C43.9463013%2066%2C43.2121775%2066%2C36.9586044%20C66%2C31.2638867%2060.863%2C30.1081175%2059.834%2C29.9338507%20C59.321%2C29.8467173%2058.96%2C29.3820059%2059.004%2C28.8632117%20C59.005%2C28.8441826%2059.007%2C28.826155%2059.009%2C28.8081274%20C58.954%2C25.5902013%2056.981%2C24.584662%2056.126%2C24.3002266%20C54.53%2C23.769414%2052.751%2C24.2771913%2051.81%2C25.5391231%20C51.591%2C25.8355769%2051.229%2C25.9868085%2050.861%2C25.9307226%20C50.497%2C25.8756383%2050.192%2C25.625255%2050.068%2C25.2767214%20C49.447%2C23.5360568%2048.546%2C22.4083304%2047.293%2C21.1534094%20C44.159%2C18.0386412%2039.905%2C17.1783242%2035.925%2C18.8528877%20C33.837%2C19.7332353%2032.012%2C21.7282894%2030.922%2C24.327268%20L29.078%2C23.5500782%20C30.37%2C20.4743699%2032.584%2C18.0887179%2035.15%2C17.007062%20C39.905%2C15.0049972%2044.971%2C16.0255595%2048.704%2C19.7342369%20C49.774%2C20.8068789%2050.66%2C21.851478%2051.35%2C23.2035478%20C52.843%2C22.0978551%2054.857%2C21.7673492%2056.757%2C22.3993166%20C59.189%2C23.2085554%2060.727%2C25.3207889%2060.975%2C28.1290879%20C64.381%2C28.9884034%2068%2C31.7115721%2068%2C36.9586044%20L68%2C36.9586044%20Z%22%20id%3D%22AWS-CloudFormation_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"DeletionPolicy: Delete\nUpdateReplacePolicy: Delete\nType: 'AWS::CloudFormation::Stack'\nProperties:\n  TemplateURL: !!Sub 'https://${S3BucketName}.s3.amazonaws.com/chatbot.yml'\n  TimeoutInMinutes: 20\n  Parameters:\n    EnvironmentName: !!Ref EnvironmentName\n    ConfigurationName: !!Ref SiteChatbotConfigurationName\n    SlackChannelId: !!Ref SiteSlackChannelId\n    SlackWorkspaceId: !!Ref SiteSlackWorkspaceId\n    SnsTopicArns: !!Sub \n      - '${NestedStackName}-SNSTopicArn'\n      - NestedStackName: !!Select \n          - 1\n          - !!Split \n            - /\n            - !!Ref SitePipelineStack\n  Tags:\n    - Key: Name\n      Value: !!Ref EnvironmentName\n","resource":{"DeletionPolicy":"Delete","UpdateReplacePolicy":"Delete","Type":"AWS::CloudFormation::Stack","Properties":{"TemplateURL":{"Fn::Sub":"https://${S3BucketName}.s3.amazonaws.com/chatbot.yml"},"TimeoutInMinutes":20,"Parameters":{"EnvironmentName":{"Ref":"EnvironmentName"},"ConfigurationName":{"Ref":"SiteChatbotConfigurationName"},"SlackChannelId":{"Ref":"SiteSlackChannelId"},"SlackWorkspaceId":{"Ref":"SiteSlackWorkspaceId"},"SnsTopicArns":{"Fn::Sub":["${NestedStackName}-SNSTopicArn",{"NestedStackName":{"Fn::Select":[1,{"Fn::Split":["/",{"Ref":"SitePipelineStack"}]}]}}]}},"Tags":[{"Key":"Name","Value":{"Ref":"EnvironmentName"}}]}}}]);
  var edges = new vis.DataSet([{"from":"root.WebStack","to":"root.DnsStack","label":"HostedZoneId","color":{"color":"#9a53ac"}},{"from":"root.SitePipelineStack","to":"root.WebStack","label":"WebsiteBucket","color":{"color":"#c5879d"}},{"from":"root.DBStack","to":"root.VpcStack","label":"ParentVPCStack","color":{"color":"#405bbf"}},{"from":"root.ApiPipelineStack","to":"root.VpcStack","label":"VpcStack","color":{"color":"#79a7d2"}},{"from":"root.ApiPipelineStack","to":"root.SitePipelineStack","label":"SnsTopicArns","color":{"color":"#40bf9b"}},{"from":"root.ApiPipelineStack","to":"root.DnsStack","label":"HostedZoneId","color":{"color":"#9a53ac"}},{"from":"root.ApiPipelineStack","to":"root.DnsStack","label":"APICertificateId","color":{"color":"#1f5593"}},{"from":"root.ChatbotStack","to":"root.SitePipelineStack","label":"SnsTopicArns","color":{"color":"#40bf9b"}}]);
  var nested = [];
  var types = ["AWS::CloudFormation::Stack"];
  var showSidebar = true;
  