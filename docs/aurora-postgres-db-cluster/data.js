
  var renderAll = false
  var nodes = new vis.DataSet([{"id":"root.MonitoringIAMRole","dependencies":[{"key":"Ref","value":["iam  aws\npolicy/service-role/amazonrdsenhancedmonitoringrole"],"path":"$.Properties.ManagedPolicyArns"}],"prefix":"root","hidden":false,"type":"AWS::IAM::Role","label":"MonitoringIAMRole","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-Identity-and-Access-Management_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23BD0816%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF5252%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-Identity-and-Access-Management_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FSecurity-Identity-Compliance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M14%2C59%20L66%2C59%20L66%2C21%20L14%2C21%20L14%2C59%20Z%20M68%2C20%20L68%2C60%20C68%2C60.552%2067.553%2C61%2067%2C61%20L13%2C61%20C12.447%2C61%2012%2C60.552%2012%2C60%20L12%2C20%20C12%2C19.448%2012.447%2C19%2013%2C19%20L67%2C19%20C67.553%2C19%2068%2C19.448%2068%2C20%20L68%2C20%20Z%20M44%2C48%20L59%2C48%20L59%2C46%20L44%2C46%20L44%2C48%20Z%20M57%2C42%20L62%2C42%20L62%2C40%20L57%2C40%20L57%2C42%20Z%20M44%2C42%20L52%2C42%20L52%2C40%20L44%2C40%20L44%2C42%20Z%20M29%2C46%20C29%2C45.449%2028.552%2C45%2028%2C45%20C27.448%2C45%2027%2C45.449%2027%2C46%20C27%2C46.551%2027.448%2C47%2028%2C47%20C28.552%2C47%2029%2C46.551%2029%2C46%20L29%2C46%20Z%20M31%2C46%20C31%2C47.302%2030.161%2C48.401%2029%2C48.816%20L29%2C51%20L27%2C51%20L27%2C48.815%20C25.839%2C48.401%2025%2C47.302%2025%2C46%20C25%2C44.346%2026.346%2C43%2028%2C43%20C29.654%2C43%2031%2C44.346%2031%2C46%20L31%2C46%20Z%20M19%2C53.993%20L36.994%2C54%20L36.996%2C50%20L33%2C50%20L33%2C48%20L36.996%2C48%20L36.998%2C45%20L33%2C45%20L33%2C43%20L36.999%2C43%20L37%2C40.007%20L19.006%2C40%20L19%2C53.993%20Z%20M22%2C38.001%20L34%2C38.006%20L34%2C31%20C34.001%2C28.697%2031.197%2C26.677%2028%2C26.675%20L27.996%2C26.675%20C24.804%2C26.675%2022.004%2C28.696%2022.002%2C31%20L22%2C38.001%20Z%20M17%2C54.992%20L17.006%2C39%20C17.006%2C38.734%2017.111%2C38.48%2017.299%2C38.292%20C17.486%2C38.105%2017.741%2C38%2018.006%2C38%20L20%2C38.001%20L20.002%2C31%20C20.004%2C27.512%2023.59%2C24.675%2027.996%2C24.675%20L28%2C24.675%20C32.412%2C24.677%2036.001%2C27.515%2036%2C31%20L36%2C38.007%20L38%2C38.008%20C38.553%2C38.008%2039%2C38.456%2039%2C39.008%20L38.994%2C55%20C38.994%2C55.266%2038.889%2C55.52%2038.701%2C55.708%20C38.514%2C55.895%2038.259%2C56%2037.994%2C56%20L18%2C55.992%20C17.447%2C55.992%2017%2C55.544%2017%2C54.992%20L17%2C54.992%20Z%20M60%2C36%20L62%2C36%20L62%2C34%20L60%2C34%20L60%2C36%20Z%20M44%2C36%20L55%2C36%20L55%2C34%20L44%2C34%20L44%2C36%20Z%22%20id%3D%22AWS-Identity-and-Access-Management_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Type: 'AWS::IAM::Role'\nCondition: IsProd\nProperties:\n  AssumeRolePolicyDocument:\n    Version: 2012-10-17\n    Statement:\n      - Effect: Allow\n        Principal:\n          Service:\n            - monitoring.rds.amazonaws.com\n        Action:\n          - 'sts:AssumeRole'\n  Path: /\n  ManagedPolicyArns:\n    - !!Ref |-\n      iam  aws\n      policy/service-role/amazonrdsenhancedmonitoringrole\n","resource":{"Type":"AWS::IAM::Role","Condition":"IsProd","Properties":{"AssumeRolePolicyDocument":{"Version":"2012-10-17","Statement":[{"Effect":"Allow","Principal":{"Service":["monitoring.rds.amazonaws.com"]},"Action":["sts:AssumeRole"]}]},"Path":"/","ManagedPolicyArns":[{"Ref":"iam  aws\npolicy/service-role/amazonrdsenhancedmonitoringrole"}]}}},{"id":"root.DBBootStrapLambdaRole","dependencies":[{"key":"Ref","value":["iam  aws\npolicy/service-role/awslambdavpcaccessexecutionrole"],"path":"$.Properties.ManagedPolicyArns"},{"key":"Ref","value":["AuroraMasterSecret"],"path":"$.Properties.Policies.PolicyDocument.Statement.Resource"}],"prefix":"root","hidden":false,"type":"AWS::IAM::Role","label":"DBBootStrapLambdaRole","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-Identity-and-Access-Management_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23BD0816%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF5252%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-Identity-and-Access-Management_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FSecurity-Identity-Compliance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M14%2C59%20L66%2C59%20L66%2C21%20L14%2C21%20L14%2C59%20Z%20M68%2C20%20L68%2C60%20C68%2C60.552%2067.553%2C61%2067%2C61%20L13%2C61%20C12.447%2C61%2012%2C60.552%2012%2C60%20L12%2C20%20C12%2C19.448%2012.447%2C19%2013%2C19%20L67%2C19%20C67.553%2C19%2068%2C19.448%2068%2C20%20L68%2C20%20Z%20M44%2C48%20L59%2C48%20L59%2C46%20L44%2C46%20L44%2C48%20Z%20M57%2C42%20L62%2C42%20L62%2C40%20L57%2C40%20L57%2C42%20Z%20M44%2C42%20L52%2C42%20L52%2C40%20L44%2C40%20L44%2C42%20Z%20M29%2C46%20C29%2C45.449%2028.552%2C45%2028%2C45%20C27.448%2C45%2027%2C45.449%2027%2C46%20C27%2C46.551%2027.448%2C47%2028%2C47%20C28.552%2C47%2029%2C46.551%2029%2C46%20L29%2C46%20Z%20M31%2C46%20C31%2C47.302%2030.161%2C48.401%2029%2C48.816%20L29%2C51%20L27%2C51%20L27%2C48.815%20C25.839%2C48.401%2025%2C47.302%2025%2C46%20C25%2C44.346%2026.346%2C43%2028%2C43%20C29.654%2C43%2031%2C44.346%2031%2C46%20L31%2C46%20Z%20M19%2C53.993%20L36.994%2C54%20L36.996%2C50%20L33%2C50%20L33%2C48%20L36.996%2C48%20L36.998%2C45%20L33%2C45%20L33%2C43%20L36.999%2C43%20L37%2C40.007%20L19.006%2C40%20L19%2C53.993%20Z%20M22%2C38.001%20L34%2C38.006%20L34%2C31%20C34.001%2C28.697%2031.197%2C26.677%2028%2C26.675%20L27.996%2C26.675%20C24.804%2C26.675%2022.004%2C28.696%2022.002%2C31%20L22%2C38.001%20Z%20M17%2C54.992%20L17.006%2C39%20C17.006%2C38.734%2017.111%2C38.48%2017.299%2C38.292%20C17.486%2C38.105%2017.741%2C38%2018.006%2C38%20L20%2C38.001%20L20.002%2C31%20C20.004%2C27.512%2023.59%2C24.675%2027.996%2C24.675%20L28%2C24.675%20C32.412%2C24.677%2036.001%2C27.515%2036%2C31%20L36%2C38.007%20L38%2C38.008%20C38.553%2C38.008%2039%2C38.456%2039%2C39.008%20L38.994%2C55%20C38.994%2C55.266%2038.889%2C55.52%2038.701%2C55.708%20C38.514%2C55.895%2038.259%2C56%2037.994%2C56%20L18%2C55.992%20C17.447%2C55.992%2017%2C55.544%2017%2C54.992%20L17%2C54.992%20Z%20M60%2C36%20L62%2C36%20L62%2C34%20L60%2C34%20L60%2C36%20Z%20M44%2C36%20L55%2C36%20L55%2C34%20L44%2C34%20L44%2C36%20Z%22%20id%3D%22AWS-Identity-and-Access-Management_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Type: 'AWS::IAM::Role'\nCondition: DoDBBootStrap\nProperties:\n  AssumeRolePolicyDocument:\n    Version: 2012-10-17\n    Statement:\n      - Effect: Allow\n        Principal:\n          Service:\n            - lambda.amazonaws.com\n        Action:\n          - 'sts:AssumeRole'\n  Path: /\n  ManagedPolicyArns:\n    - !!Ref |-\n      iam  aws\n      policy/service-role/awslambdavpcaccessexecutionrole\n  Policies:\n    - PolicyName: secretaccess\n      PolicyDocument:\n        Version: 2012-10-17\n        Statement:\n          - Effect: Allow\n            Action: 'secretsmanager:GetSecretValue'\n            Resource: !!Ref AuroraMasterSecret\n","resource":{"Type":"AWS::IAM::Role","Condition":"DoDBBootStrap","Properties":{"AssumeRolePolicyDocument":{"Version":"2012-10-17","Statement":[{"Effect":"Allow","Principal":{"Service":["lambda.amazonaws.com"]},"Action":["sts:AssumeRole"]}]},"Path":"/","ManagedPolicyArns":[{"Ref":"iam  aws\npolicy/service-role/awslambdavpcaccessexecutionrole"}],"Policies":[{"PolicyName":"secretaccess","PolicyDocument":{"Version":"2012-10-17","Statement":[{"Effect":"Allow","Action":"secretsmanager:GetSecretValue","Resource":{"Ref":"AuroraMasterSecret"}}]}}]}}},{"id":"root.DBSNSTopic","dependencies":[{"key":"Ref","value":[],"path":"$.Properties.Subscription.Endpoint"}],"prefix":"root","hidden":false,"type":"AWS::SNS::Topic","label":"DBSNSTopic","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-Simple-Notification-Service_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23B0084D%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF4F8B%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-Simple-Notification-Service_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FApplication-Integration%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M17%2C38%20C18.103%2C38%2019%2C38.897%2019%2C40%20C19%2C41.103%2018.103%2C42%2017%2C42%20C15.897%2C42%2015%2C41.103%2015%2C40%20C15%2C38.897%2015.897%2C38%2017%2C38%20L17%2C38%20Z%20M41%2C64%20C29.314%2C64%2019.289%2C55.466%2017.194%2C43.98%20C18.965%2C43.894%2020.427%2C42.659%2020.857%2C41%20L27%2C41%20L27%2C39%20L20.857%2C39%20C20.427%2C37.342%2018.966%2C36.107%2017.195%2C36.02%20C19.285%2C24.71%2029.511%2C16%2041%2C16%20C45.313%2C16%2049.832%2C17.622%2054.429%2C20.821%20L55.571%2C19.179%20C50.633%2C15.743%2045.73%2C14%2041%2C14%20C28.27%2C14%2016.949%2C23.865%2015.063%2C36.521%20C13.839%2C37.207%2013%2C38.5%2013%2C40%20C13%2C41.5%2013.839%2C42.793%2015.063%2C43.478%20C16.97%2C56.341%2028.056%2C66%2041%2C66%20C46.407%2C66%2051.942%2C64.157%2056.585%2C60.811%20L55.415%2C59.189%20C51.11%2C62.292%2045.991%2C64%2041%2C64%20L41%2C64%20Z%20M30.101%2C36.442%20C31.955%2C36.895%2034.275%2C37%2036%2C37%20C37.642%2C37%2039.823%2C36.905%2041.629%2C36.506%20L37.105%2C45.553%20C37.036%2C45.691%2037%2C45.845%2037%2C46%20L37%2C50.453%20C36.199%2C50.964%2034.833%2C51.812%2034%2C51.986%20L34%2C46%20C34%2C45.868%2033.974%2C45.737%2033.923%2C45.615%20L30.101%2C36.442%20Z%20M36%2C33%20C40.025%2C33%2042.174%2C33.604%2042.841%2C34%20C42.174%2C34.396%2040.025%2C35%2036%2C35%20C31.975%2C35%2029.826%2C34.396%2029.159%2C34%20C29.826%2C33.604%2031.975%2C33%2036%2C33%20L36%2C33%20Z%20M33%2C54%20L34%2C54%20C34.043%2C54%2034.086%2C53.997%2034.128%2C53.992%20C35.352%2C53.833%2036.909%2C52.887%2038.272%2C52.013%20L38.535%2C51.845%20C38.824%2C51.661%2039%2C51.342%2039%2C51%20L39%2C46.236%20L44.559%2C35.12%20C44.833%2C34.801%2045%2C34.434%2045%2C34%20C45%2C31.39%2039.361%2C31%2036%2C31%20C32.639%2C31%2027%2C31.39%2027%2C34%20C27%2C34.366%2027.12%2C34.684%2027.32%2C34.967%20L32%2C46.2%20L32%2C53%20C32%2C53.552%2032.447%2C54%2033%2C54%20L33%2C54%20Z%20M62%2C53%20C63.103%2C53%2064%2C53.897%2064%2C55%20C64%2C56.103%2063.103%2C57%2062%2C57%20C60.897%2C57%2060%2C56.103%2060%2C55%20C60%2C53.897%2060.897%2C53%2062%2C53%20L62%2C53%20Z%20M62%2C23%20C63.103%2C23%2064%2C23.897%2064%2C25%20C64%2C26.103%2063.103%2C27%2062%2C27%20C60.897%2C27%2060%2C26.103%2060%2C25%20C60%2C23.897%2060.897%2C23%2062%2C23%20L62%2C23%20Z%20M64%2C38%20C65.103%2C38%2066%2C38.897%2066%2C40%20C66%2C41.103%2065.103%2C42%2064%2C42%20C62.897%2C42%2062%2C41.103%2062%2C40%20C62%2C38.897%2062.897%2C38%2064%2C38%20L64%2C38%20Z%20M54%2C41%20L60.143%2C41%20C60.589%2C42.72%2062.142%2C44%2064%2C44%20C66.206%2C44%2068%2C42.206%2068%2C40%20C68%2C37.794%2066.206%2C36%2064%2C36%20C62.142%2C36%2060.589%2C37.28%2060.143%2C39%20L54%2C39%20L54%2C26%20L58.143%2C26%20C58.589%2C27.72%2060.142%2C29%2062%2C29%20C64.206%2C29%2066%2C27.206%2066%2C25%20C66%2C22.794%2064.206%2C21%2062%2C21%20C60.142%2C21%2058.589%2C22.28%2058.143%2C24%20L53%2C24%20C52.447%2C24%2052%2C24.448%2052%2C25%20L52%2C39%20L45%2C39%20L45%2C41%20L52%2C41%20L52%2C55%20C52%2C55.552%2052.447%2C56%2053%2C56%20L58.143%2C56%20C58.589%2C57.72%2060.142%2C59%2062%2C59%20C64.206%2C59%2066%2C57.206%2066%2C55%20C66%2C52.794%2064.206%2C51%2062%2C51%20C60.142%2C51%2058.589%2C52.28%2058.143%2C54%20L54%2C54%20L54%2C41%20Z%22%20id%3D%22AWS-Simple-Notification-Service_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Type: 'AWS::SNS::Topic'\nProperties:\n  Subscription:\n    - Endpoint: !!Ref NotificationList\n      Protocol: email\n","resource":{"Type":"AWS::SNS::Topic","Properties":{"Subscription":[{"Endpoint":{"Ref":"NotificationList"},"Protocol":"email"}]}}},{"id":"root.DBSubnetGroup","dependencies":[{"key":"Fn::Sub","value":[],"path":"$.Properties.SubnetIds"}],"prefix":"root","hidden":false,"type":"AWS::RDS::DBSubnetGroup","label":"DBSubnetGroup","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_Amazon-RDS_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%232E27AD%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23527FFF%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_Amazon-RDS_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FDatabase%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M15.414%2C14%20L24.707%2C23.293%20L23.293%2C24.707%20L14%2C15.414%20L14%2C23%20L12%2C23%20L12%2C13%20C12%2C12.448%2012.447%2C12%2013%2C12%20L23%2C12%20L23%2C14%20L15.414%2C14%20Z%20M68%2C13%20L68%2C23%20L66%2C23%20L66%2C15.414%20L56.707%2C24.707%20L55.293%2C23.293%20L64.586%2C14%20L57%2C14%20L57%2C12%20L67%2C12%20C67.553%2C12%2068%2C12.448%2068%2C13%20L68%2C13%20Z%20M66%2C57%20L68%2C57%20L68%2C67%20C68%2C67.552%2067.553%2C68%2067%2C68%20L57%2C68%20L57%2C66%20L64.586%2C66%20L55.293%2C56.707%20L56.707%2C55.293%20L66%2C64.586%20L66%2C57%20Z%20M65.5%2C39.213%20C65.5%2C35.894%2061.668%2C32.615%2055.25%2C30.442%20L55.891%2C28.548%20C63.268%2C31.045%2067.5%2C34.932%2067.5%2C39.213%20C67.5%2C43.495%2063.268%2C47.383%2055.89%2C49.879%20L55.249%2C47.984%20C61.668%2C45.812%2065.5%2C42.534%2065.5%2C39.213%20L65.5%2C39.213%20Z%20M14.556%2C39.213%20C14.556%2C42.393%2018.143%2C45.585%2024.152%2C47.753%20L23.473%2C49.634%20C16.535%2C47.131%2012.556%2C43.333%2012.556%2C39.213%20C12.556%2C35.094%2016.535%2C31.296%2023.473%2C28.792%20L24.152%2C30.673%20C18.143%2C32.842%2014.556%2C36.034%2014.556%2C39.213%20L14.556%2C39.213%20Z%20M24.707%2C56.707%20L15.414%2C66%20L23%2C66%20L23%2C68%20L13%2C68%20C12.447%2C68%2012%2C67.552%2012%2C67%20L12%2C57%20L14%2C57%20L14%2C64.586%20L23.293%2C55.293%20L24.707%2C56.707%20Z%20M40%2C31.286%20C32.854%2C31.286%2029%2C29.44%2029%2C28.686%20C29%2C27.931%2032.854%2C26.086%2040%2C26.086%20C47.145%2C26.086%2051%2C27.931%2051%2C28.686%20C51%2C29.44%2047.145%2C31.286%2040%2C31.286%20L40%2C31.286%20Z%20M40.029%2C39.031%20C33.187%2C39.031%2029%2C37.162%2029%2C36.145%20L29%2C31.284%20C31.463%2C32.643%2035.832%2C33.286%2040%2C33.286%20C44.168%2C33.286%2048.537%2C32.643%2051%2C31.284%20L51%2C36.145%20C51%2C37.163%2046.835%2C39.031%2040.029%2C39.031%20L40.029%2C39.031%20Z%20M40.029%2C46.667%20C33.187%2C46.667%2029%2C44.798%2029%2C43.781%20L29%2C38.862%20C31.431%2C40.291%2035.742%2C41.031%2040.029%2C41.031%20C44.292%2C41.031%2048.578%2C40.292%2051%2C38.867%20L51%2C43.781%20C51%2C44.799%2046.835%2C46.667%2040.029%2C46.667%20L40.029%2C46.667%20Z%20M40%2C53.518%20C32.883%2C53.518%2029%2C51.605%2029%2C50.622%20L29%2C46.498%20C31.431%2C47.927%2035.742%2C48.667%2040.029%2C48.667%20C44.292%2C48.667%2048.578%2C47.929%2051%2C46.503%20L51%2C50.622%20C51%2C51.605%2047.117%2C53.518%2040%2C53.518%20L40%2C53.518%20Z%20M40%2C24.086%20C33.739%2C24.086%2027%2C25.525%2027%2C28.686%20L27%2C50.622%20C27%2C53.836%2033.54%2C55.518%2040%2C55.518%20C46.46%2C55.518%2053%2C53.836%2053%2C50.622%20L53%2C28.686%20C53%2C25.525%2046.261%2C24.086%2040%2C24.086%20L40%2C24.086%20Z%22%20id%3D%22Amazon-RDS_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Type: 'AWS::RDS::DBSubnetGroup'\nProperties:\n  DBSubnetGroupDescription: !!Ref 'AWS::StackName'\n  SubnetIds: !!Split \n    - ','\n    - !!ImportValue \n      'Fn::Sub': '${ParentVPCStack}-SubnetsPrivate'\n","resource":{"Type":"AWS::RDS::DBSubnetGroup","Properties":{"DBSubnetGroupDescription":{"Ref":"AWS::StackName"},"SubnetIds":{"Fn::Split":[",",{"Fn::ImportValue":{"Fn::Sub":"${ParentVPCStack}-SubnetsPrivate"}}]}}}},{"id":"root.ClusterSecurityGroup","dependencies":[{"key":"Ref","value":[],"path":"$.Properties.SecurityGroupIngress.FromPort"},{"key":"Ref","value":[],"path":"$.Properties.SecurityGroupIngress.ToPort"},{"key":"Fn::Sub","value":[],"path":"$.Properties.SecurityGroupIngress.SourceSecurityGroupId"},{"key":"Fn::Sub","value":[],"path":"$.Properties.VpcId"}],"prefix":"root","hidden":false,"type":"AWS::EC2::SecurityGroup","label":"ClusterSecurityGroup","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_Amazon-EC2_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23C8511B%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF9900%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_Amazon-EC2_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FCompute%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M27%2C53%20L52%2C53%20L52%2C28%20L27%2C28%20L27%2C53%20Z%20M54%2C28%20L58%2C28%20L58%2C30%20L54%2C30%20L54%2C34%20L58%2C34%20L58%2C36%20L54%2C36%20L54%2C39%20L58%2C39%20L58%2C41%20L54%2C41%20L54%2C45%20L58%2C45%20L58%2C47%20L54%2C47%20L54%2C51%20L58%2C51%20L58%2C53%20L54%2C53%20L54%2C53.136%20C54%2C54.164%2053.164%2C55%2052.136%2C55%20L52%2C55%20L52%2C59%20L50%2C59%20L50%2C55%20L46%2C55%20L46%2C59%20L44%2C59%20L44%2C55%20L41%2C55%20L41%2C59%20L39%2C59%20L39%2C55%20L35%2C55%20L35%2C59%20L33%2C59%20L33%2C55%20L29%2C55%20L29%2C59%20L27%2C59%20L27%2C55%20L26.864%2C55%20C25.836%2C55%2025%2C54.164%2025%2C53.136%20L25%2C53%20L22%2C53%20L22%2C51%20L25%2C51%20L25%2C47%20L22%2C47%20L22%2C45%20L25%2C45%20L25%2C41%20L22%2C41%20L22%2C39%20L25%2C39%20L25%2C36%20L22%2C36%20L22%2C34%20L25%2C34%20L25%2C30%20L22%2C30%20L22%2C28%20L25%2C28%20L25%2C27.864%20C25%2C26.836%2025.836%2C26%2026.864%2C26%20L27%2C26%20L27%2C22%20L29%2C22%20L29%2C26%20L33%2C26%20L33%2C22%20L35%2C22%20L35%2C26%20L39%2C26%20L39%2C22%20L41%2C22%20L41%2C26%20L44%2C26%20L44%2C22%20L46%2C22%20L46%2C26%20L50%2C26%20L50%2C22%20L52%2C22%20L52%2C26%20L52.136%2C26%20C53.164%2C26%2054%2C26.836%2054%2C27.864%20L54%2C28%20Z%20M41%2C65.876%20C41%2C65.944%2040.944%2C66%2040.876%2C66%20L14.124%2C66%20C14.056%2C66%2014%2C65.944%2014%2C65.876%20L14%2C39.124%20C14%2C39.056%2014.056%2C39%2014.124%2C39%20L20%2C39%20L20%2C37%20L14.124%2C37%20C12.953%2C37%2012%2C37.953%2012%2C39.124%20L12%2C65.876%20C12%2C67.047%2012.953%2C68%2014.124%2C68%20L40.876%2C68%20C42.047%2C68%2043%2C67.047%2043%2C65.876%20L43%2C61%20L41%2C61%20L41%2C65.876%20Z%20M68%2C14.124%20L68%2C40.876%20C68%2C42.047%2067.047%2C43%2065.876%2C43%20L60%2C43%20L60%2C41%20L65.876%2C41%20C65.944%2C41%2066%2C40.944%2066%2C40.876%20L66%2C14.124%20C66%2C14.056%2065.944%2C14%2065.876%2C14%20L39.124%2C14%20C39.056%2C14%2039%2C14.056%2039%2C14.124%20L39%2C20%20L37%2C20%20L37%2C14.124%20C37%2C12.953%2037.953%2C12%2039.124%2C12%20L65.876%2C12%20C67.047%2C12%2068%2C12.953%2068%2C14.124%20L68%2C14.124%20Z%22%20id%3D%22Amazon-EC2_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Type: 'AWS::EC2::SecurityGroup'\nProperties:\n  GroupDescription: !!Ref 'AWS::StackName'\n  SecurityGroupIngress:\n    - IpProtocol: tcp\n      FromPort: !!Ref DBPort\n      ToPort: !!Ref DBPort\n      SourceSecurityGroupId: !!ImportValue \n        'Fn::Sub': '${ParentVPCStack}-SecretRotationLambdaSecurityGroup'\n      Description: Access to Lambda Security Group\n  VpcId: !!ImportValue \n    'Fn::Sub': '${ParentVPCStack}-VPC'\n  Tags:\n    - Key: Name\n      Value: !!Sub '${AWS::StackName}-AuroraClusterSecurityGroup'\n","resource":{"Type":"AWS::EC2::SecurityGroup","Properties":{"GroupDescription":{"Ref":"AWS::StackName"},"SecurityGroupIngress":[{"IpProtocol":"tcp","FromPort":{"Ref":"DBPort"},"ToPort":{"Ref":"DBPort"},"SourceSecurityGroupId":{"Fn::ImportValue":{"Fn::Sub":"${ParentVPCStack}-SecretRotationLambdaSecurityGroup"}},"Description":"Access to Lambda Security Group"}],"VpcId":{"Fn::ImportValue":{"Fn::Sub":"${ParentVPCStack}-VPC"}},"Tags":[{"Key":"Name","Value":{"Fn::Sub":"${AWS::StackName}-AuroraClusterSecurityGroup"}}]}}},{"id":"root.ClusterSecurityGroupIngress","dependencies":[{"key":"Ref","value":["ClusterSecurityGroup"],"path":"$.Properties.SourceSecurityGroupId"},{"key":"Fn::GetAtt","value":["ClusterSecurityGroup"],"path":"$.Properties.GroupId"}],"prefix":"root","hidden":false,"type":"AWS::EC2::SecurityGroupIngress","label":"ClusterSecurityGroupIngress","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_Amazon-EC2_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23C8511B%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF9900%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_Amazon-EC2_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FCompute%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M27%2C53%20L52%2C53%20L52%2C28%20L27%2C28%20L27%2C53%20Z%20M54%2C28%20L58%2C28%20L58%2C30%20L54%2C30%20L54%2C34%20L58%2C34%20L58%2C36%20L54%2C36%20L54%2C39%20L58%2C39%20L58%2C41%20L54%2C41%20L54%2C45%20L58%2C45%20L58%2C47%20L54%2C47%20L54%2C51%20L58%2C51%20L58%2C53%20L54%2C53%20L54%2C53.136%20C54%2C54.164%2053.164%2C55%2052.136%2C55%20L52%2C55%20L52%2C59%20L50%2C59%20L50%2C55%20L46%2C55%20L46%2C59%20L44%2C59%20L44%2C55%20L41%2C55%20L41%2C59%20L39%2C59%20L39%2C55%20L35%2C55%20L35%2C59%20L33%2C59%20L33%2C55%20L29%2C55%20L29%2C59%20L27%2C59%20L27%2C55%20L26.864%2C55%20C25.836%2C55%2025%2C54.164%2025%2C53.136%20L25%2C53%20L22%2C53%20L22%2C51%20L25%2C51%20L25%2C47%20L22%2C47%20L22%2C45%20L25%2C45%20L25%2C41%20L22%2C41%20L22%2C39%20L25%2C39%20L25%2C36%20L22%2C36%20L22%2C34%20L25%2C34%20L25%2C30%20L22%2C30%20L22%2C28%20L25%2C28%20L25%2C27.864%20C25%2C26.836%2025.836%2C26%2026.864%2C26%20L27%2C26%20L27%2C22%20L29%2C22%20L29%2C26%20L33%2C26%20L33%2C22%20L35%2C22%20L35%2C26%20L39%2C26%20L39%2C22%20L41%2C22%20L41%2C26%20L44%2C26%20L44%2C22%20L46%2C22%20L46%2C26%20L50%2C26%20L50%2C22%20L52%2C22%20L52%2C26%20L52.136%2C26%20C53.164%2C26%2054%2C26.836%2054%2C27.864%20L54%2C28%20Z%20M41%2C65.876%20C41%2C65.944%2040.944%2C66%2040.876%2C66%20L14.124%2C66%20C14.056%2C66%2014%2C65.944%2014%2C65.876%20L14%2C39.124%20C14%2C39.056%2014.056%2C39%2014.124%2C39%20L20%2C39%20L20%2C37%20L14.124%2C37%20C12.953%2C37%2012%2C37.953%2012%2C39.124%20L12%2C65.876%20C12%2C67.047%2012.953%2C68%2014.124%2C68%20L40.876%2C68%20C42.047%2C68%2043%2C67.047%2043%2C65.876%20L43%2C61%20L41%2C61%20L41%2C65.876%20Z%20M68%2C14.124%20L68%2C40.876%20C68%2C42.047%2067.047%2C43%2065.876%2C43%20L60%2C43%20L60%2C41%20L65.876%2C41%20C65.944%2C41%2066%2C40.944%2066%2C40.876%20L66%2C14.124%20C66%2C14.056%2065.944%2C14%2065.876%2C14%20L39.124%2C14%20C39.056%2C14%2039%2C14.056%2039%2C14.124%20L39%2C20%20L37%2C20%20L37%2C14.124%20C37%2C12.953%2037.953%2C12%2039.124%2C12%20L65.876%2C12%20C67.047%2C12%2068%2C12.953%2068%2C14.124%20L68%2C14.124%20Z%22%20id%3D%22Amazon-EC2_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Type: 'AWS::EC2::SecurityGroupIngress'\nProperties:\n  GroupId: !!GetAtt ClusterSecurityGroup.GroupId\n  IpProtocol: -1\n  SourceSecurityGroupId: !!Ref ClusterSecurityGroup\n  Description: Self Reference\n","resource":{"Type":"AWS::EC2::SecurityGroupIngress","Properties":{"GroupId":{"Fn::GetAtt":["ClusterSecurityGroup","GroupId"]},"IpProtocol":-1,"SourceSecurityGroupId":{"Ref":"ClusterSecurityGroup"},"Description":"Self Reference"}}},{"id":"root.RDSDBClusterParameterGroup","dependencies":[{"key":"Ref","value":[],"path":"$.Properties.Description"},{"key":"Ref","value":[],"path":"$.Properties.Family"}],"prefix":"root","hidden":false,"type":"AWS::RDS::DBClusterParameterGroup","label":"RDSDBClusterParameterGroup","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_Amazon-RDS_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%232E27AD%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23527FFF%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_Amazon-RDS_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FDatabase%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M15.414%2C14%20L24.707%2C23.293%20L23.293%2C24.707%20L14%2C15.414%20L14%2C23%20L12%2C23%20L12%2C13%20C12%2C12.448%2012.447%2C12%2013%2C12%20L23%2C12%20L23%2C14%20L15.414%2C14%20Z%20M68%2C13%20L68%2C23%20L66%2C23%20L66%2C15.414%20L56.707%2C24.707%20L55.293%2C23.293%20L64.586%2C14%20L57%2C14%20L57%2C12%20L67%2C12%20C67.553%2C12%2068%2C12.448%2068%2C13%20L68%2C13%20Z%20M66%2C57%20L68%2C57%20L68%2C67%20C68%2C67.552%2067.553%2C68%2067%2C68%20L57%2C68%20L57%2C66%20L64.586%2C66%20L55.293%2C56.707%20L56.707%2C55.293%20L66%2C64.586%20L66%2C57%20Z%20M65.5%2C39.213%20C65.5%2C35.894%2061.668%2C32.615%2055.25%2C30.442%20L55.891%2C28.548%20C63.268%2C31.045%2067.5%2C34.932%2067.5%2C39.213%20C67.5%2C43.495%2063.268%2C47.383%2055.89%2C49.879%20L55.249%2C47.984%20C61.668%2C45.812%2065.5%2C42.534%2065.5%2C39.213%20L65.5%2C39.213%20Z%20M14.556%2C39.213%20C14.556%2C42.393%2018.143%2C45.585%2024.152%2C47.753%20L23.473%2C49.634%20C16.535%2C47.131%2012.556%2C43.333%2012.556%2C39.213%20C12.556%2C35.094%2016.535%2C31.296%2023.473%2C28.792%20L24.152%2C30.673%20C18.143%2C32.842%2014.556%2C36.034%2014.556%2C39.213%20L14.556%2C39.213%20Z%20M24.707%2C56.707%20L15.414%2C66%20L23%2C66%20L23%2C68%20L13%2C68%20C12.447%2C68%2012%2C67.552%2012%2C67%20L12%2C57%20L14%2C57%20L14%2C64.586%20L23.293%2C55.293%20L24.707%2C56.707%20Z%20M40%2C31.286%20C32.854%2C31.286%2029%2C29.44%2029%2C28.686%20C29%2C27.931%2032.854%2C26.086%2040%2C26.086%20C47.145%2C26.086%2051%2C27.931%2051%2C28.686%20C51%2C29.44%2047.145%2C31.286%2040%2C31.286%20L40%2C31.286%20Z%20M40.029%2C39.031%20C33.187%2C39.031%2029%2C37.162%2029%2C36.145%20L29%2C31.284%20C31.463%2C32.643%2035.832%2C33.286%2040%2C33.286%20C44.168%2C33.286%2048.537%2C32.643%2051%2C31.284%20L51%2C36.145%20C51%2C37.163%2046.835%2C39.031%2040.029%2C39.031%20L40.029%2C39.031%20Z%20M40.029%2C46.667%20C33.187%2C46.667%2029%2C44.798%2029%2C43.781%20L29%2C38.862%20C31.431%2C40.291%2035.742%2C41.031%2040.029%2C41.031%20C44.292%2C41.031%2048.578%2C40.292%2051%2C38.867%20L51%2C43.781%20C51%2C44.799%2046.835%2C46.667%2040.029%2C46.667%20L40.029%2C46.667%20Z%20M40%2C53.518%20C32.883%2C53.518%2029%2C51.605%2029%2C50.622%20L29%2C46.498%20C31.431%2C47.927%2035.742%2C48.667%2040.029%2C48.667%20C44.292%2C48.667%2048.578%2C47.929%2051%2C46.503%20L51%2C50.622%20C51%2C51.605%2047.117%2C53.518%2040%2C53.518%20L40%2C53.518%20Z%20M40%2C24.086%20C33.739%2C24.086%2027%2C25.525%2027%2C28.686%20L27%2C50.622%20C27%2C53.836%2033.54%2C55.518%2040%2C55.518%20C46.46%2C55.518%2053%2C53.836%2053%2C50.622%20L53%2C28.686%20C53%2C25.525%2046.261%2C24.086%2040%2C24.086%20L40%2C24.086%20Z%22%20id%3D%22Amazon-RDS_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Type: 'AWS::RDS::DBClusterParameterGroup'\nProperties:\n  Description: !!Join \n    - '- '\n    - - 'Aurora PG Cluster Parameter Group for  Cloudformation Stack '\n      - !!Ref DBName\n  Family: !!FindInMap \n    - DBFamilyMap\n    - !!Ref DBEngineVersion\n    - family\n  Parameters:\n    rds.force_ssl: 1\n","resource":{"Type":"AWS::RDS::DBClusterParameterGroup","Properties":{"Description":{"Fn::Join":["- ",["Aurora PG Cluster Parameter Group for  Cloudformation Stack ",{"Ref":"DBName"}]]},"Family":{"Fn::FindInMap":["DBFamilyMap",{"Ref":"DBEngineVersion"},"family"]},"Parameters":{"rds.force_ssl":1}}}},{"id":"root.DBParamGroup","dependencies":[{"key":"Ref","value":[],"path":"$.Properties.Description"},{"key":"Ref","value":[],"path":"$.Properties.Family"}],"prefix":"root","hidden":false,"type":"AWS::RDS::DBParameterGroup","label":"DBParamGroup","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_Amazon-RDS_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%232E27AD%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23527FFF%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_Amazon-RDS_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FDatabase%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M15.414%2C14%20L24.707%2C23.293%20L23.293%2C24.707%20L14%2C15.414%20L14%2C23%20L12%2C23%20L12%2C13%20C12%2C12.448%2012.447%2C12%2013%2C12%20L23%2C12%20L23%2C14%20L15.414%2C14%20Z%20M68%2C13%20L68%2C23%20L66%2C23%20L66%2C15.414%20L56.707%2C24.707%20L55.293%2C23.293%20L64.586%2C14%20L57%2C14%20L57%2C12%20L67%2C12%20C67.553%2C12%2068%2C12.448%2068%2C13%20L68%2C13%20Z%20M66%2C57%20L68%2C57%20L68%2C67%20C68%2C67.552%2067.553%2C68%2067%2C68%20L57%2C68%20L57%2C66%20L64.586%2C66%20L55.293%2C56.707%20L56.707%2C55.293%20L66%2C64.586%20L66%2C57%20Z%20M65.5%2C39.213%20C65.5%2C35.894%2061.668%2C32.615%2055.25%2C30.442%20L55.891%2C28.548%20C63.268%2C31.045%2067.5%2C34.932%2067.5%2C39.213%20C67.5%2C43.495%2063.268%2C47.383%2055.89%2C49.879%20L55.249%2C47.984%20C61.668%2C45.812%2065.5%2C42.534%2065.5%2C39.213%20L65.5%2C39.213%20Z%20M14.556%2C39.213%20C14.556%2C42.393%2018.143%2C45.585%2024.152%2C47.753%20L23.473%2C49.634%20C16.535%2C47.131%2012.556%2C43.333%2012.556%2C39.213%20C12.556%2C35.094%2016.535%2C31.296%2023.473%2C28.792%20L24.152%2C30.673%20C18.143%2C32.842%2014.556%2C36.034%2014.556%2C39.213%20L14.556%2C39.213%20Z%20M24.707%2C56.707%20L15.414%2C66%20L23%2C66%20L23%2C68%20L13%2C68%20C12.447%2C68%2012%2C67.552%2012%2C67%20L12%2C57%20L14%2C57%20L14%2C64.586%20L23.293%2C55.293%20L24.707%2C56.707%20Z%20M40%2C31.286%20C32.854%2C31.286%2029%2C29.44%2029%2C28.686%20C29%2C27.931%2032.854%2C26.086%2040%2C26.086%20C47.145%2C26.086%2051%2C27.931%2051%2C28.686%20C51%2C29.44%2047.145%2C31.286%2040%2C31.286%20L40%2C31.286%20Z%20M40.029%2C39.031%20C33.187%2C39.031%2029%2C37.162%2029%2C36.145%20L29%2C31.284%20C31.463%2C32.643%2035.832%2C33.286%2040%2C33.286%20C44.168%2C33.286%2048.537%2C32.643%2051%2C31.284%20L51%2C36.145%20C51%2C37.163%2046.835%2C39.031%2040.029%2C39.031%20L40.029%2C39.031%20Z%20M40.029%2C46.667%20C33.187%2C46.667%2029%2C44.798%2029%2C43.781%20L29%2C38.862%20C31.431%2C40.291%2035.742%2C41.031%2040.029%2C41.031%20C44.292%2C41.031%2048.578%2C40.292%2051%2C38.867%20L51%2C43.781%20C51%2C44.799%2046.835%2C46.667%2040.029%2C46.667%20L40.029%2C46.667%20Z%20M40%2C53.518%20C32.883%2C53.518%2029%2C51.605%2029%2C50.622%20L29%2C46.498%20C31.431%2C47.927%2035.742%2C48.667%2040.029%2C48.667%20C44.292%2C48.667%2048.578%2C47.929%2051%2C46.503%20L51%2C50.622%20C51%2C51.605%2047.117%2C53.518%2040%2C53.518%20L40%2C53.518%20Z%20M40%2C24.086%20C33.739%2C24.086%2027%2C25.525%2027%2C28.686%20L27%2C50.622%20C27%2C53.836%2033.54%2C55.518%2040%2C55.518%20C46.46%2C55.518%2053%2C53.836%2053%2C50.622%20L53%2C28.686%20C53%2C25.525%2046.261%2C24.086%2040%2C24.086%20L40%2C24.086%20Z%22%20id%3D%22Amazon-RDS_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Type: 'AWS::RDS::DBParameterGroup'\nProperties:\n  Description: !!Join \n    - '- '\n    - - 'Aurora PG Database Instance Parameter Group for Cloudformation Stack '\n      - !!Ref DBName\n  Family: !!FindInMap \n    - DBFamilyMap\n    - !!Ref DBEngineVersion\n    - family\n  Parameters:\n    shared_preload_libraries: 'auto_explain,pg_stat_statements,pg_hint_plan,pgaudit'\n    log_statement: ddl\n    log_connections: 1\n    log_disconnections: 1\n    log_lock_waits: 1\n    log_min_duration_statement: 5000\n    auto_explain.log_min_duration: 5000\n    auto_explain.log_verbose: 1\n    log_rotation_age: 1440\n    log_rotation_size: 102400\n    rds.log_retention_period: 10080\n    random_page_cost: 1\n    track_activity_query_size: 16384\n    idle_in_transaction_session_timeout: 7200000\n    statement_timeout: 7200000\n    search_path: '\"$user\",public'\n","resource":{"Type":"AWS::RDS::DBParameterGroup","Properties":{"Description":{"Fn::Join":["- ",["Aurora PG Database Instance Parameter Group for Cloudformation Stack ",{"Ref":"DBName"}]]},"Family":{"Fn::FindInMap":["DBFamilyMap",{"Ref":"DBEngineVersion"},"family"]},"Parameters":{"shared_preload_libraries":"auto_explain,pg_stat_statements,pg_hint_plan,pgaudit","log_statement":"ddl","log_connections":1,"log_disconnections":1,"log_lock_waits":1,"log_min_duration_statement":5000,"auto_explain.log_min_duration":5000,"auto_explain.log_verbose":1,"log_rotation_age":1440,"log_rotation_size":102400,"rds.log_retention_period":10080,"random_page_cost":1,"track_activity_query_size":16384,"idle_in_transaction_session_timeout":7200000,"statement_timeout":7200000,"search_path":"\"$user\",public"}}}},{"id":"root.AuroraKMSCMK","dependencies":[{"key":"Ref","value":["iam  \nroot"],"path":"$.Properties.KeyPolicy.Statement.Principal.AWS"}],"prefix":"root","hidden":false,"type":"AWS::KMS::Key","label":"AuroraKMSCMK","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-Key-Management-Services_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23BD0816%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF5252%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-Key-Management-Services_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FSecurity-Identity-Compliance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M51.9968943%2C52.4963312%20L58.9968943%2C52.4963312%20L58.9968943%2C50.4963312%20L51.9968943%2C50.4963312%20L51.9968943%2C52.4963312%20Z%20M42.9968943%2C52.4963312%20L49.9968943%2C52.4963312%20L49.9968943%2C50.4963312%20L42.9968943%2C50.4963312%20L42.9968943%2C52.4963312%20Z%20M33.9968943%2C52.4963312%20L40.9968943%2C52.4963312%20L40.9968943%2C50.4963312%20L33.9968943%2C50.4963312%20L33.9968943%2C52.4963312%20Z%20M44.9968943%2C44.4963312%20C44.9968943%2C43.3933312%2045.8948943%2C42.4963312%2046.9968943%2C42.4963312%20C48.0998943%2C42.4963312%2048.9968943%2C43.3933312%2048.9968943%2C44.4963312%20C48.9968943%2C45.5993312%2048.0998943%2C46.4963312%2046.9968943%2C46.4963312%20C45.8948943%2C46.4963312%2044.9968943%2C45.5993312%2044.9968943%2C44.4963312%20L44.9968943%2C44.4963312%20Z%20M50.9968943%2C44.4963312%20C50.9968943%2C42.2903312%2049.2038943%2C40.4963312%2046.9968943%2C40.4963312%20C44.7908943%2C40.4963312%2042.9968943%2C42.2903312%2042.9968943%2C44.4963312%20C42.9968943%2C46.7023312%2044.7908943%2C48.4963312%2046.9968943%2C48.4963312%20C49.2038943%2C48.4963312%2050.9968943%2C46.7023312%2050.9968943%2C44.4963312%20L50.9968943%2C44.4963312%20Z%20M36.9968943%2C42.4963312%20C38.0998943%2C42.4963312%2038.9968943%2C43.3933312%2038.9968943%2C44.4963312%20C38.9968943%2C45.5993312%2038.0998943%2C46.4963312%2036.9968943%2C46.4963312%20C35.8948943%2C46.4963312%2034.9968943%2C45.5993312%2034.9968943%2C44.4963312%20C34.9968943%2C43.3933312%2035.8948943%2C42.4963312%2036.9968943%2C42.4963312%20L36.9968943%2C42.4963312%20Z%20M36.9968943%2C48.4963312%20C39.2038943%2C48.4963312%2040.9968943%2C46.7023312%2040.9968943%2C44.4963312%20C40.9968943%2C42.2903312%2039.2038943%2C40.4963312%2036.9968943%2C40.4963312%20C34.7908943%2C40.4963312%2032.9968943%2C42.2903312%2032.9968943%2C44.4963312%20C32.9968943%2C46.7023312%2034.7908943%2C48.4963312%2036.9968943%2C48.4963312%20L36.9968943%2C48.4963312%20Z%20M65.9968943%2C33.4963312%20L65.9968943%2C56.4963312%20C65.9968943%2C57.0483312%2065.5498943%2C57.4963312%2064.9968943%2C57.4963312%20L33.9968943%2C57.4963312%20L33.9968943%2C55.4963312%20L63.9968943%2C55.4963312%20L63.9968943%2C34.4963312%20L41.9968943%2C34.4963312%20L41.9968943%2C32.4963312%20L64.9968943%2C32.4963312%20C65.5498943%2C32.4963312%2065.9968943%2C32.9443312%2065.9968943%2C33.4963312%20L65.9968943%2C33.4963312%20Z%20M30.6958943%2C38.5433312%20C30.2798943%2C38.6743312%2029.9968943%2C39.0603312%2029.9968943%2C39.4963312%20L29.9968943%2C60.5363312%20L27.5978943%2C62.5933312%20L24.9968943%2C59.6203312%20L24.9968943%2C56.9963312%20C24.9968943%2C56.7313312%2024.8918943%2C56.4763312%2024.7038943%2C56.2893312%20L22.4118943%2C53.9963312%20L24.7038943%2C51.7033312%20C24.8918943%2C51.5163312%2024.9968943%2C51.2613312%2024.9968943%2C50.9963312%20L24.9968943%2C48.9963312%20C24.9968943%2C48.7313312%2024.8918943%2C48.4763312%2024.7038943%2C48.2893312%20L22.4118943%2C45.9963312%20L24.7038943%2C43.7033312%20C24.8918943%2C43.5163312%2024.9968943%2C43.2613312%2024.9968943%2C42.9963312%20L24.9968943%2C39.5063312%20C24.9968943%2C39.0703312%2024.7148943%2C38.6843312%2024.2988943%2C38.5533312%20C19.1568943%2C36.9233312%2016.1168943%2C31.6343312%2017.2298943%2C26.2493312%20C18.0318943%2C22.3693312%2021.0158943%2C19.2583312%2024.8308943%2C18.3233312%20C28.0798943%2C17.5263312%2031.4118943%2C18.2233312%2033.9718943%2C20.2303312%20C36.5298943%2C22.2373312%2037.9968943%2C25.2503312%2037.9968943%2C28.4963312%20C37.9968943%2C33.0493312%2034.9948943%2C37.1813312%2030.6958943%2C38.5433312%20L30.6958943%2C38.5433312%20Z%20M39.9968943%2C28.4963312%20C39.9968943%2C24.6323312%2038.2508943%2C21.0453312%2035.2058943%2C18.6563312%20C32.1608943%2C16.2673312%2028.2088943%2C15.4363312%2024.3548943%2C16.3813312%20C19.7938943%2C17.4983312%2016.2288943%2C21.2133312%2015.2708943%2C25.8443312%20L15.2708943%2C25.8453312%20C14.0008943%2C31.9903312%2017.2998943%2C38.0343312%2022.9968943%2C40.2153312%20L22.9968943%2C42.5823312%20L20.2898943%2C45.2893312%20C19.8998943%2C45.6803312%2019.8998943%2C46.3123312%2020.2898943%2C46.7033312%20L22.9968943%2C49.4103312%20L22.9968943%2C50.5823312%20L20.2898943%2C53.2893312%20C19.8998943%2C53.6803312%2019.8998943%2C54.3123312%2020.2898943%2C54.7033312%20L22.9968943%2C57.4103312%20L22.9968943%2C59.9963312%20C22.9968943%2C60.2383312%2023.0848943%2C60.4723312%2023.2448943%2C60.6553312%20L26.7448943%2C64.6553312%20C26.9428943%2C64.8803312%2027.2188943%2C64.9963312%2027.4968943%2C64.9963312%20C27.7278943%2C64.9963312%2027.9588943%2C64.9173312%2028.1478943%2C64.7553312%20L31.6478943%2C61.7553312%20C31.8698943%2C61.5653312%2031.9968943%2C61.2883312%2031.9968943%2C60.9963312%20L31.9968943%2C40.2043312%20C36.7428943%2C38.3723312%2039.9968943%2C33.6623312%2039.9968943%2C28.4963312%20L39.9968943%2C28.4963312%20Z%20M27.4968943%2C30.8663312%20C26.1188943%2C30.8663312%2024.9968943%2C29.7453312%2024.9968943%2C28.3663312%20C24.9968943%2C26.9883312%2026.1188943%2C25.8663312%2027.4968943%2C25.8663312%20C28.8758943%2C25.8663312%2029.9968943%2C26.9883312%2029.9968943%2C28.3663312%20C29.9968943%2C29.7453312%2028.8758943%2C30.8663312%2027.4968943%2C30.8663312%20L27.4968943%2C30.8663312%20Z%20M27.4968943%2C23.8663312%20C25.0158943%2C23.8663312%2022.9968943%2C25.8853312%2022.9968943%2C28.3663312%20C22.9968943%2C30.8483312%2025.0158943%2C32.8663312%2027.4968943%2C32.8663312%20C29.9788943%2C32.8663312%2031.9968943%2C30.8483312%2031.9968943%2C28.3663312%20C31.9968943%2C25.8853312%2029.9788943%2C23.8663312%2027.4968943%2C23.8663312%20L27.4968943%2C23.8663312%20Z%22%20id%3D%22AWS-Key-Management-Services_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"DeletionPolicy: Retain\nUpdateReplacePolicy: Delete\nType: 'AWS::KMS::Key'\nProperties:\n  KeyPolicy:\n    Version: 2012-10-17\n    Statement:\n      - Effect: Allow\n        Principal:\n          AWS: !!Sub \n            Ref: |-\n              iam  \n              root\n        Action: 'kms:*'\n        Resource: '*'\n      - Effect: Allow\n        Principal:\n          AWS: '*'\n        Action:\n          - 'kms:Encrypt'\n          - 'kms:Decrypt'\n          - 'kms:ReEncrypt*'\n          - 'kms:GenerateDataKey*'\n          - 'kms:CreateGrant'\n          - 'kms:ListGrants'\n          - 'kms:DescribeKey'\n        Resource: '*'\n        Condition:\n          StringEquals:\n            'kms:CallerAccount': !!Ref 'AWS::AccountId'\n            'kms:ViaService': !!Sub 'rds.${AWS::Region}.amazonaws.com'\n","resource":{"DeletionPolicy":"Retain","UpdateReplacePolicy":"Delete","Type":"AWS::KMS::Key","Properties":{"KeyPolicy":{"Version":"2012-10-17","Statement":[{"Effect":"Allow","Principal":{"AWS":{"Fn::Sub":{"Ref":"iam  \nroot"}}},"Action":"kms:*","Resource":"*"},{"Effect":"Allow","Principal":{"AWS":"*"},"Action":["kms:Encrypt","kms:Decrypt","kms:ReEncrypt*","kms:GenerateDataKey*","kms:CreateGrant","kms:ListGrants","kms:DescribeKey"],"Resource":"*","Condition":{"StringEquals":{"kms:CallerAccount":{"Ref":"AWS::AccountId"},"kms:ViaService":{"Fn::Sub":"rds.${AWS::Region}.amazonaws.com"}}}}]}}}},{"id":"root.AuroraKMSCMKAlias","dependencies":[{"key":"Ref","value":["AuroraKMSCMK"],"path":"$.Properties.TargetKeyId"},{"key":"Fn::Sub","value":["AuroraDBCluster"],"path":"$.Properties.AliasName"}],"prefix":"root","hidden":false,"type":"AWS::KMS::Alias","label":"AuroraKMSCMKAlias","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-Key-Management-Services_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23BD0816%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF5252%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-Key-Management-Services_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FSecurity-Identity-Compliance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M51.9968943%2C52.4963312%20L58.9968943%2C52.4963312%20L58.9968943%2C50.4963312%20L51.9968943%2C50.4963312%20L51.9968943%2C52.4963312%20Z%20M42.9968943%2C52.4963312%20L49.9968943%2C52.4963312%20L49.9968943%2C50.4963312%20L42.9968943%2C50.4963312%20L42.9968943%2C52.4963312%20Z%20M33.9968943%2C52.4963312%20L40.9968943%2C52.4963312%20L40.9968943%2C50.4963312%20L33.9968943%2C50.4963312%20L33.9968943%2C52.4963312%20Z%20M44.9968943%2C44.4963312%20C44.9968943%2C43.3933312%2045.8948943%2C42.4963312%2046.9968943%2C42.4963312%20C48.0998943%2C42.4963312%2048.9968943%2C43.3933312%2048.9968943%2C44.4963312%20C48.9968943%2C45.5993312%2048.0998943%2C46.4963312%2046.9968943%2C46.4963312%20C45.8948943%2C46.4963312%2044.9968943%2C45.5993312%2044.9968943%2C44.4963312%20L44.9968943%2C44.4963312%20Z%20M50.9968943%2C44.4963312%20C50.9968943%2C42.2903312%2049.2038943%2C40.4963312%2046.9968943%2C40.4963312%20C44.7908943%2C40.4963312%2042.9968943%2C42.2903312%2042.9968943%2C44.4963312%20C42.9968943%2C46.7023312%2044.7908943%2C48.4963312%2046.9968943%2C48.4963312%20C49.2038943%2C48.4963312%2050.9968943%2C46.7023312%2050.9968943%2C44.4963312%20L50.9968943%2C44.4963312%20Z%20M36.9968943%2C42.4963312%20C38.0998943%2C42.4963312%2038.9968943%2C43.3933312%2038.9968943%2C44.4963312%20C38.9968943%2C45.5993312%2038.0998943%2C46.4963312%2036.9968943%2C46.4963312%20C35.8948943%2C46.4963312%2034.9968943%2C45.5993312%2034.9968943%2C44.4963312%20C34.9968943%2C43.3933312%2035.8948943%2C42.4963312%2036.9968943%2C42.4963312%20L36.9968943%2C42.4963312%20Z%20M36.9968943%2C48.4963312%20C39.2038943%2C48.4963312%2040.9968943%2C46.7023312%2040.9968943%2C44.4963312%20C40.9968943%2C42.2903312%2039.2038943%2C40.4963312%2036.9968943%2C40.4963312%20C34.7908943%2C40.4963312%2032.9968943%2C42.2903312%2032.9968943%2C44.4963312%20C32.9968943%2C46.7023312%2034.7908943%2C48.4963312%2036.9968943%2C48.4963312%20L36.9968943%2C48.4963312%20Z%20M65.9968943%2C33.4963312%20L65.9968943%2C56.4963312%20C65.9968943%2C57.0483312%2065.5498943%2C57.4963312%2064.9968943%2C57.4963312%20L33.9968943%2C57.4963312%20L33.9968943%2C55.4963312%20L63.9968943%2C55.4963312%20L63.9968943%2C34.4963312%20L41.9968943%2C34.4963312%20L41.9968943%2C32.4963312%20L64.9968943%2C32.4963312%20C65.5498943%2C32.4963312%2065.9968943%2C32.9443312%2065.9968943%2C33.4963312%20L65.9968943%2C33.4963312%20Z%20M30.6958943%2C38.5433312%20C30.2798943%2C38.6743312%2029.9968943%2C39.0603312%2029.9968943%2C39.4963312%20L29.9968943%2C60.5363312%20L27.5978943%2C62.5933312%20L24.9968943%2C59.6203312%20L24.9968943%2C56.9963312%20C24.9968943%2C56.7313312%2024.8918943%2C56.4763312%2024.7038943%2C56.2893312%20L22.4118943%2C53.9963312%20L24.7038943%2C51.7033312%20C24.8918943%2C51.5163312%2024.9968943%2C51.2613312%2024.9968943%2C50.9963312%20L24.9968943%2C48.9963312%20C24.9968943%2C48.7313312%2024.8918943%2C48.4763312%2024.7038943%2C48.2893312%20L22.4118943%2C45.9963312%20L24.7038943%2C43.7033312%20C24.8918943%2C43.5163312%2024.9968943%2C43.2613312%2024.9968943%2C42.9963312%20L24.9968943%2C39.5063312%20C24.9968943%2C39.0703312%2024.7148943%2C38.6843312%2024.2988943%2C38.5533312%20C19.1568943%2C36.9233312%2016.1168943%2C31.6343312%2017.2298943%2C26.2493312%20C18.0318943%2C22.3693312%2021.0158943%2C19.2583312%2024.8308943%2C18.3233312%20C28.0798943%2C17.5263312%2031.4118943%2C18.2233312%2033.9718943%2C20.2303312%20C36.5298943%2C22.2373312%2037.9968943%2C25.2503312%2037.9968943%2C28.4963312%20C37.9968943%2C33.0493312%2034.9948943%2C37.1813312%2030.6958943%2C38.5433312%20L30.6958943%2C38.5433312%20Z%20M39.9968943%2C28.4963312%20C39.9968943%2C24.6323312%2038.2508943%2C21.0453312%2035.2058943%2C18.6563312%20C32.1608943%2C16.2673312%2028.2088943%2C15.4363312%2024.3548943%2C16.3813312%20C19.7938943%2C17.4983312%2016.2288943%2C21.2133312%2015.2708943%2C25.8443312%20L15.2708943%2C25.8453312%20C14.0008943%2C31.9903312%2017.2998943%2C38.0343312%2022.9968943%2C40.2153312%20L22.9968943%2C42.5823312%20L20.2898943%2C45.2893312%20C19.8998943%2C45.6803312%2019.8998943%2C46.3123312%2020.2898943%2C46.7033312%20L22.9968943%2C49.4103312%20L22.9968943%2C50.5823312%20L20.2898943%2C53.2893312%20C19.8998943%2C53.6803312%2019.8998943%2C54.3123312%2020.2898943%2C54.7033312%20L22.9968943%2C57.4103312%20L22.9968943%2C59.9963312%20C22.9968943%2C60.2383312%2023.0848943%2C60.4723312%2023.2448943%2C60.6553312%20L26.7448943%2C64.6553312%20C26.9428943%2C64.8803312%2027.2188943%2C64.9963312%2027.4968943%2C64.9963312%20C27.7278943%2C64.9963312%2027.9588943%2C64.9173312%2028.1478943%2C64.7553312%20L31.6478943%2C61.7553312%20C31.8698943%2C61.5653312%2031.9968943%2C61.2883312%2031.9968943%2C60.9963312%20L31.9968943%2C40.2043312%20C36.7428943%2C38.3723312%2039.9968943%2C33.6623312%2039.9968943%2C28.4963312%20L39.9968943%2C28.4963312%20Z%20M27.4968943%2C30.8663312%20C26.1188943%2C30.8663312%2024.9968943%2C29.7453312%2024.9968943%2C28.3663312%20C24.9968943%2C26.9883312%2026.1188943%2C25.8663312%2027.4968943%2C25.8663312%20C28.8758943%2C25.8663312%2029.9968943%2C26.9883312%2029.9968943%2C28.3663312%20C29.9968943%2C29.7453312%2028.8758943%2C30.8663312%2027.4968943%2C30.8663312%20L27.4968943%2C30.8663312%20Z%20M27.4968943%2C23.8663312%20C25.0158943%2C23.8663312%2022.9968943%2C25.8853312%2022.9968943%2C28.3663312%20C22.9968943%2C30.8483312%2025.0158943%2C32.8663312%2027.4968943%2C32.8663312%20C29.9788943%2C32.8663312%2031.9968943%2C30.8483312%2031.9968943%2C28.3663312%20C31.9968943%2C25.8853312%2029.9788943%2C23.8663312%2027.4968943%2C23.8663312%20L27.4968943%2C23.8663312%20Z%22%20id%3D%22AWS-Key-Management-Services_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Type: 'AWS::KMS::Alias'\nDeletionPolicy: Retain\nUpdateReplacePolicy: Delete\nDependsOn: AuroraDBCluster\nProperties:\n  AliasName: !!Sub 'alias/${AuroraDBCluster}'\n  TargetKeyId: !!Ref AuroraKMSCMK\n","resource":{"Type":"AWS::KMS::Alias","DeletionPolicy":"Retain","UpdateReplacePolicy":"Delete","DependsOn":"AuroraDBCluster","Properties":{"AliasName":{"Fn::Sub":"alias/${AuroraDBCluster}"},"TargetKeyId":{"Ref":"AuroraKMSCMK"}}}},{"id":"root.AuroraMasterSecret","dependencies":[{"key":"Ref","value":[],"path":"$.Properties.Name"},{"key":"Ref","value":[],"path":"$.Properties.Tags.Value"},{"key":"Fn::Sub","value":[],"path":"$.Properties.GenerateSecretString.SecretStringTemplate"}],"prefix":"root","hidden":false,"type":"AWS::SecretsManager::Secret","label":"AuroraMasterSecret","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-Secrets-Manager_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23BD0816%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF5252%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-Secrets-Manager_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FSecurity-Identity-Compliance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M38.76%2C43.36%20C38.76%2C44.044%2039.317%2C44.6%2040%2C44.6%20C40.684%2C44.6%2041.24%2C44.044%2041.24%2C43.36%20C41.24%2C42.676%2040.684%2C42.12%2040%2C42.12%20C39.317%2C42.12%2038.76%2C42.676%2038.76%2C43.36%20L38.76%2C43.36%20Z%20M36.76%2C43.36%20C36.76%2C41.573%2038.213%2C40.12%2040%2C40.12%20C41.787%2C40.12%2043.24%2C41.573%2043.24%2C43.36%20C43.24%2C44.796%2042.296%2C46.002%2041%2C46.426%20L41%2C49%20L39%2C49%20L39%2C46.426%20C37.704%2C46.002%2036.76%2C44.796%2036.76%2C43.36%20L36.76%2C43.36%20Z%20M49%2C38%20L31%2C38%20L31%2C51%20L49%2C51%20L49%2C48%20L46%2C48%20L46%2C46%20L49%2C46%20L49%2C43%20L46%2C43%20L46%2C41%20L49%2C41%20L49%2C38%20Z%20M34%2C36%20L45.999%2C36%20L46%2C31%20C46.001%2C28.384%2043.143%2C26.002%2040.004%2C26%20L40.001%2C26%20C38.472%2C26%2036.928%2C26.574%2035.763%2C27.575%20C34.643%2C28.537%2034%2C29.786%2034%2C31.001%20L34%2C36%20Z%20M48%2C31.001%20L47.999%2C36%20L50%2C36%20C50.553%2C36%2051%2C36.448%2051%2C37%20L51%2C52%20C51%2C52.552%2050.553%2C53%2050%2C53%20L30%2C53%20C29.447%2C53%2029%2C52.552%2029%2C52%20L29%2C37%20C29%2C36.448%2029.447%2C36%2030%2C36%20L32%2C36%20L32%2C31%20C32.001%2C29.202%2032.897%2C27.401%2034.459%2C26.058%20C35.982%2C24.75%2038.001%2C24%2040.001%2C24%20L40.004%2C24%20C44.265%2C24.002%2048.001%2C27.273%2048%2C31.001%20L48%2C31.001%20Z%20M19.207%2C55.049%20L20.828%2C53.877%20C18.093%2C50.097%2016.581%2C45.662%2016.396%2C41%20L19%2C41%20L19%2C39%20L16.399%2C39%20C16.598%2C34.366%2018.108%2C29.957%2020.828%2C26.198%20L19.207%2C25.025%20C16.239%2C29.128%2014.599%2C33.942%2014.399%2C39%20L12%2C39%20L12%2C41%20L14.396%2C41%20C14.582%2C46.086%2016.224%2C50.926%2019.207%2C55.049%20L19.207%2C55.049%20Z%20M53.838%2C59.208%20C50.069%2C61.936%2045.648%2C63.446%2041%2C63.639%20L41%2C61%20L39%2C61%20L39%2C63.639%20C34.352%2C63.447%2029.93%2C61.937%2026.159%2C59.208%20L24.988%2C60.828%20C29.1%2C63.805%2033.928%2C65.445%2039%2C65.639%20L39%2C68%20L41%2C68%20L41%2C65.639%20C46.072%2C65.445%2050.898%2C63.805%2055.01%2C60.828%20L53.838%2C59.208%20Z%20M26.159%2C20.866%20C29.93%2C18.138%2034.352%2C16.628%2039%2C16.436%20L39%2C19%20L41%2C19%20L41%2C16.436%20C45.648%2C16.628%2050.069%2C18.138%2053.838%2C20.866%20L55.01%2C19.246%20C50.898%2C16.27%2046.072%2C14.63%2041%2C14.436%20L41%2C12%20L39%2C12%20L39%2C14.436%20C33.928%2C14.629%2029.1%2C16.269%2024.988%2C19.246%20L26.159%2C20.866%20Z%20M65.599%2C39%20C65.399%2C33.942%2063.759%2C29.128%2060.79%2C25.025%20L59.169%2C26.198%20C61.89%2C29.957%2063.4%2C34.366%2063.599%2C39%20L61%2C39%20L61%2C41%20L63.602%2C41%20C63.416%2C45.662%2061.905%2C50.097%2059.169%2C53.877%20L60.79%2C55.049%20C63.774%2C50.926%2065.415%2C46.086%2065.602%2C41%20L68%2C41%20L68%2C39%20L65.599%2C39%20Z%20M56.386%2C25.064%20L64.226%2C17.224%20L62.812%2C15.81%20L54.972%2C23.65%20L56.386%2C25.064%20Z%20M23.612%2C55.01%20L15.772%2C62.85%20L17.186%2C64.264%20L25.026%2C56.424%20L23.612%2C55.01%20Z%20M28.666%2C27.253%20L13.825%2C12.413%20L12.411%2C13.827%20L27.252%2C28.667%20L28.666%2C27.253%20Z%20M54.193%2C52.78%20L67.586%2C66.173%20L66.172%2C67.587%20L52.779%2C54.194%20L54.193%2C52.78%20Z%22%20id%3D%22AWS-Secrets-Manager_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Condition: IsNotUseDBSnapshot\nType: 'AWS::SecretsManager::Secret'\nDeletionPolicy: Delete\nUpdateReplacePolicy: Delete\nProperties:\n  Name: !!Join \n    - /\n    - - !!Ref EnvironmentStage\n      - aurora-pg\n      - !!Ref 'AWS::StackName'\n  Description: !!Sub -\n    Aurora PostgreSQL Master User Secret for CloudFormation Stack\n    ${AWS::StackName}\n  Tags:\n    - Key: EnvironmentStage\n      Value: !!Ref EnvironmentStage\n    - Key: DatabaseEngine\n      Value: Aurora PostgreSQL\n    - Key: StackID\n      Value: !!Ref 'AWS::StackId'\n  GenerateSecretString:\n    SecretStringTemplate: !!Sub '{\"username\":\"${DBUsername}\"}'\n    GenerateStringKey: password\n    ExcludeCharacters: '\"@/\\'\n    PasswordLength: 16\n","resource":{"Condition":"IsNotUseDBSnapshot","Type":"AWS::SecretsManager::Secret","DeletionPolicy":"Delete","UpdateReplacePolicy":"Delete","Properties":{"Name":{"Fn::Join":["/",[{"Ref":"EnvironmentStage"},"aurora-pg",{"Ref":"AWS::StackName"}]]},"Description":{"Fn::Sub":"Aurora PostgreSQL Master User Secret for CloudFormation Stack ${AWS::StackName}"},"Tags":[{"Key":"EnvironmentStage","Value":{"Ref":"EnvironmentStage"}},{"Key":"DatabaseEngine","Value":"Aurora PostgreSQL"},{"Key":"StackID","Value":{"Ref":"AWS::StackId"}}],"GenerateSecretString":{"SecretStringTemplate":{"Fn::Sub":"{\"username\":\"${DBUsername}\"}"},"GenerateStringKey":"password","ExcludeCharacters":"\"@/\\","PasswordLength":16}}}},{"id":"root.SecretAuroraClusterAttachment","dependencies":[{"key":"Ref","value":["AuroraMasterSecret"],"path":"$.Properties.SecretId"},{"key":"Ref","value":["AuroraDBCluster"],"path":"$.Properties.TargetId"}],"prefix":"root","hidden":false,"type":"AWS::SecretsManager::SecretTargetAttachment","label":"SecretAuroraClusterAttachment","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-Secrets-Manager_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23BD0816%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF5252%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-Secrets-Manager_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FSecurity-Identity-Compliance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M38.76%2C43.36%20C38.76%2C44.044%2039.317%2C44.6%2040%2C44.6%20C40.684%2C44.6%2041.24%2C44.044%2041.24%2C43.36%20C41.24%2C42.676%2040.684%2C42.12%2040%2C42.12%20C39.317%2C42.12%2038.76%2C42.676%2038.76%2C43.36%20L38.76%2C43.36%20Z%20M36.76%2C43.36%20C36.76%2C41.573%2038.213%2C40.12%2040%2C40.12%20C41.787%2C40.12%2043.24%2C41.573%2043.24%2C43.36%20C43.24%2C44.796%2042.296%2C46.002%2041%2C46.426%20L41%2C49%20L39%2C49%20L39%2C46.426%20C37.704%2C46.002%2036.76%2C44.796%2036.76%2C43.36%20L36.76%2C43.36%20Z%20M49%2C38%20L31%2C38%20L31%2C51%20L49%2C51%20L49%2C48%20L46%2C48%20L46%2C46%20L49%2C46%20L49%2C43%20L46%2C43%20L46%2C41%20L49%2C41%20L49%2C38%20Z%20M34%2C36%20L45.999%2C36%20L46%2C31%20C46.001%2C28.384%2043.143%2C26.002%2040.004%2C26%20L40.001%2C26%20C38.472%2C26%2036.928%2C26.574%2035.763%2C27.575%20C34.643%2C28.537%2034%2C29.786%2034%2C31.001%20L34%2C36%20Z%20M48%2C31.001%20L47.999%2C36%20L50%2C36%20C50.553%2C36%2051%2C36.448%2051%2C37%20L51%2C52%20C51%2C52.552%2050.553%2C53%2050%2C53%20L30%2C53%20C29.447%2C53%2029%2C52.552%2029%2C52%20L29%2C37%20C29%2C36.448%2029.447%2C36%2030%2C36%20L32%2C36%20L32%2C31%20C32.001%2C29.202%2032.897%2C27.401%2034.459%2C26.058%20C35.982%2C24.75%2038.001%2C24%2040.001%2C24%20L40.004%2C24%20C44.265%2C24.002%2048.001%2C27.273%2048%2C31.001%20L48%2C31.001%20Z%20M19.207%2C55.049%20L20.828%2C53.877%20C18.093%2C50.097%2016.581%2C45.662%2016.396%2C41%20L19%2C41%20L19%2C39%20L16.399%2C39%20C16.598%2C34.366%2018.108%2C29.957%2020.828%2C26.198%20L19.207%2C25.025%20C16.239%2C29.128%2014.599%2C33.942%2014.399%2C39%20L12%2C39%20L12%2C41%20L14.396%2C41%20C14.582%2C46.086%2016.224%2C50.926%2019.207%2C55.049%20L19.207%2C55.049%20Z%20M53.838%2C59.208%20C50.069%2C61.936%2045.648%2C63.446%2041%2C63.639%20L41%2C61%20L39%2C61%20L39%2C63.639%20C34.352%2C63.447%2029.93%2C61.937%2026.159%2C59.208%20L24.988%2C60.828%20C29.1%2C63.805%2033.928%2C65.445%2039%2C65.639%20L39%2C68%20L41%2C68%20L41%2C65.639%20C46.072%2C65.445%2050.898%2C63.805%2055.01%2C60.828%20L53.838%2C59.208%20Z%20M26.159%2C20.866%20C29.93%2C18.138%2034.352%2C16.628%2039%2C16.436%20L39%2C19%20L41%2C19%20L41%2C16.436%20C45.648%2C16.628%2050.069%2C18.138%2053.838%2C20.866%20L55.01%2C19.246%20C50.898%2C16.27%2046.072%2C14.63%2041%2C14.436%20L41%2C12%20L39%2C12%20L39%2C14.436%20C33.928%2C14.629%2029.1%2C16.269%2024.988%2C19.246%20L26.159%2C20.866%20Z%20M65.599%2C39%20C65.399%2C33.942%2063.759%2C29.128%2060.79%2C25.025%20L59.169%2C26.198%20C61.89%2C29.957%2063.4%2C34.366%2063.599%2C39%20L61%2C39%20L61%2C41%20L63.602%2C41%20C63.416%2C45.662%2061.905%2C50.097%2059.169%2C53.877%20L60.79%2C55.049%20C63.774%2C50.926%2065.415%2C46.086%2065.602%2C41%20L68%2C41%20L68%2C39%20L65.599%2C39%20Z%20M56.386%2C25.064%20L64.226%2C17.224%20L62.812%2C15.81%20L54.972%2C23.65%20L56.386%2C25.064%20Z%20M23.612%2C55.01%20L15.772%2C62.85%20L17.186%2C64.264%20L25.026%2C56.424%20L23.612%2C55.01%20Z%20M28.666%2C27.253%20L13.825%2C12.413%20L12.411%2C13.827%20L27.252%2C28.667%20L28.666%2C27.253%20Z%20M54.193%2C52.78%20L67.586%2C66.173%20L66.172%2C67.587%20L52.779%2C54.194%20L54.193%2C52.78%20Z%22%20id%3D%22AWS-Secrets-Manager_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Condition: IsNotUseDBSnapshot\nType: 'AWS::SecretsManager::SecretTargetAttachment'\nProperties:\n  SecretId: !!Ref AuroraMasterSecret\n  TargetId: !!Ref AuroraDBCluster\n  TargetType: 'AWS::RDS::DBCluster'\n","resource":{"Condition":"IsNotUseDBSnapshot","Type":"AWS::SecretsManager::SecretTargetAttachment","Properties":{"SecretId":{"Ref":"AuroraMasterSecret"},"TargetId":{"Ref":"AuroraDBCluster"},"TargetType":"AWS::RDS::DBCluster"}}},{"id":"root.AuroraSecretResourcePolicy","dependencies":[{"key":"Ref","value":["AuroraMasterSecret"],"path":"$.Properties.SecretId"},{"key":"Ref","value":["iam  \nroot"],"path":"$.Properties.ResourcePolicy.Statement.Principal.AWS"}],"prefix":"root","hidden":false,"type":"AWS::SecretsManager::ResourcePolicy","label":"AuroraSecretResourcePolicy","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-Secrets-Manager_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23BD0816%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF5252%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-Secrets-Manager_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FSecurity-Identity-Compliance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M38.76%2C43.36%20C38.76%2C44.044%2039.317%2C44.6%2040%2C44.6%20C40.684%2C44.6%2041.24%2C44.044%2041.24%2C43.36%20C41.24%2C42.676%2040.684%2C42.12%2040%2C42.12%20C39.317%2C42.12%2038.76%2C42.676%2038.76%2C43.36%20L38.76%2C43.36%20Z%20M36.76%2C43.36%20C36.76%2C41.573%2038.213%2C40.12%2040%2C40.12%20C41.787%2C40.12%2043.24%2C41.573%2043.24%2C43.36%20C43.24%2C44.796%2042.296%2C46.002%2041%2C46.426%20L41%2C49%20L39%2C49%20L39%2C46.426%20C37.704%2C46.002%2036.76%2C44.796%2036.76%2C43.36%20L36.76%2C43.36%20Z%20M49%2C38%20L31%2C38%20L31%2C51%20L49%2C51%20L49%2C48%20L46%2C48%20L46%2C46%20L49%2C46%20L49%2C43%20L46%2C43%20L46%2C41%20L49%2C41%20L49%2C38%20Z%20M34%2C36%20L45.999%2C36%20L46%2C31%20C46.001%2C28.384%2043.143%2C26.002%2040.004%2C26%20L40.001%2C26%20C38.472%2C26%2036.928%2C26.574%2035.763%2C27.575%20C34.643%2C28.537%2034%2C29.786%2034%2C31.001%20L34%2C36%20Z%20M48%2C31.001%20L47.999%2C36%20L50%2C36%20C50.553%2C36%2051%2C36.448%2051%2C37%20L51%2C52%20C51%2C52.552%2050.553%2C53%2050%2C53%20L30%2C53%20C29.447%2C53%2029%2C52.552%2029%2C52%20L29%2C37%20C29%2C36.448%2029.447%2C36%2030%2C36%20L32%2C36%20L32%2C31%20C32.001%2C29.202%2032.897%2C27.401%2034.459%2C26.058%20C35.982%2C24.75%2038.001%2C24%2040.001%2C24%20L40.004%2C24%20C44.265%2C24.002%2048.001%2C27.273%2048%2C31.001%20L48%2C31.001%20Z%20M19.207%2C55.049%20L20.828%2C53.877%20C18.093%2C50.097%2016.581%2C45.662%2016.396%2C41%20L19%2C41%20L19%2C39%20L16.399%2C39%20C16.598%2C34.366%2018.108%2C29.957%2020.828%2C26.198%20L19.207%2C25.025%20C16.239%2C29.128%2014.599%2C33.942%2014.399%2C39%20L12%2C39%20L12%2C41%20L14.396%2C41%20C14.582%2C46.086%2016.224%2C50.926%2019.207%2C55.049%20L19.207%2C55.049%20Z%20M53.838%2C59.208%20C50.069%2C61.936%2045.648%2C63.446%2041%2C63.639%20L41%2C61%20L39%2C61%20L39%2C63.639%20C34.352%2C63.447%2029.93%2C61.937%2026.159%2C59.208%20L24.988%2C60.828%20C29.1%2C63.805%2033.928%2C65.445%2039%2C65.639%20L39%2C68%20L41%2C68%20L41%2C65.639%20C46.072%2C65.445%2050.898%2C63.805%2055.01%2C60.828%20L53.838%2C59.208%20Z%20M26.159%2C20.866%20C29.93%2C18.138%2034.352%2C16.628%2039%2C16.436%20L39%2C19%20L41%2C19%20L41%2C16.436%20C45.648%2C16.628%2050.069%2C18.138%2053.838%2C20.866%20L55.01%2C19.246%20C50.898%2C16.27%2046.072%2C14.63%2041%2C14.436%20L41%2C12%20L39%2C12%20L39%2C14.436%20C33.928%2C14.629%2029.1%2C16.269%2024.988%2C19.246%20L26.159%2C20.866%20Z%20M65.599%2C39%20C65.399%2C33.942%2063.759%2C29.128%2060.79%2C25.025%20L59.169%2C26.198%20C61.89%2C29.957%2063.4%2C34.366%2063.599%2C39%20L61%2C39%20L61%2C41%20L63.602%2C41%20C63.416%2C45.662%2061.905%2C50.097%2059.169%2C53.877%20L60.79%2C55.049%20C63.774%2C50.926%2065.415%2C46.086%2065.602%2C41%20L68%2C41%20L68%2C39%20L65.599%2C39%20Z%20M56.386%2C25.064%20L64.226%2C17.224%20L62.812%2C15.81%20L54.972%2C23.65%20L56.386%2C25.064%20Z%20M23.612%2C55.01%20L15.772%2C62.85%20L17.186%2C64.264%20L25.026%2C56.424%20L23.612%2C55.01%20Z%20M28.666%2C27.253%20L13.825%2C12.413%20L12.411%2C13.827%20L27.252%2C28.667%20L28.666%2C27.253%20Z%20M54.193%2C52.78%20L67.586%2C66.173%20L66.172%2C67.587%20L52.779%2C54.194%20L54.193%2C52.78%20Z%22%20id%3D%22AWS-Secrets-Manager_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Condition: IsNotUseDBSnapshot\nType: 'AWS::SecretsManager::ResourcePolicy'\nProperties:\n  SecretId: !!Ref AuroraMasterSecret\n  ResourcePolicy:\n    Version: 2012-10-17\n    Statement:\n      - Effect: Deny\n        Principal:\n          AWS: !!Sub \n            Ref: |-\n              iam  \n              root\n        Action: 'secretsmanager:DeleteSecret'\n        Resource: '*'\n","resource":{"Condition":"IsNotUseDBSnapshot","Type":"AWS::SecretsManager::ResourcePolicy","Properties":{"SecretId":{"Ref":"AuroraMasterSecret"},"ResourcePolicy":{"Version":"2012-10-17","Statement":[{"Effect":"Deny","Principal":{"AWS":{"Fn::Sub":{"Ref":"iam  \nroot"}}},"Action":"secretsmanager:DeleteSecret","Resource":"*"}]}}}},{"id":"root.CreateSecretRotationLambdaRole","dependencies":[{"key":"Ref","value":["iam  aws\npolicy/service-role/awslambdavpcaccessexecutionrole"],"path":"$.Properties.ManagedPolicyArns"},{"key":"Ref","value":["iam  aws\npolicy/secretsmanagerreadwrite"],"path":"$.Properties.ManagedPolicyArns"},{"key":"Ref","value":["iam  aws\npolicy/iamfullaccess"],"path":"$.Properties.ManagedPolicyArns"},{"key":"Ref","value":["cloudformation  \nstack/serverlessrepo--secretrotationlambdastack/*"],"path":"$.Properties.Policies.PolicyDocument.Statement.Resource"},{"key":"Ref","value":["lambda  \nsecretsmanager-secretrotationfn-"],"path":"$.Properties.Policies.PolicyDocument.Statement.Resource"},{"key":"Ref","value":["iam  \nrole/serverlessrepo*"],"path":"$.Properties.Policies.PolicyDocument.Statement.Resource"}],"prefix":"root","hidden":false,"type":"AWS::IAM::Role","label":"CreateSecretRotationLambdaRole","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-Identity-and-Access-Management_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23BD0816%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF5252%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-Identity-and-Access-Management_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FSecurity-Identity-Compliance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M14%2C59%20L66%2C59%20L66%2C21%20L14%2C21%20L14%2C59%20Z%20M68%2C20%20L68%2C60%20C68%2C60.552%2067.553%2C61%2067%2C61%20L13%2C61%20C12.447%2C61%2012%2C60.552%2012%2C60%20L12%2C20%20C12%2C19.448%2012.447%2C19%2013%2C19%20L67%2C19%20C67.553%2C19%2068%2C19.448%2068%2C20%20L68%2C20%20Z%20M44%2C48%20L59%2C48%20L59%2C46%20L44%2C46%20L44%2C48%20Z%20M57%2C42%20L62%2C42%20L62%2C40%20L57%2C40%20L57%2C42%20Z%20M44%2C42%20L52%2C42%20L52%2C40%20L44%2C40%20L44%2C42%20Z%20M29%2C46%20C29%2C45.449%2028.552%2C45%2028%2C45%20C27.448%2C45%2027%2C45.449%2027%2C46%20C27%2C46.551%2027.448%2C47%2028%2C47%20C28.552%2C47%2029%2C46.551%2029%2C46%20L29%2C46%20Z%20M31%2C46%20C31%2C47.302%2030.161%2C48.401%2029%2C48.816%20L29%2C51%20L27%2C51%20L27%2C48.815%20C25.839%2C48.401%2025%2C47.302%2025%2C46%20C25%2C44.346%2026.346%2C43%2028%2C43%20C29.654%2C43%2031%2C44.346%2031%2C46%20L31%2C46%20Z%20M19%2C53.993%20L36.994%2C54%20L36.996%2C50%20L33%2C50%20L33%2C48%20L36.996%2C48%20L36.998%2C45%20L33%2C45%20L33%2C43%20L36.999%2C43%20L37%2C40.007%20L19.006%2C40%20L19%2C53.993%20Z%20M22%2C38.001%20L34%2C38.006%20L34%2C31%20C34.001%2C28.697%2031.197%2C26.677%2028%2C26.675%20L27.996%2C26.675%20C24.804%2C26.675%2022.004%2C28.696%2022.002%2C31%20L22%2C38.001%20Z%20M17%2C54.992%20L17.006%2C39%20C17.006%2C38.734%2017.111%2C38.48%2017.299%2C38.292%20C17.486%2C38.105%2017.741%2C38%2018.006%2C38%20L20%2C38.001%20L20.002%2C31%20C20.004%2C27.512%2023.59%2C24.675%2027.996%2C24.675%20L28%2C24.675%20C32.412%2C24.677%2036.001%2C27.515%2036%2C31%20L36%2C38.007%20L38%2C38.008%20C38.553%2C38.008%2039%2C38.456%2039%2C39.008%20L38.994%2C55%20C38.994%2C55.266%2038.889%2C55.52%2038.701%2C55.708%20C38.514%2C55.895%2038.259%2C56%2037.994%2C56%20L18%2C55.992%20C17.447%2C55.992%2017%2C55.544%2017%2C54.992%20L17%2C54.992%20Z%20M60%2C36%20L62%2C36%20L62%2C34%20L60%2C34%20L60%2C36%20Z%20M44%2C36%20L55%2C36%20L55%2C34%20L44%2C34%20L44%2C36%20Z%22%20id%3D%22AWS-Identity-and-Access-Management_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Condition: IsNotUseDBSnapshot\nType: 'AWS::IAM::Role'\nProperties:\n  AssumeRolePolicyDocument:\n    Version: 2012-10-17\n    Statement:\n      - Effect: Allow\n        Principal:\n          Service:\n            - lambda.amazonaws.com\n            - secretsmanager.amazonaws.com\n        Action:\n          - 'sts:AssumeRole'\n  Path: /\n  ManagedPolicyArns:\n    - !!Ref |-\n      iam  aws\n      policy/service-role/awslambdavpcaccessexecutionrole\n    - !!Ref |-\n      iam  aws\n      policy/secretsmanagerreadwrite\n    - !!Ref |-\n      iam  aws\n      policy/iamfullaccess\n  Policies:\n    - PolicyName: AdditionalPermissions\n      PolicyDocument:\n        Version: 2012-10-17\n        Statement:\n          - Effect: Allow\n            Action: 'lambda:*'\n            Resource: '*'\n          - Effect: Allow\n            Action:\n              - 'cloudformation:DescribeStackResources'\n              - 'cloudformation:DeleteStack'\n            Resource: !!Sub \n              Ref: |-\n                cloudformation  \n                stack/serverlessrepo--secretrotationlambdastack/*\n          - Effect: Allow\n            Action:\n              - 'lambda:DeleteFunction'\n              - 'lambda:GetFunctionConfiguration'\n              - 'lambda:RemovePermission'\n              - 'lambda:TagResource'\n            Resource: !!Sub \n              Ref: |-\n                lambda  \n                secretsmanager-secretrotationfn-\n          - Effect: Allow\n            Action:\n              - 'iam:DetachRolePolicy'\n            Resource: !!Sub \n              Ref: |-\n                iam  \n                role/serverlessrepo*\n","resource":{"Condition":"IsNotUseDBSnapshot","Type":"AWS::IAM::Role","Properties":{"AssumeRolePolicyDocument":{"Version":"2012-10-17","Statement":[{"Effect":"Allow","Principal":{"Service":["lambda.amazonaws.com","secretsmanager.amazonaws.com"]},"Action":["sts:AssumeRole"]}]},"Path":"/","ManagedPolicyArns":[{"Ref":"iam  aws\npolicy/service-role/awslambdavpcaccessexecutionrole"},{"Ref":"iam  aws\npolicy/secretsmanagerreadwrite"},{"Ref":"iam  aws\npolicy/iamfullaccess"}],"Policies":[{"PolicyName":"AdditionalPermissions","PolicyDocument":{"Version":"2012-10-17","Statement":[{"Effect":"Allow","Action":"lambda:*","Resource":"*"},{"Effect":"Allow","Action":["cloudformation:DescribeStackResources","cloudformation:DeleteStack"],"Resource":{"Fn::Sub":{"Ref":"cloudformation  \nstack/serverlessrepo--secretrotationlambdastack/*"}}},{"Effect":"Allow","Action":["lambda:DeleteFunction","lambda:GetFunctionConfiguration","lambda:RemovePermission","lambda:TagResource"],"Resource":{"Fn::Sub":{"Ref":"lambda  \nsecretsmanager-secretrotationfn-"}}},{"Effect":"Allow","Action":["iam:DetachRolePolicy"],"Resource":{"Fn::Sub":{"Ref":"iam  \nrole/serverlessrepo*"}}}]}}]}}},{"id":"root.CreateSecretRotationLambdaFn","dependencies":[{"key":"Fn::Sub","value":[],"path":"$.Properties.VpcConfig.SecurityGroupIds"},{"key":"Fn::Sub","value":[],"path":"$.Properties.VpcConfig.SubnetIds"},{"key":"Fn::GetAtt","value":["CreateSecretRotationLambdaRole"],"path":"$.Properties.Role"}],"prefix":"root","hidden":false,"type":"AWS::Lambda::Function","label":"CreateSecretRotationLambdaFn","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-Lambda_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23C8511B%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF9900%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-Lambda_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FCompute%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M28.0075352%2C66%20L15.5907274%2C66%20L29.3235885%2C37.296%20L35.5460249%2C50.106%20L28.0075352%2C66%20Z%20M30.2196674%2C34.553%20C30.0512768%2C34.208%2029.7004629%2C33.989%2029.3175745%2C33.989%20L29.3145676%2C33.989%20C28.9286723%2C33.99%2028.5778583%2C34.211%2028.4124746%2C34.558%20L13.097944%2C66.569%20C12.9495999%2C66.879%2012.9706487%2C67.243%2013.1550766%2C67.534%20C13.3374998%2C67.824%2013.6582439%2C68%2014.0020416%2C68%20L28.6420072%2C68%20C29.0299071%2C68%2029.3817234%2C67.777%2029.5481094%2C67.428%20L37.563706%2C50.528%20C37.693006%2C50.254%2037.6920037%2C49.937%2037.5586944%2C49.665%20L30.2196674%2C34.553%20Z%20M64.9953491%2C66%20L52.6587274%2C66%20L32.866809%2C24.57%20C32.7014253%2C24.222%2032.3486067%2C24%2031.9617091%2C24%20L23.8899822%2C24%20L23.8990031%2C14%20L39.7197081%2C14%20L59.4204149%2C55.429%20C59.5857986%2C55.777%2059.9386172%2C56%2060.3255148%2C56%20L64.9953491%2C56%20L64.9953491%2C66%20Z%20M65.9976745%2C54%20L60.9599868%2C54%20L41.25928%2C12.571%20C41.0938963%2C12.223%2040.7410777%2C12%2040.3531778%2C12%20L22.89768%2C12%20C22.3453987%2C12%2021.8963569%2C12.447%2021.8953545%2C12.999%20L21.884329%2C24.999%20C21.884329%2C25.265%2021.9885708%2C25.519%2022.1780103%2C25.707%20C22.3654452%2C25.895%2022.6200358%2C26%2022.8866544%2C26%20L31.3292417%2C26%20L51.1221625%2C67.43%20C51.2885485%2C67.778%2051.6393624%2C68%2052.02626%2C68%20L65.9976745%2C68%20C66.5519605%2C68%2067%2C67.552%2067%2C67%20L67%2C55%20C67%2C54.448%2066.5519605%2C54%2065.9976745%2C54%20L65.9976745%2C54%20Z%22%20id%3D%22AWS-Lambda_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Condition: IsNotUseDBSnapshot\nType: 'AWS::Lambda::Function'\nProperties:\n  Code:\n    ZipFile: |\n      import cfnresponse\n      import boto3\n      from botocore.vendored import requests\n\n      def lambda_handler(event, context):\n          slrepoclient = boto3.client('serverlessrepo')\n          cfclient = boto3.client('cloudformation')\n          lambdaclient = boto3.client('lambda')\n          SecretsManagerEndpoint = event['ResourceProperties']['SecretsManagerEndpoint']\n          SecretRotationLambdaFnName = event['ResourceProperties']['SecretRotationLambdaFnName']\n          SecretRotationLambdaStackName = event['ResourceProperties']['SecretRotationLambdaStackName']\n          SubnetIds = event['ResourceProperties']['SubnetIds']\n          SecretRotationLambdaSG = event['ResourceProperties']['SecretRotationLambdaSG']\n          \n          responseData = {}\n           \n          try: \n              if event['RequestType'] == 'Create':\n                  serverlessreporesponse = slrepoclient.create_cloud_formation_change_set(ApplicationId='arn:aws:serverlessrepo:us-east-1:297356227824:applications/SecretsManagerRDSPostgreSQLRotationSingleUser', \n                  Capabilities=['CAPABILITY_IAM', 'CAPABILITY_RESOURCE_POLICY'],\n                  ParameterOverrides=[\n                      {\n                          'Name': 'endpoint',\n                          'Value': SecretsManagerEndpoint\n                      },\n                      {\n                          'Name': 'functionName',\n                          'Value': SecretRotationLambdaFnName\n                      },\n                  ],\n                  StackName=SecretRotationLambdaStackName)\n                  waiter = cfclient.get_waiter('change_set_create_complete')\n                  waiter.wait(ChangeSetName=serverlessreporesponse['ChangeSetId'],WaiterConfig={'Delay': 10,'MaxAttempts': 60})\n                  \n                  cloudformationresponse = cfclient.execute_change_set(ChangeSetName=serverlessreporesponse['ChangeSetId'])\n                  waiter = cfclient.get_waiter('stack_create_complete')\n                  waiter.wait(StackName=serverlessreporesponse['StackId'],WaiterConfig={'Delay': 10,'MaxAttempts': 60})\n                  \n                  lambdaresponse = lambdaclient.add_permission(FunctionName=SecretRotationLambdaFnName,StatementId='SecretsManagerAccess',Action='lambda:InvokeFunction',Principal='secretsmanager.amazonaws.com')\n                  lambdaresponse = lambdaclient.update_function_configuration(FunctionName=SecretRotationLambdaFnName,VpcConfig={'SubnetIds': SubnetIds,'SecurityGroupIds': SecretRotationLambdaSG})\n                  \n                  responseData['Data'] = \"SUCCESS: Secret Rotation Lambda created successfully.\"\n                  responseData['SecretRotationLambdaARN'] = lambdaclient.get_function(FunctionName=SecretRotationLambdaFnName)['Configuration']['FunctionArn']\n                  \n                  cfnresponse.send(event, context, cfnresponse.SUCCESS, responseData, \"None\")               \n              elif event['RequestType'] == 'Delete':\n                  SecretRotationLambdaStackName = 'serverlessrepo-' + SecretRotationLambdaStackName\n                  response = cfclient.delete_stack(StackName=SecretRotationLambdaStackName)\n                  waiter = cfclient.get_waiter('stack_delete_complete')\n                  waiter.wait(StackName='string',WaiterConfig={'Delay': 10,'MaxAttempts': 60})\n                  \n                  responseData['Data'] = \"SUCCESS: Stack delete complete.\"\n                  cfnresponse.send(event, context, cfnresponse.SUCCESS, responseData, \"None\")\n              else:\n                  responseData['Data'] = \"{} is unsupported stack operation for this lambda function.\".format(event['RequestType'])\n                  cfnresponse.send(event, context, cfnresponse.SUCCESS, responseData, \"None\")\n          except Exception as e:\n              print(e)\n              responseData['Data'] = \"ERROR: Exception encountered!\"\n              cfnresponse.send(event, context, cfnresponse.SUCCESS, responseData, \"None\")\n  Description: -\n    Create Secret Rotation Lambda function using AWS Serverless Application\n    Repository with template provided by AWS Secrets Manager\n  Handler: index.lambda_handler\n  MemorySize: 128\n  Role: !!GetAtt CreateSecretRotationLambdaRole.Arn\n  Runtime: python3.9\n  Timeout: 120\n  VpcConfig:\n    SecurityGroupIds: !!Split \n      - ','\n      - !!ImportValue \n        'Fn::Sub': '${ParentVPCStack}-SecretRotationLambdaSecurityGroup'\n    SubnetIds: !!Split \n      - ','\n      - !!ImportValue \n        'Fn::Sub': '${ParentVPCStack}-SubnetsPrivate'\n","resource":{"Condition":"IsNotUseDBSnapshot","Type":"AWS::Lambda::Function","Properties":{"Code":{"ZipFile":"import cfnresponse\nimport boto3\nfrom botocore.vendored import requests\n\ndef lambda_handler(event, context):\n    slrepoclient = boto3.client('serverlessrepo')\n    cfclient = boto3.client('cloudformation')\n    lambdaclient = boto3.client('lambda')\n    SecretsManagerEndpoint = event['ResourceProperties']['SecretsManagerEndpoint']\n    SecretRotationLambdaFnName = event['ResourceProperties']['SecretRotationLambdaFnName']\n    SecretRotationLambdaStackName = event['ResourceProperties']['SecretRotationLambdaStackName']\n    SubnetIds = event['ResourceProperties']['SubnetIds']\n    SecretRotationLambdaSG = event['ResourceProperties']['SecretRotationLambdaSG']\n    \n    responseData = {}\n     \n    try: \n        if event['RequestType'] == 'Create':\n            serverlessreporesponse = slrepoclient.create_cloud_formation_change_set(ApplicationId='arn:aws:serverlessrepo:us-east-1:297356227824:applications/SecretsManagerRDSPostgreSQLRotationSingleUser', \n            Capabilities=['CAPABILITY_IAM', 'CAPABILITY_RESOURCE_POLICY'],\n            ParameterOverrides=[\n                {\n                    'Name': 'endpoint',\n                    'Value': SecretsManagerEndpoint\n                },\n                {\n                    'Name': 'functionName',\n                    'Value': SecretRotationLambdaFnName\n                },\n            ],\n            StackName=SecretRotationLambdaStackName)\n            waiter = cfclient.get_waiter('change_set_create_complete')\n            waiter.wait(ChangeSetName=serverlessreporesponse['ChangeSetId'],WaiterConfig={'Delay': 10,'MaxAttempts': 60})\n            \n            cloudformationresponse = cfclient.execute_change_set(ChangeSetName=serverlessreporesponse['ChangeSetId'])\n            waiter = cfclient.get_waiter('stack_create_complete')\n            waiter.wait(StackName=serverlessreporesponse['StackId'],WaiterConfig={'Delay': 10,'MaxAttempts': 60})\n            \n            lambdaresponse = lambdaclient.add_permission(FunctionName=SecretRotationLambdaFnName,StatementId='SecretsManagerAccess',Action='lambda:InvokeFunction',Principal='secretsmanager.amazonaws.com')\n            lambdaresponse = lambdaclient.update_function_configuration(FunctionName=SecretRotationLambdaFnName,VpcConfig={'SubnetIds': SubnetIds,'SecurityGroupIds': SecretRotationLambdaSG})\n            \n            responseData['Data'] = \"SUCCESS: Secret Rotation Lambda created successfully.\"\n            responseData['SecretRotationLambdaARN'] = lambdaclient.get_function(FunctionName=SecretRotationLambdaFnName)['Configuration']['FunctionArn']\n            \n            cfnresponse.send(event, context, cfnresponse.SUCCESS, responseData, \"None\")               \n        elif event['RequestType'] == 'Delete':\n            SecretRotationLambdaStackName = 'serverlessrepo-' + SecretRotationLambdaStackName\n            response = cfclient.delete_stack(StackName=SecretRotationLambdaStackName)\n            waiter = cfclient.get_waiter('stack_delete_complete')\n            waiter.wait(StackName='string',WaiterConfig={'Delay': 10,'MaxAttempts': 60})\n            \n            responseData['Data'] = \"SUCCESS: Stack delete complete.\"\n            cfnresponse.send(event, context, cfnresponse.SUCCESS, responseData, \"None\")\n        else:\n            responseData['Data'] = \"{} is unsupported stack operation for this lambda function.\".format(event['RequestType'])\n            cfnresponse.send(event, context, cfnresponse.SUCCESS, responseData, \"None\")\n    except Exception as e:\n        print(e)\n        responseData['Data'] = \"ERROR: Exception encountered!\"\n        cfnresponse.send(event, context, cfnresponse.SUCCESS, responseData, \"None\")\n"},"Description":"Create Secret Rotation Lambda function using AWS Serverless Application Repository with template provided by AWS Secrets Manager","Handler":"index.lambda_handler","MemorySize":128,"Role":{"Fn::GetAtt":["CreateSecretRotationLambdaRole","Arn"]},"Runtime":"python3.9","Timeout":120,"VpcConfig":{"SecurityGroupIds":{"Fn::Split":[",",{"Fn::ImportValue":{"Fn::Sub":"${ParentVPCStack}-SecretRotationLambdaSecurityGroup"}}]},"SubnetIds":{"Fn::Split":[",",{"Fn::ImportValue":{"Fn::Sub":"${ParentVPCStack}-SubnetsPrivate"}}]}}}}},{"id":"root.CreateSecretRotationLambdaFnTrigger","dependencies":[{"key":"Fn::Sub","value":[],"path":"$.Properties.SubnetIds"},{"key":"Fn::Sub","value":[],"path":"$.Properties.SecretRotationLambdaSG"},{"key":"Fn::GetAtt","value":["CreateSecretRotationLambdaFn"],"path":"$.Properties.ServiceToken"}],"prefix":"root","hidden":false,"type":"Custom::LambdaAPGSecretsManager","label":"CreateSecretRotationLambdaFnTrigger","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.0%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20%20%20%20width%3D%22100px%22%20height%3D%22100px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%20%20%20%3Crect%20x%3D%2215%22%20y%3D%2215%22%20fill%3D%22%23FF9900%22%20width%3D%2270%22%20height%3D%2270%22%2F%3E%20%20%20%3Cg%3E%20%20%20%20%20%20%20%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M39.4%2C47c0%2C0.6%2C0.1%2C1.1%2C0.2%2C1.4c0.1%2C0.4%2C0.3%2C0.7%2C0.5%2C1.2c0.1%2C0.1%2C0.1%2C0.3%2C0.1%2C0.4c0%2C0.2-0.1%2C0.3-0.3%2C0.5%20%20%20%20%20%20%20%20%20%20%20l-1%2C0.7c-0.2%2C0.1-0.3%2C0.1-0.4%2C0.1c-0.2%2C0-0.3-0.1-0.5-0.2c-0.2-0.2-0.4-0.5-0.6-0.8c-0.2-0.3-0.3-0.6-0.5-1%20%20%20%20%20%20%20%20%20%20%20c-1.3%2C1.5-2.9%2C2.2-4.8%2C2.2c-1.4%2C0-2.4-0.4-3.2-1.2c-0.8-0.8-1.2-1.8-1.2-3.1c0-1.4%2C0.5-2.5%2C1.5-3.3c1-0.8%2C2.3-1.3%2C4-1.3%20%20%20%20%20%20%20%20%20%20%20c0.5%2C0%2C1.1%2C0%2C1.7%2C0.1c0.6%2C0.1%2C1.2%2C0.2%2C1.9%2C0.4V42c0-1.2-0.3-2.1-0.8-2.6c-0.5-0.5-1.4-0.8-2.6-0.8c-0.6%2C0-1.1%2C0.1-1.7%2C0.2%20%20%20%20%20%20%20%20%20%20%20c-0.6%2C0.1-1.2%2C0.3-1.7%2C0.6c-0.3%2C0.1-0.5%2C0.2-0.6%2C0.2c-0.1%2C0-0.2%2C0-0.3%2C0c-0.2%2C0-0.3-0.2-0.3-0.5v-0.8c0-0.3%2C0-0.5%2C0.1-0.6%20%20%20%20%20%20%20%20%20%20%20c0.1-0.1%2C0.2-0.2%2C0.5-0.3c0.6-0.3%2C1.2-0.5%2C2-0.7c0.8-0.2%2C1.6-0.3%2C2.5-0.3c1.9%2C0%2C3.3%2C0.4%2C4.2%2C1.3c0.9%2C0.9%2C1.3%2C2.2%2C1.3%2C4V47z%20%20%20%20%20%20%20%20%20%20%20%20M32.8%2C49.5c0.5%2C0%2C1.1-0.1%2C1.7-0.3c0.6-0.2%2C1.1-0.5%2C1.5-1c0.3-0.3%2C0.4-0.6%2C0.6-1c0.1-0.4%2C0.2-0.9%2C0.2-1.4V45%20%20%20%20%20%20%20%20%20%20%20c-0.5-0.1-1-0.2-1.5-0.3c-0.5-0.1-1-0.1-1.5-0.1c-1.1%2C0-1.9%2C0.2-2.4%2C0.7c-0.5%2C0.4-0.8%2C1.1-0.8%2C1.9c0%2C0.8%2C0.2%2C1.3%2C0.6%2C1.7%20%20%20%20%20%20%20%20%20%20%20C31.5%2C49.3%2C32%2C49.5%2C32.8%2C49.5z%20M45.8%2C51.2c-0.3%2C0-0.5-0.1-0.6-0.2c-0.1-0.1-0.2-0.3-0.3-0.6L41%2C37.9c-0.1-0.3-0.1-0.5-0.1-0.7%20%20%20%20%20%20%20%20%20%20%20c0-0.3%2C0.1-0.4%2C0.4-0.4h1.6c0.3%2C0%2C0.5%2C0.1%2C0.6%2C0.2c0.1%2C0.1%2C0.2%2C0.3%2C0.3%2C0.6l2.7%2C10.7l2.5-10.7c0.1-0.3%2C0.2-0.5%2C0.3-0.6%20%20%20%20%20%20%20%20%20%20%20c0.1-0.1%2C0.3-0.2%2C0.7-0.2h1.3c0.3%2C0%2C0.5%2C0.1%2C0.7%2C0.2c0.1%2C0.1%2C0.2%2C0.3%2C0.3%2C0.6l2.6%2C10.9l2.8-10.9c0.1-0.3%2C0.2-0.5%2C0.3-0.6%20%20%20%20%20%20%20%20%20%20%20c0.1-0.1%2C0.3-0.2%2C0.6-0.2h1.5c0.3%2C0%2C0.4%2C0.1%2C0.4%2C0.4c0%2C0.1%2C0%2C0.2%2C0%2C0.3c0%2C0.1-0.1%2C0.2-0.1%2C0.4l-3.9%2C12.5c-0.1%2C0.3-0.2%2C0.5-0.3%2C0.6%20%20%20%20%20%20%20%20%20%20%20c-0.1%2C0.1-0.3%2C0.2-0.6%2C0.2h-1.4c-0.3%2C0-0.5-0.1-0.7-0.2c-0.1-0.1-0.2-0.3-0.3-0.7L50.7%2C40l-2.5%2C10.4c-0.1%2C0.3-0.2%2C0.5-0.3%2C0.7%20%20%20%20%20%20%20%20%20%20%20c-0.1%2C0.1-0.4%2C0.2-0.7%2C0.2H45.8z%20M66.6%2C51.7c-0.9%2C0-1.7-0.1-2.5-0.3c-0.8-0.2-1.4-0.4-1.9-0.7c-0.3-0.2-0.4-0.3-0.5-0.5%20%20%20%20%20%20%20%20%20%20%20c-0.1-0.2-0.1-0.3-0.1-0.5V49c0-0.3%2C0.1-0.5%2C0.4-0.5c0.1%2C0%2C0.2%2C0%2C0.3%2C0.1c0.1%2C0%2C0.2%2C0.1%2C0.4%2C0.2c0.5%2C0.2%2C1.1%2C0.4%2C1.8%2C0.6%20%20%20%20%20%20%20%20%20%20%20c0.6%2C0.1%2C1.3%2C0.2%2C1.9%2C0.2c1%2C0%2C1.8-0.2%2C2.4-0.5c0.6-0.4%2C0.8-0.9%2C0.8-1.5c0-0.5-0.1-0.8-0.4-1.1c-0.3-0.3-0.8-0.6-1.6-0.9l-2.4-0.7%20%20%20%20%20%20%20%20%20%20%20c-1.2-0.4-2.1-0.9-2.6-1.6c-0.5-0.7-0.8-1.5-0.8-2.4c0-0.7%2C0.1-1.3%2C0.4-1.8c0.3-0.5%2C0.7-1%2C1.2-1.3c0.5-0.4%2C1-0.6%2C1.7-0.8%20%20%20%20%20%20%20%20%20%20%20c0.6-0.2%2C1.3-0.3%2C2-0.3c0.4%2C0%2C0.7%2C0%2C1.1%2C0.1c0.4%2C0%2C0.7%2C0.1%2C1%2C0.2c0.3%2C0.1%2C0.6%2C0.2%2C0.9%2C0.3c0.3%2C0.1%2C0.5%2C0.2%2C0.7%2C0.3%20%20%20%20%20%20%20%20%20%20%20c0.2%2C0.1%2C0.4%2C0.3%2C0.5%2C0.4c0.1%2C0.1%2C0.1%2C0.3%2C0.1%2C0.5v0.8c0%2C0.3-0.1%2C0.5-0.4%2C0.5c-0.1%2C0-0.3-0.1-0.6-0.2c-0.9-0.4-2-0.6-3.1-0.6%20%20%20%20%20%20%20%20%20%20%20c-0.9%2C0-1.6%2C0.2-2.2%2C0.5c-0.5%2C0.3-0.8%2C0.8-0.8%2C1.4c0%2C0.5%2C0.2%2C0.8%2C0.5%2C1.1c0.3%2C0.3%2C0.9%2C0.6%2C1.8%2C0.9l2.3%2C0.7c1.2%2C0.4%2C2%2C0.9%2C2.5%2C1.6%20%20%20%20%20%20%20%20%20%20%20c0.5%2C0.7%2C0.8%2C1.4%2C0.8%2C2.3c0%2C0.7-0.1%2C1.3-0.4%2C1.9c-0.3%2C0.6-0.7%2C1-1.2%2C1.4c-0.5%2C0.4-1.1%2C0.7-1.8%2C0.9C68.2%2C51.6%2C67.5%2C51.7%2C66.6%2C51.7z%20%20%20%20%20%20%20%20%20%20%20%22%2F%3E%20%20%20%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%23FFFFFF%22%20d%3D%22M69.7%2C59.5c-5.3%2C3.9-13.1%2C6-19.7%2C6c-9.3%2C0-17.8-3.5-24.1-9.2%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c-0.5-0.5-0.1-1.1%2C0.5-0.7c6.9%2C4%2C15.4%2C6.4%2C24.1%2C6.4c5.9%2C0%2C12.4-1.2%2C18.4-3.8C69.8%2C57.9%2C70.6%2C58.9%2C69.7%2C59.5z%22%2F%3E%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%23FFFFFF%22%20d%3D%22M71.9%2C57c-0.7-0.9-4.5-0.4-6.2-0.2c-0.5%2C0.1-0.6-0.4-0.1-0.7%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c3.1-2.1%2C8.1-1.5%2C8.6-0.8c0.6%2C0.7-0.2%2C5.7-3%2C8.1c-0.4%2C0.4-0.9%2C0.2-0.7-0.3C71.2%2C61.5%2C72.6%2C57.9%2C71.9%2C57z%22%2F%3E%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E","title":"Condition: IsNotUseDBSnapshot\nType: 'Custom::LambdaAPGSecretsManager'\nVersion: '1.0'\nProperties:\n  ServiceToken: !!GetAtt CreateSecretRotationLambdaFn.Arn\n  SecretsManagerEndpoint: !!Sub 'https://secretsmanager.${AWS::Region}.amazonaws.com'\n  SecretRotationLambdaFnName: !!Sub 'SecretsManager-SecretRotationFn-${AWS::AccountId}'\n  SecretRotationLambdaStackName: !!Sub '${AWS::StackName}-SecretRotationLambdaStack'\n  SubnetIds: !!Split \n    - ','\n    - !!ImportValue \n      'Fn::Sub': '${ParentVPCStack}-SubnetsPrivate'\n  SecretRotationLambdaSG: !!Split \n    - ','\n    - !!ImportValue \n      'Fn::Sub': '${ParentVPCStack}-SecretRotationLambdaSecurityGroup'\n","resource":{"Condition":"IsNotUseDBSnapshot","Type":"Custom::LambdaAPGSecretsManager","Version":"1.0","Properties":{"ServiceToken":{"Fn::GetAtt":["CreateSecretRotationLambdaFn","Arn"]},"SecretsManagerEndpoint":{"Fn::Sub":"https://secretsmanager.${AWS::Region}.amazonaws.com"},"SecretRotationLambdaFnName":{"Fn::Sub":"SecretsManager-SecretRotationFn-${AWS::AccountId}"},"SecretRotationLambdaStackName":{"Fn::Sub":"${AWS::StackName}-SecretRotationLambdaStack"},"SubnetIds":{"Fn::Split":[",",{"Fn::ImportValue":{"Fn::Sub":"${ParentVPCStack}-SubnetsPrivate"}}]},"SecretRotationLambdaSG":{"Fn::Split":[",",{"Fn::ImportValue":{"Fn::Sub":"${ParentVPCStack}-SecretRotationLambdaSecurityGroup"}}]}}}},{"id":"root.AuroraSecretRotationSchedule","dependencies":[{"key":"Ref","value":["AuroraMasterSecret"],"path":"$.Properties.SecretId"},{"key":"Fn::GetAtt","value":["CreateSecretRotationLambdaFnTrigger"],"path":"$.Properties.RotationLambdaARN"}],"prefix":"root","hidden":false,"type":"AWS::SecretsManager::RotationSchedule","label":"AuroraSecretRotationSchedule","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-Secrets-Manager_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23BD0816%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF5252%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-Secrets-Manager_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FSecurity-Identity-Compliance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M38.76%2C43.36%20C38.76%2C44.044%2039.317%2C44.6%2040%2C44.6%20C40.684%2C44.6%2041.24%2C44.044%2041.24%2C43.36%20C41.24%2C42.676%2040.684%2C42.12%2040%2C42.12%20C39.317%2C42.12%2038.76%2C42.676%2038.76%2C43.36%20L38.76%2C43.36%20Z%20M36.76%2C43.36%20C36.76%2C41.573%2038.213%2C40.12%2040%2C40.12%20C41.787%2C40.12%2043.24%2C41.573%2043.24%2C43.36%20C43.24%2C44.796%2042.296%2C46.002%2041%2C46.426%20L41%2C49%20L39%2C49%20L39%2C46.426%20C37.704%2C46.002%2036.76%2C44.796%2036.76%2C43.36%20L36.76%2C43.36%20Z%20M49%2C38%20L31%2C38%20L31%2C51%20L49%2C51%20L49%2C48%20L46%2C48%20L46%2C46%20L49%2C46%20L49%2C43%20L46%2C43%20L46%2C41%20L49%2C41%20L49%2C38%20Z%20M34%2C36%20L45.999%2C36%20L46%2C31%20C46.001%2C28.384%2043.143%2C26.002%2040.004%2C26%20L40.001%2C26%20C38.472%2C26%2036.928%2C26.574%2035.763%2C27.575%20C34.643%2C28.537%2034%2C29.786%2034%2C31.001%20L34%2C36%20Z%20M48%2C31.001%20L47.999%2C36%20L50%2C36%20C50.553%2C36%2051%2C36.448%2051%2C37%20L51%2C52%20C51%2C52.552%2050.553%2C53%2050%2C53%20L30%2C53%20C29.447%2C53%2029%2C52.552%2029%2C52%20L29%2C37%20C29%2C36.448%2029.447%2C36%2030%2C36%20L32%2C36%20L32%2C31%20C32.001%2C29.202%2032.897%2C27.401%2034.459%2C26.058%20C35.982%2C24.75%2038.001%2C24%2040.001%2C24%20L40.004%2C24%20C44.265%2C24.002%2048.001%2C27.273%2048%2C31.001%20L48%2C31.001%20Z%20M19.207%2C55.049%20L20.828%2C53.877%20C18.093%2C50.097%2016.581%2C45.662%2016.396%2C41%20L19%2C41%20L19%2C39%20L16.399%2C39%20C16.598%2C34.366%2018.108%2C29.957%2020.828%2C26.198%20L19.207%2C25.025%20C16.239%2C29.128%2014.599%2C33.942%2014.399%2C39%20L12%2C39%20L12%2C41%20L14.396%2C41%20C14.582%2C46.086%2016.224%2C50.926%2019.207%2C55.049%20L19.207%2C55.049%20Z%20M53.838%2C59.208%20C50.069%2C61.936%2045.648%2C63.446%2041%2C63.639%20L41%2C61%20L39%2C61%20L39%2C63.639%20C34.352%2C63.447%2029.93%2C61.937%2026.159%2C59.208%20L24.988%2C60.828%20C29.1%2C63.805%2033.928%2C65.445%2039%2C65.639%20L39%2C68%20L41%2C68%20L41%2C65.639%20C46.072%2C65.445%2050.898%2C63.805%2055.01%2C60.828%20L53.838%2C59.208%20Z%20M26.159%2C20.866%20C29.93%2C18.138%2034.352%2C16.628%2039%2C16.436%20L39%2C19%20L41%2C19%20L41%2C16.436%20C45.648%2C16.628%2050.069%2C18.138%2053.838%2C20.866%20L55.01%2C19.246%20C50.898%2C16.27%2046.072%2C14.63%2041%2C14.436%20L41%2C12%20L39%2C12%20L39%2C14.436%20C33.928%2C14.629%2029.1%2C16.269%2024.988%2C19.246%20L26.159%2C20.866%20Z%20M65.599%2C39%20C65.399%2C33.942%2063.759%2C29.128%2060.79%2C25.025%20L59.169%2C26.198%20C61.89%2C29.957%2063.4%2C34.366%2063.599%2C39%20L61%2C39%20L61%2C41%20L63.602%2C41%20C63.416%2C45.662%2061.905%2C50.097%2059.169%2C53.877%20L60.79%2C55.049%20C63.774%2C50.926%2065.415%2C46.086%2065.602%2C41%20L68%2C41%20L68%2C39%20L65.599%2C39%20Z%20M56.386%2C25.064%20L64.226%2C17.224%20L62.812%2C15.81%20L54.972%2C23.65%20L56.386%2C25.064%20Z%20M23.612%2C55.01%20L15.772%2C62.85%20L17.186%2C64.264%20L25.026%2C56.424%20L23.612%2C55.01%20Z%20M28.666%2C27.253%20L13.825%2C12.413%20L12.411%2C13.827%20L27.252%2C28.667%20L28.666%2C27.253%20Z%20M54.193%2C52.78%20L67.586%2C66.173%20L66.172%2C67.587%20L52.779%2C54.194%20L54.193%2C52.78%20Z%22%20id%3D%22AWS-Secrets-Manager_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Condition: IsNotUseDBSnapshot\nType: 'AWS::SecretsManager::RotationSchedule'\nDependsOn:\n  - SecretAuroraClusterAttachment\n  - AuroraDBFirstInstance\nProperties:\n  SecretId: !!Ref AuroraMasterSecret\n  RotationLambdaARN: !!GetAtt CreateSecretRotationLambdaFnTrigger.SecretRotationLambdaARN\n  RotationRules:\n    AutomaticallyAfterDays: 30\n","resource":{"Condition":"IsNotUseDBSnapshot","Type":"AWS::SecretsManager::RotationSchedule","DependsOn":["SecretAuroraClusterAttachment","AuroraDBFirstInstance"],"Properties":{"SecretId":{"Ref":"AuroraMasterSecret"},"RotationLambdaARN":{"Fn::GetAtt":["CreateSecretRotationLambdaFnTrigger","SecretRotationLambdaARN"]},"RotationRules":{"AutomaticallyAfterDays":30}}}},{"id":"root.AuroraDBCluster","dependencies":[{"key":"Ref","value":[],"path":"$.Properties.EngineVersion"},{"key":"Ref","value":[],"path":"$.Properties.DatabaseName"},{"key":"Ref","value":[],"path":"$.Properties.Port"},{"key":"Ref","value":["DBSubnetGroup"],"path":"$.Properties.DBSubnetGroupName"},{"key":"Ref","value":["ClusterSecurityGroup"],"path":"$.Properties.VpcSecurityGroupIds"},{"key":"Ref","value":["RDSDBClusterParameterGroup"],"path":"$.Properties.DBClusterParameterGroupName"},{"key":"Ref","value":[],"path":"$.Properties.SnapshotIdentifier"},{"key":"Ref","value":["AuroraKMSCMK"],"path":"$.Properties.KmsKeyId"},{"key":"Ref","value":[],"path":"$.Properties.Tags.Value"},{"key":"Fn::Sub","value":["AuroraMasterSecret"],"path":"$.Properties.MasterUsername"},{"key":"Fn::Sub","value":["AuroraMasterSecret"],"path":"$.Properties.MasterUserPassword"}],"prefix":"root","hidden":false,"type":"AWS::RDS::DBCluster","label":"AuroraDBCluster","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_Amazon-RDS_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%232E27AD%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23527FFF%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_Amazon-RDS_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FDatabase%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M15.414%2C14%20L24.707%2C23.293%20L23.293%2C24.707%20L14%2C15.414%20L14%2C23%20L12%2C23%20L12%2C13%20C12%2C12.448%2012.447%2C12%2013%2C12%20L23%2C12%20L23%2C14%20L15.414%2C14%20Z%20M68%2C13%20L68%2C23%20L66%2C23%20L66%2C15.414%20L56.707%2C24.707%20L55.293%2C23.293%20L64.586%2C14%20L57%2C14%20L57%2C12%20L67%2C12%20C67.553%2C12%2068%2C12.448%2068%2C13%20L68%2C13%20Z%20M66%2C57%20L68%2C57%20L68%2C67%20C68%2C67.552%2067.553%2C68%2067%2C68%20L57%2C68%20L57%2C66%20L64.586%2C66%20L55.293%2C56.707%20L56.707%2C55.293%20L66%2C64.586%20L66%2C57%20Z%20M65.5%2C39.213%20C65.5%2C35.894%2061.668%2C32.615%2055.25%2C30.442%20L55.891%2C28.548%20C63.268%2C31.045%2067.5%2C34.932%2067.5%2C39.213%20C67.5%2C43.495%2063.268%2C47.383%2055.89%2C49.879%20L55.249%2C47.984%20C61.668%2C45.812%2065.5%2C42.534%2065.5%2C39.213%20L65.5%2C39.213%20Z%20M14.556%2C39.213%20C14.556%2C42.393%2018.143%2C45.585%2024.152%2C47.753%20L23.473%2C49.634%20C16.535%2C47.131%2012.556%2C43.333%2012.556%2C39.213%20C12.556%2C35.094%2016.535%2C31.296%2023.473%2C28.792%20L24.152%2C30.673%20C18.143%2C32.842%2014.556%2C36.034%2014.556%2C39.213%20L14.556%2C39.213%20Z%20M24.707%2C56.707%20L15.414%2C66%20L23%2C66%20L23%2C68%20L13%2C68%20C12.447%2C68%2012%2C67.552%2012%2C67%20L12%2C57%20L14%2C57%20L14%2C64.586%20L23.293%2C55.293%20L24.707%2C56.707%20Z%20M40%2C31.286%20C32.854%2C31.286%2029%2C29.44%2029%2C28.686%20C29%2C27.931%2032.854%2C26.086%2040%2C26.086%20C47.145%2C26.086%2051%2C27.931%2051%2C28.686%20C51%2C29.44%2047.145%2C31.286%2040%2C31.286%20L40%2C31.286%20Z%20M40.029%2C39.031%20C33.187%2C39.031%2029%2C37.162%2029%2C36.145%20L29%2C31.284%20C31.463%2C32.643%2035.832%2C33.286%2040%2C33.286%20C44.168%2C33.286%2048.537%2C32.643%2051%2C31.284%20L51%2C36.145%20C51%2C37.163%2046.835%2C39.031%2040.029%2C39.031%20L40.029%2C39.031%20Z%20M40.029%2C46.667%20C33.187%2C46.667%2029%2C44.798%2029%2C43.781%20L29%2C38.862%20C31.431%2C40.291%2035.742%2C41.031%2040.029%2C41.031%20C44.292%2C41.031%2048.578%2C40.292%2051%2C38.867%20L51%2C43.781%20C51%2C44.799%2046.835%2C46.667%2040.029%2C46.667%20L40.029%2C46.667%20Z%20M40%2C53.518%20C32.883%2C53.518%2029%2C51.605%2029%2C50.622%20L29%2C46.498%20C31.431%2C47.927%2035.742%2C48.667%2040.029%2C48.667%20C44.292%2C48.667%2048.578%2C47.929%2051%2C46.503%20L51%2C50.622%20C51%2C51.605%2047.117%2C53.518%2040%2C53.518%20L40%2C53.518%20Z%20M40%2C24.086%20C33.739%2C24.086%2027%2C25.525%2027%2C28.686%20L27%2C50.622%20C27%2C53.836%2033.54%2C55.518%2040%2C55.518%20C46.46%2C55.518%2053%2C53.836%2053%2C50.622%20L53%2C28.686%20C53%2C25.525%2046.261%2C24.086%2040%2C24.086%20L40%2C24.086%20Z%22%20id%3D%22Amazon-RDS_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Type: 'AWS::RDS::DBCluster'\nDeletionPolicy: Snapshot\nUpdateReplacePolicy: Snapshot\nProperties:\n  Engine: aurora-postgresql\n  EngineVersion: !!Ref DBEngineVersion\n  DatabaseName: !!If \n    - IsUseDBSnapshot\n    - !!Ref 'AWS::NoValue'\n    - !!Ref DBName\n  Port: !!Ref DBPort\n  MasterUsername: !!If \n    - IsUseDBSnapshot\n    - !!Ref 'AWS::NoValue'\n    - !!Sub '{{resolve:secretsmanager:${AuroraMasterSecret}:SecretString:username}}'\n  MasterUserPassword: !!If \n    - IsUseDBSnapshot\n    - !!Ref 'AWS::NoValue'\n    - !!Sub '{{resolve:secretsmanager:${AuroraMasterSecret}:SecretString:password}}'\n  DBSubnetGroupName: !!Ref DBSubnetGroup\n  VpcSecurityGroupIds:\n    - !!Ref ClusterSecurityGroup\n  BackupRetentionPeriod: !!If \n    - IsProd\n    - 35\n    - 7\n  DBClusterParameterGroupName: !!Ref RDSDBClusterParameterGroup\n  SnapshotIdentifier: !!If \n    - IsUseDBSnapshot\n    - !!Ref DBSnapshotName\n    - !!Ref 'AWS::NoValue'\n  StorageEncrypted: !!If \n    - IsUseDBSnapshot\n    - !!Ref 'AWS::NoValue'\n    - true\n  KmsKeyId: !!If \n    - IsNotUseDBSnapshot\n    - !!Ref AuroraKMSCMK\n    - !!Ref 'AWS::NoValue'\n  EnableIAMDatabaseAuthentication: !!If \n    - DoEnableIAM\n    - true\n    - !!Ref 'AWS::NoValue'\n  Tags:\n    - Key: EnvironmentStage\n      Value: !!Ref EnvironmentStage\n","resource":{"Type":"AWS::RDS::DBCluster","DeletionPolicy":"Snapshot","UpdateReplacePolicy":"Snapshot","Properties":{"Engine":"aurora-postgresql","EngineVersion":{"Ref":"DBEngineVersion"},"DatabaseName":{"Fn::If":["IsUseDBSnapshot",{"Ref":"AWS::NoValue"},{"Ref":"DBName"}]},"Port":{"Ref":"DBPort"},"MasterUsername":{"Fn::If":["IsUseDBSnapshot",{"Ref":"AWS::NoValue"},{"Fn::Sub":"{{resolve:secretsmanager:${AuroraMasterSecret}:SecretString:username}}"}]},"MasterUserPassword":{"Fn::If":["IsUseDBSnapshot",{"Ref":"AWS::NoValue"},{"Fn::Sub":"{{resolve:secretsmanager:${AuroraMasterSecret}:SecretString:password}}"}]},"DBSubnetGroupName":{"Ref":"DBSubnetGroup"},"VpcSecurityGroupIds":[{"Ref":"ClusterSecurityGroup"}],"BackupRetentionPeriod":{"Fn::If":["IsProd",35,7]},"DBClusterParameterGroupName":{"Ref":"RDSDBClusterParameterGroup"},"SnapshotIdentifier":{"Fn::If":["IsUseDBSnapshot",{"Ref":"DBSnapshotName"},{"Ref":"AWS::NoValue"}]},"StorageEncrypted":{"Fn::If":["IsUseDBSnapshot",{"Ref":"AWS::NoValue"},true]},"KmsKeyId":{"Fn::If":["IsNotUseDBSnapshot",{"Ref":"AuroraKMSCMK"},{"Ref":"AWS::NoValue"}]},"EnableIAMDatabaseAuthentication":{"Fn::If":["DoEnableIAM",true,{"Ref":"AWS::NoValue"}]},"Tags":[{"Key":"EnvironmentStage","Value":{"Ref":"EnvironmentStage"}}]}}},{"id":"root.AuroraDBFirstInstance","dependencies":[{"key":"Ref","value":[],"path":"$.Properties.DBInstanceClass"},{"key":"Ref","value":["AuroraDBCluster"],"path":"$.Properties.DBClusterIdentifier"},{"key":"Ref","value":[],"path":"$.Properties.EngineVersion"},{"key":"Ref","value":["DBParamGroup"],"path":"$.Properties.DBParameterGroupName"},{"key":"Ref","value":["DBSubnetGroup"],"path":"$.Properties.DBSubnetGroupName"},{"key":"Ref","value":["AuroraKMSCMK"],"path":"$.Properties.PerformanceInsightsKMSKeyId"},{"key":"Ref","value":[],"path":"$.Properties.Tags.Value"},{"key":"Fn::GetAtt","value":["MonitoringIAMRole"],"path":"$.Properties.MonitoringRoleArn"}],"prefix":"root","hidden":false,"type":"AWS::RDS::DBInstance","label":"AuroraDBFirstInstance","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_Amazon-RDS_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%232E27AD%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23527FFF%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_Amazon-RDS_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FDatabase%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M15.414%2C14%20L24.707%2C23.293%20L23.293%2C24.707%20L14%2C15.414%20L14%2C23%20L12%2C23%20L12%2C13%20C12%2C12.448%2012.447%2C12%2013%2C12%20L23%2C12%20L23%2C14%20L15.414%2C14%20Z%20M68%2C13%20L68%2C23%20L66%2C23%20L66%2C15.414%20L56.707%2C24.707%20L55.293%2C23.293%20L64.586%2C14%20L57%2C14%20L57%2C12%20L67%2C12%20C67.553%2C12%2068%2C12.448%2068%2C13%20L68%2C13%20Z%20M66%2C57%20L68%2C57%20L68%2C67%20C68%2C67.552%2067.553%2C68%2067%2C68%20L57%2C68%20L57%2C66%20L64.586%2C66%20L55.293%2C56.707%20L56.707%2C55.293%20L66%2C64.586%20L66%2C57%20Z%20M65.5%2C39.213%20C65.5%2C35.894%2061.668%2C32.615%2055.25%2C30.442%20L55.891%2C28.548%20C63.268%2C31.045%2067.5%2C34.932%2067.5%2C39.213%20C67.5%2C43.495%2063.268%2C47.383%2055.89%2C49.879%20L55.249%2C47.984%20C61.668%2C45.812%2065.5%2C42.534%2065.5%2C39.213%20L65.5%2C39.213%20Z%20M14.556%2C39.213%20C14.556%2C42.393%2018.143%2C45.585%2024.152%2C47.753%20L23.473%2C49.634%20C16.535%2C47.131%2012.556%2C43.333%2012.556%2C39.213%20C12.556%2C35.094%2016.535%2C31.296%2023.473%2C28.792%20L24.152%2C30.673%20C18.143%2C32.842%2014.556%2C36.034%2014.556%2C39.213%20L14.556%2C39.213%20Z%20M24.707%2C56.707%20L15.414%2C66%20L23%2C66%20L23%2C68%20L13%2C68%20C12.447%2C68%2012%2C67.552%2012%2C67%20L12%2C57%20L14%2C57%20L14%2C64.586%20L23.293%2C55.293%20L24.707%2C56.707%20Z%20M40%2C31.286%20C32.854%2C31.286%2029%2C29.44%2029%2C28.686%20C29%2C27.931%2032.854%2C26.086%2040%2C26.086%20C47.145%2C26.086%2051%2C27.931%2051%2C28.686%20C51%2C29.44%2047.145%2C31.286%2040%2C31.286%20L40%2C31.286%20Z%20M40.029%2C39.031%20C33.187%2C39.031%2029%2C37.162%2029%2C36.145%20L29%2C31.284%20C31.463%2C32.643%2035.832%2C33.286%2040%2C33.286%20C44.168%2C33.286%2048.537%2C32.643%2051%2C31.284%20L51%2C36.145%20C51%2C37.163%2046.835%2C39.031%2040.029%2C39.031%20L40.029%2C39.031%20Z%20M40.029%2C46.667%20C33.187%2C46.667%2029%2C44.798%2029%2C43.781%20L29%2C38.862%20C31.431%2C40.291%2035.742%2C41.031%2040.029%2C41.031%20C44.292%2C41.031%2048.578%2C40.292%2051%2C38.867%20L51%2C43.781%20C51%2C44.799%2046.835%2C46.667%2040.029%2C46.667%20L40.029%2C46.667%20Z%20M40%2C53.518%20C32.883%2C53.518%2029%2C51.605%2029%2C50.622%20L29%2C46.498%20C31.431%2C47.927%2035.742%2C48.667%2040.029%2C48.667%20C44.292%2C48.667%2048.578%2C47.929%2051%2C46.503%20L51%2C50.622%20C51%2C51.605%2047.117%2C53.518%2040%2C53.518%20L40%2C53.518%20Z%20M40%2C24.086%20C33.739%2C24.086%2027%2C25.525%2027%2C28.686%20L27%2C50.622%20C27%2C53.836%2033.54%2C55.518%2040%2C55.518%20C46.46%2C55.518%2053%2C53.836%2053%2C50.622%20L53%2C28.686%20C53%2C25.525%2046.261%2C24.086%2040%2C24.086%20L40%2C24.086%20Z%22%20id%3D%22Amazon-RDS_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Type: 'AWS::RDS::DBInstance'\nDeletionPolicy: Retain\nUpdateReplacePolicy: Delete\nProperties:\n  DBInstanceClass: !!Ref DBInstanceClass\n  DBClusterIdentifier: !!Ref AuroraDBCluster\n  Engine: aurora-postgresql\n  EngineVersion: !!Ref DBEngineVersion\n  DBParameterGroupName: !!Ref DBParamGroup\n  MonitoringInterval: !!If \n    - IsProd\n    - 1\n    - 0\n  MonitoringRoleArn: !!If \n    - IsProd\n    - !!GetAtt MonitoringIAMRole.Arn\n    - !!Ref 'AWS::NoValue'\n  AutoMinorVersionUpgrade: !!If \n    - IsProd\n    - 'false'\n    - 'true'\n  DBSubnetGroupName: !!Ref DBSubnetGroup\n  PubliclyAccessible: false\n  EnablePerformanceInsights: true\n  PerformanceInsightsKMSKeyId: !!Ref AuroraKMSCMK\n  PerformanceInsightsRetentionPeriod: !!If \n    - IsProd\n    - 731\n    - 7\n  Tags:\n    - Key: EnvironmentStage\n      Value: !!Ref EnvironmentStage\n","resource":{"Type":"AWS::RDS::DBInstance","DeletionPolicy":"Retain","UpdateReplacePolicy":"Delete","Properties":{"DBInstanceClass":{"Ref":"DBInstanceClass"},"DBClusterIdentifier":{"Ref":"AuroraDBCluster"},"Engine":"aurora-postgresql","EngineVersion":{"Ref":"DBEngineVersion"},"DBParameterGroupName":{"Ref":"DBParamGroup"},"MonitoringInterval":{"Fn::If":["IsProd",1,0]},"MonitoringRoleArn":{"Fn::If":["IsProd",{"Fn::GetAtt":["MonitoringIAMRole","Arn"]},{"Ref":"AWS::NoValue"}]},"AutoMinorVersionUpgrade":{"Fn::If":["IsProd","false","true"]},"DBSubnetGroupName":{"Ref":"DBSubnetGroup"},"PubliclyAccessible":false,"EnablePerformanceInsights":true,"PerformanceInsightsKMSKeyId":{"Ref":"AuroraKMSCMK"},"PerformanceInsightsRetentionPeriod":{"Fn::If":["IsProd",731,7]},"Tags":[{"Key":"EnvironmentStage","Value":{"Ref":"EnvironmentStage"}}]}}},{"id":"root.AuroraDBSecondInstance","dependencies":[{"key":"Ref","value":[],"path":"$.Properties.DBInstanceClass"},{"key":"Ref","value":["AuroraDBCluster"],"path":"$.Properties.DBClusterIdentifier"},{"key":"Ref","value":[],"path":"$.Properties.EngineVersion"},{"key":"Ref","value":["DBParamGroup"],"path":"$.Properties.DBParameterGroupName"},{"key":"Ref","value":["DBSubnetGroup"],"path":"$.Properties.DBSubnetGroupName"},{"key":"Ref","value":["AuroraKMSCMK"],"path":"$.Properties.PerformanceInsightsKMSKeyId"},{"key":"Ref","value":[],"path":"$.Properties.Tags.Value"},{"key":"Fn::GetAtt","value":["MonitoringIAMRole"],"path":"$.Properties.MonitoringRoleArn"}],"prefix":"root","hidden":false,"type":"AWS::RDS::DBInstance","label":"AuroraDBSecondInstance","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_Amazon-RDS_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%232E27AD%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23527FFF%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_Amazon-RDS_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FDatabase%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M15.414%2C14%20L24.707%2C23.293%20L23.293%2C24.707%20L14%2C15.414%20L14%2C23%20L12%2C23%20L12%2C13%20C12%2C12.448%2012.447%2C12%2013%2C12%20L23%2C12%20L23%2C14%20L15.414%2C14%20Z%20M68%2C13%20L68%2C23%20L66%2C23%20L66%2C15.414%20L56.707%2C24.707%20L55.293%2C23.293%20L64.586%2C14%20L57%2C14%20L57%2C12%20L67%2C12%20C67.553%2C12%2068%2C12.448%2068%2C13%20L68%2C13%20Z%20M66%2C57%20L68%2C57%20L68%2C67%20C68%2C67.552%2067.553%2C68%2067%2C68%20L57%2C68%20L57%2C66%20L64.586%2C66%20L55.293%2C56.707%20L56.707%2C55.293%20L66%2C64.586%20L66%2C57%20Z%20M65.5%2C39.213%20C65.5%2C35.894%2061.668%2C32.615%2055.25%2C30.442%20L55.891%2C28.548%20C63.268%2C31.045%2067.5%2C34.932%2067.5%2C39.213%20C67.5%2C43.495%2063.268%2C47.383%2055.89%2C49.879%20L55.249%2C47.984%20C61.668%2C45.812%2065.5%2C42.534%2065.5%2C39.213%20L65.5%2C39.213%20Z%20M14.556%2C39.213%20C14.556%2C42.393%2018.143%2C45.585%2024.152%2C47.753%20L23.473%2C49.634%20C16.535%2C47.131%2012.556%2C43.333%2012.556%2C39.213%20C12.556%2C35.094%2016.535%2C31.296%2023.473%2C28.792%20L24.152%2C30.673%20C18.143%2C32.842%2014.556%2C36.034%2014.556%2C39.213%20L14.556%2C39.213%20Z%20M24.707%2C56.707%20L15.414%2C66%20L23%2C66%20L23%2C68%20L13%2C68%20C12.447%2C68%2012%2C67.552%2012%2C67%20L12%2C57%20L14%2C57%20L14%2C64.586%20L23.293%2C55.293%20L24.707%2C56.707%20Z%20M40%2C31.286%20C32.854%2C31.286%2029%2C29.44%2029%2C28.686%20C29%2C27.931%2032.854%2C26.086%2040%2C26.086%20C47.145%2C26.086%2051%2C27.931%2051%2C28.686%20C51%2C29.44%2047.145%2C31.286%2040%2C31.286%20L40%2C31.286%20Z%20M40.029%2C39.031%20C33.187%2C39.031%2029%2C37.162%2029%2C36.145%20L29%2C31.284%20C31.463%2C32.643%2035.832%2C33.286%2040%2C33.286%20C44.168%2C33.286%2048.537%2C32.643%2051%2C31.284%20L51%2C36.145%20C51%2C37.163%2046.835%2C39.031%2040.029%2C39.031%20L40.029%2C39.031%20Z%20M40.029%2C46.667%20C33.187%2C46.667%2029%2C44.798%2029%2C43.781%20L29%2C38.862%20C31.431%2C40.291%2035.742%2C41.031%2040.029%2C41.031%20C44.292%2C41.031%2048.578%2C40.292%2051%2C38.867%20L51%2C43.781%20C51%2C44.799%2046.835%2C46.667%2040.029%2C46.667%20L40.029%2C46.667%20Z%20M40%2C53.518%20C32.883%2C53.518%2029%2C51.605%2029%2C50.622%20L29%2C46.498%20C31.431%2C47.927%2035.742%2C48.667%2040.029%2C48.667%20C44.292%2C48.667%2048.578%2C47.929%2051%2C46.503%20L51%2C50.622%20C51%2C51.605%2047.117%2C53.518%2040%2C53.518%20L40%2C53.518%20Z%20M40%2C24.086%20C33.739%2C24.086%2027%2C25.525%2027%2C28.686%20L27%2C50.622%20C27%2C53.836%2033.54%2C55.518%2040%2C55.518%20C46.46%2C55.518%2053%2C53.836%2053%2C50.622%20L53%2C28.686%20C53%2C25.525%2046.261%2C24.086%2040%2C24.086%20L40%2C24.086%20Z%22%20id%3D%22Amazon-RDS_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Condition: IsReplica\nType: 'AWS::RDS::DBInstance'\nDeletionPolicy: Retain\nUpdateReplacePolicy: Delete\nDependsOn:\n  - AuroraDBFirstInstance\nProperties:\n  DBInstanceClass: !!Ref DBInstanceClass\n  DBClusterIdentifier: !!Ref AuroraDBCluster\n  Engine: aurora-postgresql\n  EngineVersion: !!Ref DBEngineVersion\n  DBParameterGroupName: !!Ref DBParamGroup\n  MonitoringInterval: !!If \n    - IsProd\n    - 1\n    - 0\n  MonitoringRoleArn: !!If \n    - IsProd\n    - !!GetAtt MonitoringIAMRole.Arn\n    - !!Ref 'AWS::NoValue'\n  AutoMinorVersionUpgrade: !!If \n    - IsProd\n    - 'false'\n    - 'true'\n  DBSubnetGroupName: !!Ref DBSubnetGroup\n  PubliclyAccessible: false\n  EnablePerformanceInsights: true\n  PerformanceInsightsKMSKeyId: !!Ref AuroraKMSCMK\n  PerformanceInsightsRetentionPeriod: !!If \n    - IsProd\n    - 731\n    - 7\n  Tags:\n    - Key: EnvironmentStage\n      Value: !!Ref EnvironmentStage\n","resource":{"Condition":"IsReplica","Type":"AWS::RDS::DBInstance","DeletionPolicy":"Retain","UpdateReplacePolicy":"Delete","DependsOn":["AuroraDBFirstInstance"],"Properties":{"DBInstanceClass":{"Ref":"DBInstanceClass"},"DBClusterIdentifier":{"Ref":"AuroraDBCluster"},"Engine":"aurora-postgresql","EngineVersion":{"Ref":"DBEngineVersion"},"DBParameterGroupName":{"Ref":"DBParamGroup"},"MonitoringInterval":{"Fn::If":["IsProd",1,0]},"MonitoringRoleArn":{"Fn::If":["IsProd",{"Fn::GetAtt":["MonitoringIAMRole","Arn"]},{"Ref":"AWS::NoValue"}]},"AutoMinorVersionUpgrade":{"Fn::If":["IsProd","false","true"]},"DBSubnetGroupName":{"Ref":"DBSubnetGroup"},"PubliclyAccessible":false,"EnablePerformanceInsights":true,"PerformanceInsightsKMSKeyId":{"Ref":"AuroraKMSCMK"},"PerformanceInsightsRetentionPeriod":{"Fn::If":["IsProd",731,7]},"Tags":[{"Key":"EnvironmentStage","Value":{"Ref":"EnvironmentStage"}}]}}},{"id":"root.CPUUtilizationAlarm1","dependencies":[{"key":"Ref","value":["DBSNSTopic"],"path":"$.Properties.AlarmActions"},{"key":"Ref","value":["AuroraDBFirstInstance"],"path":"$.Properties.Dimensions.Value"}],"prefix":"root","hidden":false,"type":"AWS::CloudWatch::Alarm","label":"CPUUtilizationAlarm1","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_Amazon-CloudWatch_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23B0084D%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF4F8B%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_Amazon-CloudWatch_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FManagement-Governance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M55.0592315%2C46.7773707%20C55.0592315%2C42.8680281%2051.8575588%2C39.6876305%2047.9220646%2C39.6876305%20C43.9865705%2C39.6876305%2040.785903%2C42.8680281%2040.785903%2C46.7773707%20C40.785903%2C50.6867133%2043.9865705%2C53.8671108%2047.9220646%2C53.8671108%20C51.8575588%2C53.8671108%2055.0592315%2C50.6867133%2055.0592315%2C46.7773707%20M57.0697011%2C46.7773707%20C57.0697011%2C51.7881194%2052.9663327%2C55.8642207%2047.9220646%2C55.8642207%20C42.8788018%2C55.8642207%2038.7754334%2C51.7881194%2038.7754334%2C46.7773707%20C38.7754334%2C41.7666219%2042.8788018%2C37.6905206%2047.9220646%2C37.6905206%20C52.9663327%2C37.6905206%2057.0697011%2C41.7666219%2057.0697011%2C46.7773707%20M65.5096522%2C60.4735504%20L58.5011554%2C54.2026253%20C57.9352082%2C54.9944794%2057.2808004%2C55.7174332%2056.5540156%2C56.3634982%20L63.5524601%2C62.6334248%20C64.1495696%2C63.1686502%2065.0784065%2C63.1187225%2065.6182176%2C62.5255808%20C66.155013%2C61.9324392%2066.1067617%2C61.010773%2065.5096522%2C60.4735504%20M47.9220646%2C57.6616197%20C53.9645309%2C57.6616197%2058.8801289%2C52.7786859%2058.8801289%2C46.7773707%20C58.8801289%2C40.7750569%2053.9645309%2C35.8931217%2047.9220646%2C35.8931217%20C41.8806036%2C35.8931217%2036.9650056%2C40.7750569%2036.9650056%2C46.7773707%20C36.9650056%2C52.7786859%2041.8806036%2C57.6616197%2047.9220646%2C57.6616197%20M67.1119965%2C63.8626459%20C66.4264264%2C64.6165549%2065.47849%2C65%2064.5285431%2C65%20C63.7002296%2C65%2062.8699057%2C64.708422%2062.207456%2C64.1172774%20L54.9305615%2C57.5987107%20C52.9070239%2C58.8968321%2050.505518%2C59.6587296%2047.9220646%2C59.6587296%20C40.7718297%2C59.6587296%2034.9545361%2C53.8800921%2034.9545361%2C46.7773707%20C34.9545361%2C39.6746493%2040.7718297%2C33.8960118%2047.9220646%2C33.8960118%20C55.0733048%2C33.8960118%2060.8905985%2C39.6746493%2060.8905985%2C46.7773707%20C60.8905985%2C48.8154213%2060.3990387%2C50.7366411%2059.5465996%2C52.4511599%20L66.8556616%2C58.9906963%20C68.2750531%2C60.265851%2068.3896499%2C62.4496907%2067.1119965%2C63.8626459%20M21.2803274%2C29.392529%20C21.2803274%2C29.9117776%2021.3124949%2C30.429029%2021.3738143%2C30.9293051%20C21.4089975%2C31.2138932%2021.3205368%2C31.4984814%2021.1295422%2C31.7131707%20C20.9777518%2C31.8839236%2020.7736891%2C31.9967603%2020.550527%2C32.0347054%20C18.0786547%2C32.6687878%2014.0104695%2C34.5880104%2014.0104695%2C40.3456782%20C14.0104695%2C44.6933865%2016.4240382%2C47.0929141%2018.4495863%2C48.3411077%20C19.1411878%2C48.7744806%2019.9594489%2C49.0051468%2020.8229456%2C49.0141338%20L32.9450717%2C49.0251179%20L32.9430613%2C51.0222278%20L20.811888%2C51.0112437%20C19.5664021%2C50.9982625%2018.384246%2C50.6607509%2017.3840374%2C50.0346569%20C15.3765836%2C48.7974474%2012%2C45.8896553%2012%2C40.3456782%20C12%2C33.66235%2016.5999543%2C31.191925%2019.3000149%2C30.319188%20C19.2799102%2C30.0116331%2019.2698579%2C29.702081%2019.2698579%2C29.392529%20C19.2698579%2C23.9324305%2022.9982737%2C18.2696254%2027.9420183%2C16.2215892%20C33.7241287%2C13.8150717%2039.8500294%2C15.0083449%2044.3263399%2C19.4109737%20C45.7135638%2C20.7749998%2046.8545053%2C22.4316024%2047.7300648%2C24.3478294%20C48.9061895%2C23.3802296%2050.355738%2C22.8460027%2051.8836949%2C22.8460027%20C54.8863312%2C22.8460027%2058.2659305%2C25.1097268%2058.8680661%2C30.0605622%20C61.6797078%2C30.7046302%2067.6206453%2C32.9553731%2067.6206453%2C40.422567%20C67.6206453%2C43.4042521%2066.6797455%2C45.8666886%2064.8230769%2C47.7419748%20L63.3896121%2C46.3410022%20C64.8632863%2C44.8531553%2065.6101757%2C42.8620367%2065.6101757%2C40.422567%20C65.6101757%2C33.891019%2060.1055101%2C32.2663701%2057.737177%2C31.8719409%20C57.4677741%2C31.827006%2057.2295334%2C31.6752256%2057.0757325%2C31.4515493%20C56.9259525%2C31.2358614%2056.8686541%2C30.9712444%2056.9138897%2C30.7146157%20C56.5851779%2C26.6604826%2054.1605516%2C24.8431126%2051.8836949%2C24.8431126%20C50.4472144%2C24.8431126%2049.1001998%2C25.5381069%2048.1874466%2C26.7503526%20C47.9652897%2C27.0439277%2047.6044105%2C27.193711%2047.2344841%2C27.139789%20C46.8695838%2C27.085867%2046.5629872%2C26.8362283%2046.4373329%2C26.4917268%20C45.6140456%2C24.2260057%2044.4278686%2C22.3207628%2042.9119745%2C20.8309188%20C39.0327735%2C17.0154404%2033.7281496%2C15.9809374%2028.7170543%2C18.0649216%20C24.5463352%2C19.7924217%2021.2803274%2C24.7672224%2021.2803274%2C29.392529%22%20id%3D%22Amazon-CloudWatch_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Type: 'AWS::CloudWatch::Alarm'\nProperties:\n  ActionsEnabled: true\n  AlarmActions:\n    - !!Ref DBSNSTopic\n  AlarmDescription: CPU_Utilization\n  Dimensions:\n    - Name: DBInstanceIdentifier\n      Value: !!Ref AuroraDBFirstInstance\n  MetricName: CPUUtilization\n  Statistic: Maximum\n  Namespace: AWS/RDS\n  Threshold: '80'\n  Unit: Percent\n  ComparisonOperator: GreaterThanOrEqualToThreshold\n  Period: '60'\n  EvaluationPeriods: '5'\n  TreatMissingData: notBreaching\n","resource":{"Type":"AWS::CloudWatch::Alarm","Properties":{"ActionsEnabled":true,"AlarmActions":[{"Ref":"DBSNSTopic"}],"AlarmDescription":"CPU_Utilization","Dimensions":[{"Name":"DBInstanceIdentifier","Value":{"Ref":"AuroraDBFirstInstance"}}],"MetricName":"CPUUtilization","Statistic":"Maximum","Namespace":"AWS/RDS","Threshold":"80","Unit":"Percent","ComparisonOperator":"GreaterThanOrEqualToThreshold","Period":"60","EvaluationPeriods":"5","TreatMissingData":"notBreaching"}}},{"id":"root.CPUUtilizationAlarm2","dependencies":[{"key":"Ref","value":["DBSNSTopic"],"path":"$.Properties.AlarmActions"},{"key":"Ref","value":["AuroraDBSecondInstance"],"path":"$.Properties.Dimensions.Value"}],"prefix":"root","hidden":false,"type":"AWS::CloudWatch::Alarm","label":"CPUUtilizationAlarm2","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_Amazon-CloudWatch_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23B0084D%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF4F8B%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_Amazon-CloudWatch_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FManagement-Governance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M55.0592315%2C46.7773707%20C55.0592315%2C42.8680281%2051.8575588%2C39.6876305%2047.9220646%2C39.6876305%20C43.9865705%2C39.6876305%2040.785903%2C42.8680281%2040.785903%2C46.7773707%20C40.785903%2C50.6867133%2043.9865705%2C53.8671108%2047.9220646%2C53.8671108%20C51.8575588%2C53.8671108%2055.0592315%2C50.6867133%2055.0592315%2C46.7773707%20M57.0697011%2C46.7773707%20C57.0697011%2C51.7881194%2052.9663327%2C55.8642207%2047.9220646%2C55.8642207%20C42.8788018%2C55.8642207%2038.7754334%2C51.7881194%2038.7754334%2C46.7773707%20C38.7754334%2C41.7666219%2042.8788018%2C37.6905206%2047.9220646%2C37.6905206%20C52.9663327%2C37.6905206%2057.0697011%2C41.7666219%2057.0697011%2C46.7773707%20M65.5096522%2C60.4735504%20L58.5011554%2C54.2026253%20C57.9352082%2C54.9944794%2057.2808004%2C55.7174332%2056.5540156%2C56.3634982%20L63.5524601%2C62.6334248%20C64.1495696%2C63.1686502%2065.0784065%2C63.1187225%2065.6182176%2C62.5255808%20C66.155013%2C61.9324392%2066.1067617%2C61.010773%2065.5096522%2C60.4735504%20M47.9220646%2C57.6616197%20C53.9645309%2C57.6616197%2058.8801289%2C52.7786859%2058.8801289%2C46.7773707%20C58.8801289%2C40.7750569%2053.9645309%2C35.8931217%2047.9220646%2C35.8931217%20C41.8806036%2C35.8931217%2036.9650056%2C40.7750569%2036.9650056%2C46.7773707%20C36.9650056%2C52.7786859%2041.8806036%2C57.6616197%2047.9220646%2C57.6616197%20M67.1119965%2C63.8626459%20C66.4264264%2C64.6165549%2065.47849%2C65%2064.5285431%2C65%20C63.7002296%2C65%2062.8699057%2C64.708422%2062.207456%2C64.1172774%20L54.9305615%2C57.5987107%20C52.9070239%2C58.8968321%2050.505518%2C59.6587296%2047.9220646%2C59.6587296%20C40.7718297%2C59.6587296%2034.9545361%2C53.8800921%2034.9545361%2C46.7773707%20C34.9545361%2C39.6746493%2040.7718297%2C33.8960118%2047.9220646%2C33.8960118%20C55.0733048%2C33.8960118%2060.8905985%2C39.6746493%2060.8905985%2C46.7773707%20C60.8905985%2C48.8154213%2060.3990387%2C50.7366411%2059.5465996%2C52.4511599%20L66.8556616%2C58.9906963%20C68.2750531%2C60.265851%2068.3896499%2C62.4496907%2067.1119965%2C63.8626459%20M21.2803274%2C29.392529%20C21.2803274%2C29.9117776%2021.3124949%2C30.429029%2021.3738143%2C30.9293051%20C21.4089975%2C31.2138932%2021.3205368%2C31.4984814%2021.1295422%2C31.7131707%20C20.9777518%2C31.8839236%2020.7736891%2C31.9967603%2020.550527%2C32.0347054%20C18.0786547%2C32.6687878%2014.0104695%2C34.5880104%2014.0104695%2C40.3456782%20C14.0104695%2C44.6933865%2016.4240382%2C47.0929141%2018.4495863%2C48.3411077%20C19.1411878%2C48.7744806%2019.9594489%2C49.0051468%2020.8229456%2C49.0141338%20L32.9450717%2C49.0251179%20L32.9430613%2C51.0222278%20L20.811888%2C51.0112437%20C19.5664021%2C50.9982625%2018.384246%2C50.6607509%2017.3840374%2C50.0346569%20C15.3765836%2C48.7974474%2012%2C45.8896553%2012%2C40.3456782%20C12%2C33.66235%2016.5999543%2C31.191925%2019.3000149%2C30.319188%20C19.2799102%2C30.0116331%2019.2698579%2C29.702081%2019.2698579%2C29.392529%20C19.2698579%2C23.9324305%2022.9982737%2C18.2696254%2027.9420183%2C16.2215892%20C33.7241287%2C13.8150717%2039.8500294%2C15.0083449%2044.3263399%2C19.4109737%20C45.7135638%2C20.7749998%2046.8545053%2C22.4316024%2047.7300648%2C24.3478294%20C48.9061895%2C23.3802296%2050.355738%2C22.8460027%2051.8836949%2C22.8460027%20C54.8863312%2C22.8460027%2058.2659305%2C25.1097268%2058.8680661%2C30.0605622%20C61.6797078%2C30.7046302%2067.6206453%2C32.9553731%2067.6206453%2C40.422567%20C67.6206453%2C43.4042521%2066.6797455%2C45.8666886%2064.8230769%2C47.7419748%20L63.3896121%2C46.3410022%20C64.8632863%2C44.8531553%2065.6101757%2C42.8620367%2065.6101757%2C40.422567%20C65.6101757%2C33.891019%2060.1055101%2C32.2663701%2057.737177%2C31.8719409%20C57.4677741%2C31.827006%2057.2295334%2C31.6752256%2057.0757325%2C31.4515493%20C56.9259525%2C31.2358614%2056.8686541%2C30.9712444%2056.9138897%2C30.7146157%20C56.5851779%2C26.6604826%2054.1605516%2C24.8431126%2051.8836949%2C24.8431126%20C50.4472144%2C24.8431126%2049.1001998%2C25.5381069%2048.1874466%2C26.7503526%20C47.9652897%2C27.0439277%2047.6044105%2C27.193711%2047.2344841%2C27.139789%20C46.8695838%2C27.085867%2046.5629872%2C26.8362283%2046.4373329%2C26.4917268%20C45.6140456%2C24.2260057%2044.4278686%2C22.3207628%2042.9119745%2C20.8309188%20C39.0327735%2C17.0154404%2033.7281496%2C15.9809374%2028.7170543%2C18.0649216%20C24.5463352%2C19.7924217%2021.2803274%2C24.7672224%2021.2803274%2C29.392529%22%20id%3D%22Amazon-CloudWatch_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Condition: IsReplica\nType: 'AWS::CloudWatch::Alarm'\nProperties:\n  ActionsEnabled: true\n  AlarmActions:\n    - !!Ref DBSNSTopic\n  AlarmDescription: CPU_Utilization\n  Dimensions:\n    - Name: DBInstanceIdentifier\n      Value: !!Ref AuroraDBSecondInstance\n  MetricName: CPUUtilization\n  Statistic: Maximum\n  Namespace: AWS/RDS\n  Threshold: '80'\n  Unit: Percent\n  ComparisonOperator: GreaterThanOrEqualToThreshold\n  Period: '60'\n  EvaluationPeriods: '5'\n  TreatMissingData: notBreaching\n","resource":{"Condition":"IsReplica","Type":"AWS::CloudWatch::Alarm","Properties":{"ActionsEnabled":true,"AlarmActions":[{"Ref":"DBSNSTopic"}],"AlarmDescription":"CPU_Utilization","Dimensions":[{"Name":"DBInstanceIdentifier","Value":{"Ref":"AuroraDBSecondInstance"}}],"MetricName":"CPUUtilization","Statistic":"Maximum","Namespace":"AWS/RDS","Threshold":"80","Unit":"Percent","ComparisonOperator":"GreaterThanOrEqualToThreshold","Period":"60","EvaluationPeriods":"5","TreatMissingData":"notBreaching"}}},{"id":"root.MaxUsedTxIDsAlarm1","dependencies":[{"key":"Ref","value":["DBSNSTopic"],"path":"$.Properties.AlarmActions"},{"key":"Ref","value":["AuroraDBFirstInstance"],"path":"$.Properties.Dimensions.Value"}],"prefix":"root","hidden":false,"type":"AWS::CloudWatch::Alarm","label":"MaxUsedTxIDsAlarm1","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_Amazon-CloudWatch_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23B0084D%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF4F8B%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_Amazon-CloudWatch_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FManagement-Governance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M55.0592315%2C46.7773707%20C55.0592315%2C42.8680281%2051.8575588%2C39.6876305%2047.9220646%2C39.6876305%20C43.9865705%2C39.6876305%2040.785903%2C42.8680281%2040.785903%2C46.7773707%20C40.785903%2C50.6867133%2043.9865705%2C53.8671108%2047.9220646%2C53.8671108%20C51.8575588%2C53.8671108%2055.0592315%2C50.6867133%2055.0592315%2C46.7773707%20M57.0697011%2C46.7773707%20C57.0697011%2C51.7881194%2052.9663327%2C55.8642207%2047.9220646%2C55.8642207%20C42.8788018%2C55.8642207%2038.7754334%2C51.7881194%2038.7754334%2C46.7773707%20C38.7754334%2C41.7666219%2042.8788018%2C37.6905206%2047.9220646%2C37.6905206%20C52.9663327%2C37.6905206%2057.0697011%2C41.7666219%2057.0697011%2C46.7773707%20M65.5096522%2C60.4735504%20L58.5011554%2C54.2026253%20C57.9352082%2C54.9944794%2057.2808004%2C55.7174332%2056.5540156%2C56.3634982%20L63.5524601%2C62.6334248%20C64.1495696%2C63.1686502%2065.0784065%2C63.1187225%2065.6182176%2C62.5255808%20C66.155013%2C61.9324392%2066.1067617%2C61.010773%2065.5096522%2C60.4735504%20M47.9220646%2C57.6616197%20C53.9645309%2C57.6616197%2058.8801289%2C52.7786859%2058.8801289%2C46.7773707%20C58.8801289%2C40.7750569%2053.9645309%2C35.8931217%2047.9220646%2C35.8931217%20C41.8806036%2C35.8931217%2036.9650056%2C40.7750569%2036.9650056%2C46.7773707%20C36.9650056%2C52.7786859%2041.8806036%2C57.6616197%2047.9220646%2C57.6616197%20M67.1119965%2C63.8626459%20C66.4264264%2C64.6165549%2065.47849%2C65%2064.5285431%2C65%20C63.7002296%2C65%2062.8699057%2C64.708422%2062.207456%2C64.1172774%20L54.9305615%2C57.5987107%20C52.9070239%2C58.8968321%2050.505518%2C59.6587296%2047.9220646%2C59.6587296%20C40.7718297%2C59.6587296%2034.9545361%2C53.8800921%2034.9545361%2C46.7773707%20C34.9545361%2C39.6746493%2040.7718297%2C33.8960118%2047.9220646%2C33.8960118%20C55.0733048%2C33.8960118%2060.8905985%2C39.6746493%2060.8905985%2C46.7773707%20C60.8905985%2C48.8154213%2060.3990387%2C50.7366411%2059.5465996%2C52.4511599%20L66.8556616%2C58.9906963%20C68.2750531%2C60.265851%2068.3896499%2C62.4496907%2067.1119965%2C63.8626459%20M21.2803274%2C29.392529%20C21.2803274%2C29.9117776%2021.3124949%2C30.429029%2021.3738143%2C30.9293051%20C21.4089975%2C31.2138932%2021.3205368%2C31.4984814%2021.1295422%2C31.7131707%20C20.9777518%2C31.8839236%2020.7736891%2C31.9967603%2020.550527%2C32.0347054%20C18.0786547%2C32.6687878%2014.0104695%2C34.5880104%2014.0104695%2C40.3456782%20C14.0104695%2C44.6933865%2016.4240382%2C47.0929141%2018.4495863%2C48.3411077%20C19.1411878%2C48.7744806%2019.9594489%2C49.0051468%2020.8229456%2C49.0141338%20L32.9450717%2C49.0251179%20L32.9430613%2C51.0222278%20L20.811888%2C51.0112437%20C19.5664021%2C50.9982625%2018.384246%2C50.6607509%2017.3840374%2C50.0346569%20C15.3765836%2C48.7974474%2012%2C45.8896553%2012%2C40.3456782%20C12%2C33.66235%2016.5999543%2C31.191925%2019.3000149%2C30.319188%20C19.2799102%2C30.0116331%2019.2698579%2C29.702081%2019.2698579%2C29.392529%20C19.2698579%2C23.9324305%2022.9982737%2C18.2696254%2027.9420183%2C16.2215892%20C33.7241287%2C13.8150717%2039.8500294%2C15.0083449%2044.3263399%2C19.4109737%20C45.7135638%2C20.7749998%2046.8545053%2C22.4316024%2047.7300648%2C24.3478294%20C48.9061895%2C23.3802296%2050.355738%2C22.8460027%2051.8836949%2C22.8460027%20C54.8863312%2C22.8460027%2058.2659305%2C25.1097268%2058.8680661%2C30.0605622%20C61.6797078%2C30.7046302%2067.6206453%2C32.9553731%2067.6206453%2C40.422567%20C67.6206453%2C43.4042521%2066.6797455%2C45.8666886%2064.8230769%2C47.7419748%20L63.3896121%2C46.3410022%20C64.8632863%2C44.8531553%2065.6101757%2C42.8620367%2065.6101757%2C40.422567%20C65.6101757%2C33.891019%2060.1055101%2C32.2663701%2057.737177%2C31.8719409%20C57.4677741%2C31.827006%2057.2295334%2C31.6752256%2057.0757325%2C31.4515493%20C56.9259525%2C31.2358614%2056.8686541%2C30.9712444%2056.9138897%2C30.7146157%20C56.5851779%2C26.6604826%2054.1605516%2C24.8431126%2051.8836949%2C24.8431126%20C50.4472144%2C24.8431126%2049.1001998%2C25.5381069%2048.1874466%2C26.7503526%20C47.9652897%2C27.0439277%2047.6044105%2C27.193711%2047.2344841%2C27.139789%20C46.8695838%2C27.085867%2046.5629872%2C26.8362283%2046.4373329%2C26.4917268%20C45.6140456%2C24.2260057%2044.4278686%2C22.3207628%2042.9119745%2C20.8309188%20C39.0327735%2C17.0154404%2033.7281496%2C15.9809374%2028.7170543%2C18.0649216%20C24.5463352%2C19.7924217%2021.2803274%2C24.7672224%2021.2803274%2C29.392529%22%20id%3D%22Amazon-CloudWatch_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Type: 'AWS::CloudWatch::Alarm'\nProperties:\n  ActionsEnabled: true\n  AlarmActions:\n    - !!Ref DBSNSTopic\n  AlarmDescription: Maximum Used Transaction IDs\n  Dimensions:\n    - Name: DBInstanceIdentifier\n      Value: !!Ref AuroraDBFirstInstance\n  MetricName: MaximumUsedTransactionIDs\n  Statistic: Average\n  Namespace: AWS/RDS\n  Threshold: '600000000'\n  Unit: Count\n  ComparisonOperator: GreaterThanOrEqualToThreshold\n  Period: '60'\n  EvaluationPeriods: '5'\n  TreatMissingData: notBreaching\n","resource":{"Type":"AWS::CloudWatch::Alarm","Properties":{"ActionsEnabled":true,"AlarmActions":[{"Ref":"DBSNSTopic"}],"AlarmDescription":"Maximum Used Transaction IDs","Dimensions":[{"Name":"DBInstanceIdentifier","Value":{"Ref":"AuroraDBFirstInstance"}}],"MetricName":"MaximumUsedTransactionIDs","Statistic":"Average","Namespace":"AWS/RDS","Threshold":"600000000","Unit":"Count","ComparisonOperator":"GreaterThanOrEqualToThreshold","Period":"60","EvaluationPeriods":"5","TreatMissingData":"notBreaching"}}},{"id":"root.MaxUsedTxIDsAlarm2","dependencies":[{"key":"Ref","value":["DBSNSTopic"],"path":"$.Properties.AlarmActions"},{"key":"Ref","value":["AuroraDBSecondInstance"],"path":"$.Properties.Dimensions.Value"}],"prefix":"root","hidden":false,"type":"AWS::CloudWatch::Alarm","label":"MaxUsedTxIDsAlarm2","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_Amazon-CloudWatch_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23B0084D%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF4F8B%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_Amazon-CloudWatch_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FManagement-Governance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M55.0592315%2C46.7773707%20C55.0592315%2C42.8680281%2051.8575588%2C39.6876305%2047.9220646%2C39.6876305%20C43.9865705%2C39.6876305%2040.785903%2C42.8680281%2040.785903%2C46.7773707%20C40.785903%2C50.6867133%2043.9865705%2C53.8671108%2047.9220646%2C53.8671108%20C51.8575588%2C53.8671108%2055.0592315%2C50.6867133%2055.0592315%2C46.7773707%20M57.0697011%2C46.7773707%20C57.0697011%2C51.7881194%2052.9663327%2C55.8642207%2047.9220646%2C55.8642207%20C42.8788018%2C55.8642207%2038.7754334%2C51.7881194%2038.7754334%2C46.7773707%20C38.7754334%2C41.7666219%2042.8788018%2C37.6905206%2047.9220646%2C37.6905206%20C52.9663327%2C37.6905206%2057.0697011%2C41.7666219%2057.0697011%2C46.7773707%20M65.5096522%2C60.4735504%20L58.5011554%2C54.2026253%20C57.9352082%2C54.9944794%2057.2808004%2C55.7174332%2056.5540156%2C56.3634982%20L63.5524601%2C62.6334248%20C64.1495696%2C63.1686502%2065.0784065%2C63.1187225%2065.6182176%2C62.5255808%20C66.155013%2C61.9324392%2066.1067617%2C61.010773%2065.5096522%2C60.4735504%20M47.9220646%2C57.6616197%20C53.9645309%2C57.6616197%2058.8801289%2C52.7786859%2058.8801289%2C46.7773707%20C58.8801289%2C40.7750569%2053.9645309%2C35.8931217%2047.9220646%2C35.8931217%20C41.8806036%2C35.8931217%2036.9650056%2C40.7750569%2036.9650056%2C46.7773707%20C36.9650056%2C52.7786859%2041.8806036%2C57.6616197%2047.9220646%2C57.6616197%20M67.1119965%2C63.8626459%20C66.4264264%2C64.6165549%2065.47849%2C65%2064.5285431%2C65%20C63.7002296%2C65%2062.8699057%2C64.708422%2062.207456%2C64.1172774%20L54.9305615%2C57.5987107%20C52.9070239%2C58.8968321%2050.505518%2C59.6587296%2047.9220646%2C59.6587296%20C40.7718297%2C59.6587296%2034.9545361%2C53.8800921%2034.9545361%2C46.7773707%20C34.9545361%2C39.6746493%2040.7718297%2C33.8960118%2047.9220646%2C33.8960118%20C55.0733048%2C33.8960118%2060.8905985%2C39.6746493%2060.8905985%2C46.7773707%20C60.8905985%2C48.8154213%2060.3990387%2C50.7366411%2059.5465996%2C52.4511599%20L66.8556616%2C58.9906963%20C68.2750531%2C60.265851%2068.3896499%2C62.4496907%2067.1119965%2C63.8626459%20M21.2803274%2C29.392529%20C21.2803274%2C29.9117776%2021.3124949%2C30.429029%2021.3738143%2C30.9293051%20C21.4089975%2C31.2138932%2021.3205368%2C31.4984814%2021.1295422%2C31.7131707%20C20.9777518%2C31.8839236%2020.7736891%2C31.9967603%2020.550527%2C32.0347054%20C18.0786547%2C32.6687878%2014.0104695%2C34.5880104%2014.0104695%2C40.3456782%20C14.0104695%2C44.6933865%2016.4240382%2C47.0929141%2018.4495863%2C48.3411077%20C19.1411878%2C48.7744806%2019.9594489%2C49.0051468%2020.8229456%2C49.0141338%20L32.9450717%2C49.0251179%20L32.9430613%2C51.0222278%20L20.811888%2C51.0112437%20C19.5664021%2C50.9982625%2018.384246%2C50.6607509%2017.3840374%2C50.0346569%20C15.3765836%2C48.7974474%2012%2C45.8896553%2012%2C40.3456782%20C12%2C33.66235%2016.5999543%2C31.191925%2019.3000149%2C30.319188%20C19.2799102%2C30.0116331%2019.2698579%2C29.702081%2019.2698579%2C29.392529%20C19.2698579%2C23.9324305%2022.9982737%2C18.2696254%2027.9420183%2C16.2215892%20C33.7241287%2C13.8150717%2039.8500294%2C15.0083449%2044.3263399%2C19.4109737%20C45.7135638%2C20.7749998%2046.8545053%2C22.4316024%2047.7300648%2C24.3478294%20C48.9061895%2C23.3802296%2050.355738%2C22.8460027%2051.8836949%2C22.8460027%20C54.8863312%2C22.8460027%2058.2659305%2C25.1097268%2058.8680661%2C30.0605622%20C61.6797078%2C30.7046302%2067.6206453%2C32.9553731%2067.6206453%2C40.422567%20C67.6206453%2C43.4042521%2066.6797455%2C45.8666886%2064.8230769%2C47.7419748%20L63.3896121%2C46.3410022%20C64.8632863%2C44.8531553%2065.6101757%2C42.8620367%2065.6101757%2C40.422567%20C65.6101757%2C33.891019%2060.1055101%2C32.2663701%2057.737177%2C31.8719409%20C57.4677741%2C31.827006%2057.2295334%2C31.6752256%2057.0757325%2C31.4515493%20C56.9259525%2C31.2358614%2056.8686541%2C30.9712444%2056.9138897%2C30.7146157%20C56.5851779%2C26.6604826%2054.1605516%2C24.8431126%2051.8836949%2C24.8431126%20C50.4472144%2C24.8431126%2049.1001998%2C25.5381069%2048.1874466%2C26.7503526%20C47.9652897%2C27.0439277%2047.6044105%2C27.193711%2047.2344841%2C27.139789%20C46.8695838%2C27.085867%2046.5629872%2C26.8362283%2046.4373329%2C26.4917268%20C45.6140456%2C24.2260057%2044.4278686%2C22.3207628%2042.9119745%2C20.8309188%20C39.0327735%2C17.0154404%2033.7281496%2C15.9809374%2028.7170543%2C18.0649216%20C24.5463352%2C19.7924217%2021.2803274%2C24.7672224%2021.2803274%2C29.392529%22%20id%3D%22Amazon-CloudWatch_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Condition: IsReplica\nType: 'AWS::CloudWatch::Alarm'\nProperties:\n  ActionsEnabled: true\n  AlarmActions:\n    - !!Ref DBSNSTopic\n  AlarmDescription: Maximum Used Transaction IDs\n  Dimensions:\n    - Name: DBInstanceIdentifier\n      Value: !!Ref AuroraDBSecondInstance\n  MetricName: MaximumUsedTransactionIDs\n  Statistic: Average\n  Namespace: AWS/RDS\n  Threshold: '600000000'\n  Unit: Count\n  ComparisonOperator: GreaterThanOrEqualToThreshold\n  Period: '60'\n  EvaluationPeriods: '5'\n  TreatMissingData: notBreaching\n","resource":{"Condition":"IsReplica","Type":"AWS::CloudWatch::Alarm","Properties":{"ActionsEnabled":true,"AlarmActions":[{"Ref":"DBSNSTopic"}],"AlarmDescription":"Maximum Used Transaction IDs","Dimensions":[{"Name":"DBInstanceIdentifier","Value":{"Ref":"AuroraDBSecondInstance"}}],"MetricName":"MaximumUsedTransactionIDs","Statistic":"Average","Namespace":"AWS/RDS","Threshold":"600000000","Unit":"Count","ComparisonOperator":"GreaterThanOrEqualToThreshold","Period":"60","EvaluationPeriods":"5","TreatMissingData":"notBreaching"}}},{"id":"root.FreeLocalStorageAlarm1","dependencies":[{"key":"Ref","value":["DBSNSTopic"],"path":"$.Properties.AlarmActions"},{"key":"Ref","value":["AuroraDBFirstInstance"],"path":"$.Properties.Dimensions.Value"}],"prefix":"root","hidden":false,"type":"AWS::CloudWatch::Alarm","label":"FreeLocalStorageAlarm1","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_Amazon-CloudWatch_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23B0084D%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF4F8B%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_Amazon-CloudWatch_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FManagement-Governance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M55.0592315%2C46.7773707%20C55.0592315%2C42.8680281%2051.8575588%2C39.6876305%2047.9220646%2C39.6876305%20C43.9865705%2C39.6876305%2040.785903%2C42.8680281%2040.785903%2C46.7773707%20C40.785903%2C50.6867133%2043.9865705%2C53.8671108%2047.9220646%2C53.8671108%20C51.8575588%2C53.8671108%2055.0592315%2C50.6867133%2055.0592315%2C46.7773707%20M57.0697011%2C46.7773707%20C57.0697011%2C51.7881194%2052.9663327%2C55.8642207%2047.9220646%2C55.8642207%20C42.8788018%2C55.8642207%2038.7754334%2C51.7881194%2038.7754334%2C46.7773707%20C38.7754334%2C41.7666219%2042.8788018%2C37.6905206%2047.9220646%2C37.6905206%20C52.9663327%2C37.6905206%2057.0697011%2C41.7666219%2057.0697011%2C46.7773707%20M65.5096522%2C60.4735504%20L58.5011554%2C54.2026253%20C57.9352082%2C54.9944794%2057.2808004%2C55.7174332%2056.5540156%2C56.3634982%20L63.5524601%2C62.6334248%20C64.1495696%2C63.1686502%2065.0784065%2C63.1187225%2065.6182176%2C62.5255808%20C66.155013%2C61.9324392%2066.1067617%2C61.010773%2065.5096522%2C60.4735504%20M47.9220646%2C57.6616197%20C53.9645309%2C57.6616197%2058.8801289%2C52.7786859%2058.8801289%2C46.7773707%20C58.8801289%2C40.7750569%2053.9645309%2C35.8931217%2047.9220646%2C35.8931217%20C41.8806036%2C35.8931217%2036.9650056%2C40.7750569%2036.9650056%2C46.7773707%20C36.9650056%2C52.7786859%2041.8806036%2C57.6616197%2047.9220646%2C57.6616197%20M67.1119965%2C63.8626459%20C66.4264264%2C64.6165549%2065.47849%2C65%2064.5285431%2C65%20C63.7002296%2C65%2062.8699057%2C64.708422%2062.207456%2C64.1172774%20L54.9305615%2C57.5987107%20C52.9070239%2C58.8968321%2050.505518%2C59.6587296%2047.9220646%2C59.6587296%20C40.7718297%2C59.6587296%2034.9545361%2C53.8800921%2034.9545361%2C46.7773707%20C34.9545361%2C39.6746493%2040.7718297%2C33.8960118%2047.9220646%2C33.8960118%20C55.0733048%2C33.8960118%2060.8905985%2C39.6746493%2060.8905985%2C46.7773707%20C60.8905985%2C48.8154213%2060.3990387%2C50.7366411%2059.5465996%2C52.4511599%20L66.8556616%2C58.9906963%20C68.2750531%2C60.265851%2068.3896499%2C62.4496907%2067.1119965%2C63.8626459%20M21.2803274%2C29.392529%20C21.2803274%2C29.9117776%2021.3124949%2C30.429029%2021.3738143%2C30.9293051%20C21.4089975%2C31.2138932%2021.3205368%2C31.4984814%2021.1295422%2C31.7131707%20C20.9777518%2C31.8839236%2020.7736891%2C31.9967603%2020.550527%2C32.0347054%20C18.0786547%2C32.6687878%2014.0104695%2C34.5880104%2014.0104695%2C40.3456782%20C14.0104695%2C44.6933865%2016.4240382%2C47.0929141%2018.4495863%2C48.3411077%20C19.1411878%2C48.7744806%2019.9594489%2C49.0051468%2020.8229456%2C49.0141338%20L32.9450717%2C49.0251179%20L32.9430613%2C51.0222278%20L20.811888%2C51.0112437%20C19.5664021%2C50.9982625%2018.384246%2C50.6607509%2017.3840374%2C50.0346569%20C15.3765836%2C48.7974474%2012%2C45.8896553%2012%2C40.3456782%20C12%2C33.66235%2016.5999543%2C31.191925%2019.3000149%2C30.319188%20C19.2799102%2C30.0116331%2019.2698579%2C29.702081%2019.2698579%2C29.392529%20C19.2698579%2C23.9324305%2022.9982737%2C18.2696254%2027.9420183%2C16.2215892%20C33.7241287%2C13.8150717%2039.8500294%2C15.0083449%2044.3263399%2C19.4109737%20C45.7135638%2C20.7749998%2046.8545053%2C22.4316024%2047.7300648%2C24.3478294%20C48.9061895%2C23.3802296%2050.355738%2C22.8460027%2051.8836949%2C22.8460027%20C54.8863312%2C22.8460027%2058.2659305%2C25.1097268%2058.8680661%2C30.0605622%20C61.6797078%2C30.7046302%2067.6206453%2C32.9553731%2067.6206453%2C40.422567%20C67.6206453%2C43.4042521%2066.6797455%2C45.8666886%2064.8230769%2C47.7419748%20L63.3896121%2C46.3410022%20C64.8632863%2C44.8531553%2065.6101757%2C42.8620367%2065.6101757%2C40.422567%20C65.6101757%2C33.891019%2060.1055101%2C32.2663701%2057.737177%2C31.8719409%20C57.4677741%2C31.827006%2057.2295334%2C31.6752256%2057.0757325%2C31.4515493%20C56.9259525%2C31.2358614%2056.8686541%2C30.9712444%2056.9138897%2C30.7146157%20C56.5851779%2C26.6604826%2054.1605516%2C24.8431126%2051.8836949%2C24.8431126%20C50.4472144%2C24.8431126%2049.1001998%2C25.5381069%2048.1874466%2C26.7503526%20C47.9652897%2C27.0439277%2047.6044105%2C27.193711%2047.2344841%2C27.139789%20C46.8695838%2C27.085867%2046.5629872%2C26.8362283%2046.4373329%2C26.4917268%20C45.6140456%2C24.2260057%2044.4278686%2C22.3207628%2042.9119745%2C20.8309188%20C39.0327735%2C17.0154404%2033.7281496%2C15.9809374%2028.7170543%2C18.0649216%20C24.5463352%2C19.7924217%2021.2803274%2C24.7672224%2021.2803274%2C29.392529%22%20id%3D%22Amazon-CloudWatch_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Type: 'AWS::CloudWatch::Alarm'\nProperties:\n  ActionsEnabled: true\n  AlarmActions:\n    - !!Ref DBSNSTopic\n  AlarmDescription: Free Local Storage\n  Dimensions:\n    - Name: DBInstanceIdentifier\n      Value: !!Ref AuroraDBFirstInstance\n  MetricName: FreeLocalStorage\n  Statistic: Average\n  Namespace: AWS/RDS\n  Threshold: '5368709120'\n  Unit: Bytes\n  ComparisonOperator: LessThanOrEqualToThreshold\n  Period: '60'\n  EvaluationPeriods: '5'\n  TreatMissingData: notBreaching\n","resource":{"Type":"AWS::CloudWatch::Alarm","Properties":{"ActionsEnabled":true,"AlarmActions":[{"Ref":"DBSNSTopic"}],"AlarmDescription":"Free Local Storage","Dimensions":[{"Name":"DBInstanceIdentifier","Value":{"Ref":"AuroraDBFirstInstance"}}],"MetricName":"FreeLocalStorage","Statistic":"Average","Namespace":"AWS/RDS","Threshold":"5368709120","Unit":"Bytes","ComparisonOperator":"LessThanOrEqualToThreshold","Period":"60","EvaluationPeriods":"5","TreatMissingData":"notBreaching"}}},{"id":"root.FreeLocalStorageAlarm2","dependencies":[{"key":"Ref","value":["DBSNSTopic"],"path":"$.Properties.AlarmActions"},{"key":"Ref","value":["AuroraDBSecondInstance"],"path":"$.Properties.Dimensions.Value"}],"prefix":"root","hidden":false,"type":"AWS::CloudWatch::Alarm","label":"FreeLocalStorageAlarm2","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_Amazon-CloudWatch_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23B0084D%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF4F8B%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_Amazon-CloudWatch_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FManagement-Governance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M55.0592315%2C46.7773707%20C55.0592315%2C42.8680281%2051.8575588%2C39.6876305%2047.9220646%2C39.6876305%20C43.9865705%2C39.6876305%2040.785903%2C42.8680281%2040.785903%2C46.7773707%20C40.785903%2C50.6867133%2043.9865705%2C53.8671108%2047.9220646%2C53.8671108%20C51.8575588%2C53.8671108%2055.0592315%2C50.6867133%2055.0592315%2C46.7773707%20M57.0697011%2C46.7773707%20C57.0697011%2C51.7881194%2052.9663327%2C55.8642207%2047.9220646%2C55.8642207%20C42.8788018%2C55.8642207%2038.7754334%2C51.7881194%2038.7754334%2C46.7773707%20C38.7754334%2C41.7666219%2042.8788018%2C37.6905206%2047.9220646%2C37.6905206%20C52.9663327%2C37.6905206%2057.0697011%2C41.7666219%2057.0697011%2C46.7773707%20M65.5096522%2C60.4735504%20L58.5011554%2C54.2026253%20C57.9352082%2C54.9944794%2057.2808004%2C55.7174332%2056.5540156%2C56.3634982%20L63.5524601%2C62.6334248%20C64.1495696%2C63.1686502%2065.0784065%2C63.1187225%2065.6182176%2C62.5255808%20C66.155013%2C61.9324392%2066.1067617%2C61.010773%2065.5096522%2C60.4735504%20M47.9220646%2C57.6616197%20C53.9645309%2C57.6616197%2058.8801289%2C52.7786859%2058.8801289%2C46.7773707%20C58.8801289%2C40.7750569%2053.9645309%2C35.8931217%2047.9220646%2C35.8931217%20C41.8806036%2C35.8931217%2036.9650056%2C40.7750569%2036.9650056%2C46.7773707%20C36.9650056%2C52.7786859%2041.8806036%2C57.6616197%2047.9220646%2C57.6616197%20M67.1119965%2C63.8626459%20C66.4264264%2C64.6165549%2065.47849%2C65%2064.5285431%2C65%20C63.7002296%2C65%2062.8699057%2C64.708422%2062.207456%2C64.1172774%20L54.9305615%2C57.5987107%20C52.9070239%2C58.8968321%2050.505518%2C59.6587296%2047.9220646%2C59.6587296%20C40.7718297%2C59.6587296%2034.9545361%2C53.8800921%2034.9545361%2C46.7773707%20C34.9545361%2C39.6746493%2040.7718297%2C33.8960118%2047.9220646%2C33.8960118%20C55.0733048%2C33.8960118%2060.8905985%2C39.6746493%2060.8905985%2C46.7773707%20C60.8905985%2C48.8154213%2060.3990387%2C50.7366411%2059.5465996%2C52.4511599%20L66.8556616%2C58.9906963%20C68.2750531%2C60.265851%2068.3896499%2C62.4496907%2067.1119965%2C63.8626459%20M21.2803274%2C29.392529%20C21.2803274%2C29.9117776%2021.3124949%2C30.429029%2021.3738143%2C30.9293051%20C21.4089975%2C31.2138932%2021.3205368%2C31.4984814%2021.1295422%2C31.7131707%20C20.9777518%2C31.8839236%2020.7736891%2C31.9967603%2020.550527%2C32.0347054%20C18.0786547%2C32.6687878%2014.0104695%2C34.5880104%2014.0104695%2C40.3456782%20C14.0104695%2C44.6933865%2016.4240382%2C47.0929141%2018.4495863%2C48.3411077%20C19.1411878%2C48.7744806%2019.9594489%2C49.0051468%2020.8229456%2C49.0141338%20L32.9450717%2C49.0251179%20L32.9430613%2C51.0222278%20L20.811888%2C51.0112437%20C19.5664021%2C50.9982625%2018.384246%2C50.6607509%2017.3840374%2C50.0346569%20C15.3765836%2C48.7974474%2012%2C45.8896553%2012%2C40.3456782%20C12%2C33.66235%2016.5999543%2C31.191925%2019.3000149%2C30.319188%20C19.2799102%2C30.0116331%2019.2698579%2C29.702081%2019.2698579%2C29.392529%20C19.2698579%2C23.9324305%2022.9982737%2C18.2696254%2027.9420183%2C16.2215892%20C33.7241287%2C13.8150717%2039.8500294%2C15.0083449%2044.3263399%2C19.4109737%20C45.7135638%2C20.7749998%2046.8545053%2C22.4316024%2047.7300648%2C24.3478294%20C48.9061895%2C23.3802296%2050.355738%2C22.8460027%2051.8836949%2C22.8460027%20C54.8863312%2C22.8460027%2058.2659305%2C25.1097268%2058.8680661%2C30.0605622%20C61.6797078%2C30.7046302%2067.6206453%2C32.9553731%2067.6206453%2C40.422567%20C67.6206453%2C43.4042521%2066.6797455%2C45.8666886%2064.8230769%2C47.7419748%20L63.3896121%2C46.3410022%20C64.8632863%2C44.8531553%2065.6101757%2C42.8620367%2065.6101757%2C40.422567%20C65.6101757%2C33.891019%2060.1055101%2C32.2663701%2057.737177%2C31.8719409%20C57.4677741%2C31.827006%2057.2295334%2C31.6752256%2057.0757325%2C31.4515493%20C56.9259525%2C31.2358614%2056.8686541%2C30.9712444%2056.9138897%2C30.7146157%20C56.5851779%2C26.6604826%2054.1605516%2C24.8431126%2051.8836949%2C24.8431126%20C50.4472144%2C24.8431126%2049.1001998%2C25.5381069%2048.1874466%2C26.7503526%20C47.9652897%2C27.0439277%2047.6044105%2C27.193711%2047.2344841%2C27.139789%20C46.8695838%2C27.085867%2046.5629872%2C26.8362283%2046.4373329%2C26.4917268%20C45.6140456%2C24.2260057%2044.4278686%2C22.3207628%2042.9119745%2C20.8309188%20C39.0327735%2C17.0154404%2033.7281496%2C15.9809374%2028.7170543%2C18.0649216%20C24.5463352%2C19.7924217%2021.2803274%2C24.7672224%2021.2803274%2C29.392529%22%20id%3D%22Amazon-CloudWatch_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Condition: IsReplica\nType: 'AWS::CloudWatch::Alarm'\nProperties:\n  ActionsEnabled: true\n  AlarmActions:\n    - !!Ref DBSNSTopic\n  AlarmDescription: Free Local Storage\n  Dimensions:\n    - Name: DBInstanceIdentifier\n      Value: !!Ref AuroraDBSecondInstance\n  MetricName: FreeLocalStorage\n  Statistic: Average\n  Namespace: AWS/RDS\n  Threshold: '5368709120'\n  Unit: Bytes\n  ComparisonOperator: LessThanOrEqualToThreshold\n  Period: '60'\n  EvaluationPeriods: '5'\n  TreatMissingData: notBreaching\n","resource":{"Condition":"IsReplica","Type":"AWS::CloudWatch::Alarm","Properties":{"ActionsEnabled":true,"AlarmActions":[{"Ref":"DBSNSTopic"}],"AlarmDescription":"Free Local Storage","Dimensions":[{"Name":"DBInstanceIdentifier","Value":{"Ref":"AuroraDBSecondInstance"}}],"MetricName":"FreeLocalStorage","Statistic":"Average","Namespace":"AWS/RDS","Threshold":"5368709120","Unit":"Bytes","ComparisonOperator":"LessThanOrEqualToThreshold","Period":"60","EvaluationPeriods":"5","TreatMissingData":"notBreaching"}}},{"id":"root.DatabaseClusterEventSubscription","dependencies":[{"key":"Ref","value":["DBSNSTopic"],"path":"$.Properties.SnsTopicArn"},{"key":"Ref","value":["AuroraDBCluster"],"path":"$.Properties.SourceIds"}],"prefix":"root","hidden":false,"type":"AWS::RDS::EventSubscription","label":"DatabaseClusterEventSubscription","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_Amazon-RDS_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%232E27AD%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23527FFF%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_Amazon-RDS_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FDatabase%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M15.414%2C14%20L24.707%2C23.293%20L23.293%2C24.707%20L14%2C15.414%20L14%2C23%20L12%2C23%20L12%2C13%20C12%2C12.448%2012.447%2C12%2013%2C12%20L23%2C12%20L23%2C14%20L15.414%2C14%20Z%20M68%2C13%20L68%2C23%20L66%2C23%20L66%2C15.414%20L56.707%2C24.707%20L55.293%2C23.293%20L64.586%2C14%20L57%2C14%20L57%2C12%20L67%2C12%20C67.553%2C12%2068%2C12.448%2068%2C13%20L68%2C13%20Z%20M66%2C57%20L68%2C57%20L68%2C67%20C68%2C67.552%2067.553%2C68%2067%2C68%20L57%2C68%20L57%2C66%20L64.586%2C66%20L55.293%2C56.707%20L56.707%2C55.293%20L66%2C64.586%20L66%2C57%20Z%20M65.5%2C39.213%20C65.5%2C35.894%2061.668%2C32.615%2055.25%2C30.442%20L55.891%2C28.548%20C63.268%2C31.045%2067.5%2C34.932%2067.5%2C39.213%20C67.5%2C43.495%2063.268%2C47.383%2055.89%2C49.879%20L55.249%2C47.984%20C61.668%2C45.812%2065.5%2C42.534%2065.5%2C39.213%20L65.5%2C39.213%20Z%20M14.556%2C39.213%20C14.556%2C42.393%2018.143%2C45.585%2024.152%2C47.753%20L23.473%2C49.634%20C16.535%2C47.131%2012.556%2C43.333%2012.556%2C39.213%20C12.556%2C35.094%2016.535%2C31.296%2023.473%2C28.792%20L24.152%2C30.673%20C18.143%2C32.842%2014.556%2C36.034%2014.556%2C39.213%20L14.556%2C39.213%20Z%20M24.707%2C56.707%20L15.414%2C66%20L23%2C66%20L23%2C68%20L13%2C68%20C12.447%2C68%2012%2C67.552%2012%2C67%20L12%2C57%20L14%2C57%20L14%2C64.586%20L23.293%2C55.293%20L24.707%2C56.707%20Z%20M40%2C31.286%20C32.854%2C31.286%2029%2C29.44%2029%2C28.686%20C29%2C27.931%2032.854%2C26.086%2040%2C26.086%20C47.145%2C26.086%2051%2C27.931%2051%2C28.686%20C51%2C29.44%2047.145%2C31.286%2040%2C31.286%20L40%2C31.286%20Z%20M40.029%2C39.031%20C33.187%2C39.031%2029%2C37.162%2029%2C36.145%20L29%2C31.284%20C31.463%2C32.643%2035.832%2C33.286%2040%2C33.286%20C44.168%2C33.286%2048.537%2C32.643%2051%2C31.284%20L51%2C36.145%20C51%2C37.163%2046.835%2C39.031%2040.029%2C39.031%20L40.029%2C39.031%20Z%20M40.029%2C46.667%20C33.187%2C46.667%2029%2C44.798%2029%2C43.781%20L29%2C38.862%20C31.431%2C40.291%2035.742%2C41.031%2040.029%2C41.031%20C44.292%2C41.031%2048.578%2C40.292%2051%2C38.867%20L51%2C43.781%20C51%2C44.799%2046.835%2C46.667%2040.029%2C46.667%20L40.029%2C46.667%20Z%20M40%2C53.518%20C32.883%2C53.518%2029%2C51.605%2029%2C50.622%20L29%2C46.498%20C31.431%2C47.927%2035.742%2C48.667%2040.029%2C48.667%20C44.292%2C48.667%2048.578%2C47.929%2051%2C46.503%20L51%2C50.622%20C51%2C51.605%2047.117%2C53.518%2040%2C53.518%20L40%2C53.518%20Z%20M40%2C24.086%20C33.739%2C24.086%2027%2C25.525%2027%2C28.686%20L27%2C50.622%20C27%2C53.836%2033.54%2C55.518%2040%2C55.518%20C46.46%2C55.518%2053%2C53.836%2053%2C50.622%20L53%2C28.686%20C53%2C25.525%2046.261%2C24.086%2040%2C24.086%20L40%2C24.086%20Z%22%20id%3D%22Amazon-RDS_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Type: 'AWS::RDS::EventSubscription'\nProperties:\n  EventCategories:\n    - failover\n    - failure\n    - notification\n  SnsTopicArn: !!Ref DBSNSTopic\n  SourceIds:\n    - !!Ref AuroraDBCluster\n  SourceType: db-cluster\n","resource":{"Type":"AWS::RDS::EventSubscription","Properties":{"EventCategories":["failover","failure","notification"],"SnsTopicArn":{"Ref":"DBSNSTopic"},"SourceIds":[{"Ref":"AuroraDBCluster"}],"SourceType":"db-cluster"}}},{"id":"root.DatabaseInstanceEventSubscription","dependencies":[{"key":"Ref","value":["DBSNSTopic"],"path":"$.Properties.SnsTopicArn"},{"key":"Ref","value":["AuroraDBFirstInstance"],"path":"$.Properties.SourceIds"},{"key":"Ref","value":["AuroraDBSecondInstance"],"path":"$.Properties.SourceIds"}],"prefix":"root","hidden":false,"type":"AWS::RDS::EventSubscription","label":"DatabaseInstanceEventSubscription","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_Amazon-RDS_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%232E27AD%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23527FFF%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_Amazon-RDS_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FDatabase%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M15.414%2C14%20L24.707%2C23.293%20L23.293%2C24.707%20L14%2C15.414%20L14%2C23%20L12%2C23%20L12%2C13%20C12%2C12.448%2012.447%2C12%2013%2C12%20L23%2C12%20L23%2C14%20L15.414%2C14%20Z%20M68%2C13%20L68%2C23%20L66%2C23%20L66%2C15.414%20L56.707%2C24.707%20L55.293%2C23.293%20L64.586%2C14%20L57%2C14%20L57%2C12%20L67%2C12%20C67.553%2C12%2068%2C12.448%2068%2C13%20L68%2C13%20Z%20M66%2C57%20L68%2C57%20L68%2C67%20C68%2C67.552%2067.553%2C68%2067%2C68%20L57%2C68%20L57%2C66%20L64.586%2C66%20L55.293%2C56.707%20L56.707%2C55.293%20L66%2C64.586%20L66%2C57%20Z%20M65.5%2C39.213%20C65.5%2C35.894%2061.668%2C32.615%2055.25%2C30.442%20L55.891%2C28.548%20C63.268%2C31.045%2067.5%2C34.932%2067.5%2C39.213%20C67.5%2C43.495%2063.268%2C47.383%2055.89%2C49.879%20L55.249%2C47.984%20C61.668%2C45.812%2065.5%2C42.534%2065.5%2C39.213%20L65.5%2C39.213%20Z%20M14.556%2C39.213%20C14.556%2C42.393%2018.143%2C45.585%2024.152%2C47.753%20L23.473%2C49.634%20C16.535%2C47.131%2012.556%2C43.333%2012.556%2C39.213%20C12.556%2C35.094%2016.535%2C31.296%2023.473%2C28.792%20L24.152%2C30.673%20C18.143%2C32.842%2014.556%2C36.034%2014.556%2C39.213%20L14.556%2C39.213%20Z%20M24.707%2C56.707%20L15.414%2C66%20L23%2C66%20L23%2C68%20L13%2C68%20C12.447%2C68%2012%2C67.552%2012%2C67%20L12%2C57%20L14%2C57%20L14%2C64.586%20L23.293%2C55.293%20L24.707%2C56.707%20Z%20M40%2C31.286%20C32.854%2C31.286%2029%2C29.44%2029%2C28.686%20C29%2C27.931%2032.854%2C26.086%2040%2C26.086%20C47.145%2C26.086%2051%2C27.931%2051%2C28.686%20C51%2C29.44%2047.145%2C31.286%2040%2C31.286%20L40%2C31.286%20Z%20M40.029%2C39.031%20C33.187%2C39.031%2029%2C37.162%2029%2C36.145%20L29%2C31.284%20C31.463%2C32.643%2035.832%2C33.286%2040%2C33.286%20C44.168%2C33.286%2048.537%2C32.643%2051%2C31.284%20L51%2C36.145%20C51%2C37.163%2046.835%2C39.031%2040.029%2C39.031%20L40.029%2C39.031%20Z%20M40.029%2C46.667%20C33.187%2C46.667%2029%2C44.798%2029%2C43.781%20L29%2C38.862%20C31.431%2C40.291%2035.742%2C41.031%2040.029%2C41.031%20C44.292%2C41.031%2048.578%2C40.292%2051%2C38.867%20L51%2C43.781%20C51%2C44.799%2046.835%2C46.667%2040.029%2C46.667%20L40.029%2C46.667%20Z%20M40%2C53.518%20C32.883%2C53.518%2029%2C51.605%2029%2C50.622%20L29%2C46.498%20C31.431%2C47.927%2035.742%2C48.667%2040.029%2C48.667%20C44.292%2C48.667%2048.578%2C47.929%2051%2C46.503%20L51%2C50.622%20C51%2C51.605%2047.117%2C53.518%2040%2C53.518%20L40%2C53.518%20Z%20M40%2C24.086%20C33.739%2C24.086%2027%2C25.525%2027%2C28.686%20L27%2C50.622%20C27%2C53.836%2033.54%2C55.518%2040%2C55.518%20C46.46%2C55.518%2053%2C53.836%2053%2C50.622%20L53%2C28.686%20C53%2C25.525%2046.261%2C24.086%2040%2C24.086%20L40%2C24.086%20Z%22%20id%3D%22Amazon-RDS_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Type: 'AWS::RDS::EventSubscription'\nProperties:\n  EventCategories:\n    - availability\n    - configuration change\n    - deletion\n    - failover\n    - failure\n    - maintenance\n    - notification\n    - recovery\n  SnsTopicArn: !!Ref DBSNSTopic\n  SourceIds:\n    - !!Ref AuroraDBFirstInstance\n    - !!If \n      - IsReplica\n      - !!Ref AuroraDBSecondInstance\n      - !!Ref 'AWS::NoValue'\n  SourceType: db-instance\n","resource":{"Type":"AWS::RDS::EventSubscription","Properties":{"EventCategories":["availability","configuration change","deletion","failover","failure","maintenance","notification","recovery"],"SnsTopicArn":{"Ref":"DBSNSTopic"},"SourceIds":[{"Ref":"AuroraDBFirstInstance"},{"Fn::If":["IsReplica",{"Ref":"AuroraDBSecondInstance"},{"Ref":"AWS::NoValue"}]}],"SourceType":"db-instance"}}},{"id":"root.DBParameterGroupEventSubscription","dependencies":[{"key":"Ref","value":["DBSNSTopic"],"path":"$.Properties.SnsTopicArn"},{"key":"Ref","value":["DBParamGroup"],"path":"$.Properties.SourceIds"}],"prefix":"root","hidden":false,"type":"AWS::RDS::EventSubscription","label":"DBParameterGroupEventSubscription","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_Amazon-RDS_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%232E27AD%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23527FFF%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_Amazon-RDS_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FDatabase%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M15.414%2C14%20L24.707%2C23.293%20L23.293%2C24.707%20L14%2C15.414%20L14%2C23%20L12%2C23%20L12%2C13%20C12%2C12.448%2012.447%2C12%2013%2C12%20L23%2C12%20L23%2C14%20L15.414%2C14%20Z%20M68%2C13%20L68%2C23%20L66%2C23%20L66%2C15.414%20L56.707%2C24.707%20L55.293%2C23.293%20L64.586%2C14%20L57%2C14%20L57%2C12%20L67%2C12%20C67.553%2C12%2068%2C12.448%2068%2C13%20L68%2C13%20Z%20M66%2C57%20L68%2C57%20L68%2C67%20C68%2C67.552%2067.553%2C68%2067%2C68%20L57%2C68%20L57%2C66%20L64.586%2C66%20L55.293%2C56.707%20L56.707%2C55.293%20L66%2C64.586%20L66%2C57%20Z%20M65.5%2C39.213%20C65.5%2C35.894%2061.668%2C32.615%2055.25%2C30.442%20L55.891%2C28.548%20C63.268%2C31.045%2067.5%2C34.932%2067.5%2C39.213%20C67.5%2C43.495%2063.268%2C47.383%2055.89%2C49.879%20L55.249%2C47.984%20C61.668%2C45.812%2065.5%2C42.534%2065.5%2C39.213%20L65.5%2C39.213%20Z%20M14.556%2C39.213%20C14.556%2C42.393%2018.143%2C45.585%2024.152%2C47.753%20L23.473%2C49.634%20C16.535%2C47.131%2012.556%2C43.333%2012.556%2C39.213%20C12.556%2C35.094%2016.535%2C31.296%2023.473%2C28.792%20L24.152%2C30.673%20C18.143%2C32.842%2014.556%2C36.034%2014.556%2C39.213%20L14.556%2C39.213%20Z%20M24.707%2C56.707%20L15.414%2C66%20L23%2C66%20L23%2C68%20L13%2C68%20C12.447%2C68%2012%2C67.552%2012%2C67%20L12%2C57%20L14%2C57%20L14%2C64.586%20L23.293%2C55.293%20L24.707%2C56.707%20Z%20M40%2C31.286%20C32.854%2C31.286%2029%2C29.44%2029%2C28.686%20C29%2C27.931%2032.854%2C26.086%2040%2C26.086%20C47.145%2C26.086%2051%2C27.931%2051%2C28.686%20C51%2C29.44%2047.145%2C31.286%2040%2C31.286%20L40%2C31.286%20Z%20M40.029%2C39.031%20C33.187%2C39.031%2029%2C37.162%2029%2C36.145%20L29%2C31.284%20C31.463%2C32.643%2035.832%2C33.286%2040%2C33.286%20C44.168%2C33.286%2048.537%2C32.643%2051%2C31.284%20L51%2C36.145%20C51%2C37.163%2046.835%2C39.031%2040.029%2C39.031%20L40.029%2C39.031%20Z%20M40.029%2C46.667%20C33.187%2C46.667%2029%2C44.798%2029%2C43.781%20L29%2C38.862%20C31.431%2C40.291%2035.742%2C41.031%2040.029%2C41.031%20C44.292%2C41.031%2048.578%2C40.292%2051%2C38.867%20L51%2C43.781%20C51%2C44.799%2046.835%2C46.667%2040.029%2C46.667%20L40.029%2C46.667%20Z%20M40%2C53.518%20C32.883%2C53.518%2029%2C51.605%2029%2C50.622%20L29%2C46.498%20C31.431%2C47.927%2035.742%2C48.667%2040.029%2C48.667%20C44.292%2C48.667%2048.578%2C47.929%2051%2C46.503%20L51%2C50.622%20C51%2C51.605%2047.117%2C53.518%2040%2C53.518%20L40%2C53.518%20Z%20M40%2C24.086%20C33.739%2C24.086%2027%2C25.525%2027%2C28.686%20L27%2C50.622%20C27%2C53.836%2033.54%2C55.518%2040%2C55.518%20C46.46%2C55.518%2053%2C53.836%2053%2C50.622%20L53%2C28.686%20C53%2C25.525%2046.261%2C24.086%2040%2C24.086%20L40%2C24.086%20Z%22%20id%3D%22Amazon-RDS_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Type: 'AWS::RDS::EventSubscription'\nProperties:\n  EventCategories:\n    - configuration change\n  SnsTopicArn: !!Ref DBSNSTopic\n  SourceIds:\n    - !!Ref DBParamGroup\n  SourceType: db-parameter-group\n","resource":{"Type":"AWS::RDS::EventSubscription","Properties":{"EventCategories":["configuration change"],"SnsTopicArn":{"Ref":"DBSNSTopic"},"SourceIds":[{"Ref":"DBParamGroup"}],"SourceType":"db-parameter-group"}}},{"id":"root.DBBootStrapLambdaFn","dependencies":[{"key":"Ref","value":[],"path":"$.Properties.Code.S3Bucket"},{"key":"Ref","value":[],"path":"$.Properties.Code.S3Key"},{"key":"Ref","value":[],"path":"$.Properties.Environment.Variables.DBUser"},{"key":"Ref","value":[],"path":"$.Properties.Environment.Variables.DBName"},{"key":"Ref","value":["AuroraMasterSecret"],"path":"$.Properties.Environment.Variables.Secret_ARN"},{"key":"Fn::Sub","value":[],"path":"$.Properties.VpcConfig.SecurityGroupIds"},{"key":"Fn::Sub","value":[],"path":"$.Properties.VpcConfig.SubnetIds"},{"key":"Fn::GetAtt","value":["DBBootStrapLambdaRole"],"path":"$.Properties.Role"},{"key":"Fn::GetAtt","value":["AuroraDBCluster"],"path":"$.Properties.Environment.Variables.DBHost"},{"key":"Fn::GetAtt","value":["AuroraDBCluster"],"path":"$.Properties.Environment.Variables.DBPort"}],"prefix":"root","hidden":false,"type":"AWS::Lambda::Function","label":"DBBootStrapLambdaFn","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-Lambda_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23C8511B%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF9900%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-Lambda_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FCompute%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M28.0075352%2C66%20L15.5907274%2C66%20L29.3235885%2C37.296%20L35.5460249%2C50.106%20L28.0075352%2C66%20Z%20M30.2196674%2C34.553%20C30.0512768%2C34.208%2029.7004629%2C33.989%2029.3175745%2C33.989%20L29.3145676%2C33.989%20C28.9286723%2C33.99%2028.5778583%2C34.211%2028.4124746%2C34.558%20L13.097944%2C66.569%20C12.9495999%2C66.879%2012.9706487%2C67.243%2013.1550766%2C67.534%20C13.3374998%2C67.824%2013.6582439%2C68%2014.0020416%2C68%20L28.6420072%2C68%20C29.0299071%2C68%2029.3817234%2C67.777%2029.5481094%2C67.428%20L37.563706%2C50.528%20C37.693006%2C50.254%2037.6920037%2C49.937%2037.5586944%2C49.665%20L30.2196674%2C34.553%20Z%20M64.9953491%2C66%20L52.6587274%2C66%20L32.866809%2C24.57%20C32.7014253%2C24.222%2032.3486067%2C24%2031.9617091%2C24%20L23.8899822%2C24%20L23.8990031%2C14%20L39.7197081%2C14%20L59.4204149%2C55.429%20C59.5857986%2C55.777%2059.9386172%2C56%2060.3255148%2C56%20L64.9953491%2C56%20L64.9953491%2C66%20Z%20M65.9976745%2C54%20L60.9599868%2C54%20L41.25928%2C12.571%20C41.0938963%2C12.223%2040.7410777%2C12%2040.3531778%2C12%20L22.89768%2C12%20C22.3453987%2C12%2021.8963569%2C12.447%2021.8953545%2C12.999%20L21.884329%2C24.999%20C21.884329%2C25.265%2021.9885708%2C25.519%2022.1780103%2C25.707%20C22.3654452%2C25.895%2022.6200358%2C26%2022.8866544%2C26%20L31.3292417%2C26%20L51.1221625%2C67.43%20C51.2885485%2C67.778%2051.6393624%2C68%2052.02626%2C68%20L65.9976745%2C68%20C66.5519605%2C68%2067%2C67.552%2067%2C67%20L67%2C55%20C67%2C54.448%2066.5519605%2C54%2065.9976745%2C54%20L65.9976745%2C54%20Z%22%20id%3D%22AWS-Lambda_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Condition: DoDBBootStrap\nType: 'AWS::Lambda::Function'\nProperties:\n  Code:\n    S3Bucket: !!Ref LambdaBootStrapS3Bucket\n    S3Key: !!Ref LambdaBootStrapS3Key\n  Description: BootStrap newly Created Aurora PostgreSQL Database\n  Handler: dbbootstrap.handler\n  MemorySize: 128\n  Role: !!GetAtt DBBootStrapLambdaRole.Arn\n  Runtime: python3.9\n  Timeout: 60\n  VpcConfig:\n    SecurityGroupIds: !!Split \n      - ','\n      - !!ImportValue \n        'Fn::Sub': '${ParentVPCStack}-SecretRotationLambdaSecurityGroup'\n    SubnetIds: !!Split \n      - ','\n      - !!ImportValue \n        'Fn::Sub': '${ParentVPCStack}-SubnetsPrivate'\n  Environment:\n    Variables:\n      DBHost: !!GetAtt AuroraDBCluster.Endpoint.Address\n      DBPort: !!GetAtt AuroraDBCluster.Endpoint.Port\n      DBUser: !!Ref DBUsername\n      DBName: !!Ref DBName\n      Secret_ARN: !!Ref AuroraMasterSecret\n      Region_Name: !!Ref 'AWS::Region'\n","resource":{"Condition":"DoDBBootStrap","Type":"AWS::Lambda::Function","Properties":{"Code":{"S3Bucket":{"Ref":"LambdaBootStrapS3Bucket"},"S3Key":{"Ref":"LambdaBootStrapS3Key"}},"Description":"BootStrap newly Created Aurora PostgreSQL Database","Handler":"dbbootstrap.handler","MemorySize":128,"Role":{"Fn::GetAtt":["DBBootStrapLambdaRole","Arn"]},"Runtime":"python3.9","Timeout":60,"VpcConfig":{"SecurityGroupIds":{"Fn::Split":[",",{"Fn::ImportValue":{"Fn::Sub":"${ParentVPCStack}-SecretRotationLambdaSecurityGroup"}}]},"SubnetIds":{"Fn::Split":[",",{"Fn::ImportValue":{"Fn::Sub":"${ParentVPCStack}-SubnetsPrivate"}}]}},"Environment":{"Variables":{"DBHost":{"Fn::GetAtt":["AuroraDBCluster","Endpoint.Address"]},"DBPort":{"Fn::GetAtt":["AuroraDBCluster","Endpoint.Port"]},"DBUser":{"Ref":"DBUsername"},"DBName":{"Ref":"DBName"},"Secret_ARN":{"Ref":"AuroraMasterSecret"},"Region_Name":{"Ref":"AWS::Region"}}}}}},{"id":"root.DBBootStrapLambdaFnTrigger","dependencies":[{"key":"Fn::GetAtt","value":["DBBootStrapLambdaFn"],"path":"$.Properties.ServiceToken"}],"prefix":"root","hidden":false,"type":"Custom::LambdaAPGBootStrap","label":"DBBootStrapLambdaFnTrigger","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.0%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20%20%20%20width%3D%22100px%22%20height%3D%22100px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%20%20%20%3Crect%20x%3D%2215%22%20y%3D%2215%22%20fill%3D%22%23FF9900%22%20width%3D%2270%22%20height%3D%2270%22%2F%3E%20%20%20%3Cg%3E%20%20%20%20%20%20%20%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M39.4%2C47c0%2C0.6%2C0.1%2C1.1%2C0.2%2C1.4c0.1%2C0.4%2C0.3%2C0.7%2C0.5%2C1.2c0.1%2C0.1%2C0.1%2C0.3%2C0.1%2C0.4c0%2C0.2-0.1%2C0.3-0.3%2C0.5%20%20%20%20%20%20%20%20%20%20%20l-1%2C0.7c-0.2%2C0.1-0.3%2C0.1-0.4%2C0.1c-0.2%2C0-0.3-0.1-0.5-0.2c-0.2-0.2-0.4-0.5-0.6-0.8c-0.2-0.3-0.3-0.6-0.5-1%20%20%20%20%20%20%20%20%20%20%20c-1.3%2C1.5-2.9%2C2.2-4.8%2C2.2c-1.4%2C0-2.4-0.4-3.2-1.2c-0.8-0.8-1.2-1.8-1.2-3.1c0-1.4%2C0.5-2.5%2C1.5-3.3c1-0.8%2C2.3-1.3%2C4-1.3%20%20%20%20%20%20%20%20%20%20%20c0.5%2C0%2C1.1%2C0%2C1.7%2C0.1c0.6%2C0.1%2C1.2%2C0.2%2C1.9%2C0.4V42c0-1.2-0.3-2.1-0.8-2.6c-0.5-0.5-1.4-0.8-2.6-0.8c-0.6%2C0-1.1%2C0.1-1.7%2C0.2%20%20%20%20%20%20%20%20%20%20%20c-0.6%2C0.1-1.2%2C0.3-1.7%2C0.6c-0.3%2C0.1-0.5%2C0.2-0.6%2C0.2c-0.1%2C0-0.2%2C0-0.3%2C0c-0.2%2C0-0.3-0.2-0.3-0.5v-0.8c0-0.3%2C0-0.5%2C0.1-0.6%20%20%20%20%20%20%20%20%20%20%20c0.1-0.1%2C0.2-0.2%2C0.5-0.3c0.6-0.3%2C1.2-0.5%2C2-0.7c0.8-0.2%2C1.6-0.3%2C2.5-0.3c1.9%2C0%2C3.3%2C0.4%2C4.2%2C1.3c0.9%2C0.9%2C1.3%2C2.2%2C1.3%2C4V47z%20%20%20%20%20%20%20%20%20%20%20%20M32.8%2C49.5c0.5%2C0%2C1.1-0.1%2C1.7-0.3c0.6-0.2%2C1.1-0.5%2C1.5-1c0.3-0.3%2C0.4-0.6%2C0.6-1c0.1-0.4%2C0.2-0.9%2C0.2-1.4V45%20%20%20%20%20%20%20%20%20%20%20c-0.5-0.1-1-0.2-1.5-0.3c-0.5-0.1-1-0.1-1.5-0.1c-1.1%2C0-1.9%2C0.2-2.4%2C0.7c-0.5%2C0.4-0.8%2C1.1-0.8%2C1.9c0%2C0.8%2C0.2%2C1.3%2C0.6%2C1.7%20%20%20%20%20%20%20%20%20%20%20C31.5%2C49.3%2C32%2C49.5%2C32.8%2C49.5z%20M45.8%2C51.2c-0.3%2C0-0.5-0.1-0.6-0.2c-0.1-0.1-0.2-0.3-0.3-0.6L41%2C37.9c-0.1-0.3-0.1-0.5-0.1-0.7%20%20%20%20%20%20%20%20%20%20%20c0-0.3%2C0.1-0.4%2C0.4-0.4h1.6c0.3%2C0%2C0.5%2C0.1%2C0.6%2C0.2c0.1%2C0.1%2C0.2%2C0.3%2C0.3%2C0.6l2.7%2C10.7l2.5-10.7c0.1-0.3%2C0.2-0.5%2C0.3-0.6%20%20%20%20%20%20%20%20%20%20%20c0.1-0.1%2C0.3-0.2%2C0.7-0.2h1.3c0.3%2C0%2C0.5%2C0.1%2C0.7%2C0.2c0.1%2C0.1%2C0.2%2C0.3%2C0.3%2C0.6l2.6%2C10.9l2.8-10.9c0.1-0.3%2C0.2-0.5%2C0.3-0.6%20%20%20%20%20%20%20%20%20%20%20c0.1-0.1%2C0.3-0.2%2C0.6-0.2h1.5c0.3%2C0%2C0.4%2C0.1%2C0.4%2C0.4c0%2C0.1%2C0%2C0.2%2C0%2C0.3c0%2C0.1-0.1%2C0.2-0.1%2C0.4l-3.9%2C12.5c-0.1%2C0.3-0.2%2C0.5-0.3%2C0.6%20%20%20%20%20%20%20%20%20%20%20c-0.1%2C0.1-0.3%2C0.2-0.6%2C0.2h-1.4c-0.3%2C0-0.5-0.1-0.7-0.2c-0.1-0.1-0.2-0.3-0.3-0.7L50.7%2C40l-2.5%2C10.4c-0.1%2C0.3-0.2%2C0.5-0.3%2C0.7%20%20%20%20%20%20%20%20%20%20%20c-0.1%2C0.1-0.4%2C0.2-0.7%2C0.2H45.8z%20M66.6%2C51.7c-0.9%2C0-1.7-0.1-2.5-0.3c-0.8-0.2-1.4-0.4-1.9-0.7c-0.3-0.2-0.4-0.3-0.5-0.5%20%20%20%20%20%20%20%20%20%20%20c-0.1-0.2-0.1-0.3-0.1-0.5V49c0-0.3%2C0.1-0.5%2C0.4-0.5c0.1%2C0%2C0.2%2C0%2C0.3%2C0.1c0.1%2C0%2C0.2%2C0.1%2C0.4%2C0.2c0.5%2C0.2%2C1.1%2C0.4%2C1.8%2C0.6%20%20%20%20%20%20%20%20%20%20%20c0.6%2C0.1%2C1.3%2C0.2%2C1.9%2C0.2c1%2C0%2C1.8-0.2%2C2.4-0.5c0.6-0.4%2C0.8-0.9%2C0.8-1.5c0-0.5-0.1-0.8-0.4-1.1c-0.3-0.3-0.8-0.6-1.6-0.9l-2.4-0.7%20%20%20%20%20%20%20%20%20%20%20c-1.2-0.4-2.1-0.9-2.6-1.6c-0.5-0.7-0.8-1.5-0.8-2.4c0-0.7%2C0.1-1.3%2C0.4-1.8c0.3-0.5%2C0.7-1%2C1.2-1.3c0.5-0.4%2C1-0.6%2C1.7-0.8%20%20%20%20%20%20%20%20%20%20%20c0.6-0.2%2C1.3-0.3%2C2-0.3c0.4%2C0%2C0.7%2C0%2C1.1%2C0.1c0.4%2C0%2C0.7%2C0.1%2C1%2C0.2c0.3%2C0.1%2C0.6%2C0.2%2C0.9%2C0.3c0.3%2C0.1%2C0.5%2C0.2%2C0.7%2C0.3%20%20%20%20%20%20%20%20%20%20%20c0.2%2C0.1%2C0.4%2C0.3%2C0.5%2C0.4c0.1%2C0.1%2C0.1%2C0.3%2C0.1%2C0.5v0.8c0%2C0.3-0.1%2C0.5-0.4%2C0.5c-0.1%2C0-0.3-0.1-0.6-0.2c-0.9-0.4-2-0.6-3.1-0.6%20%20%20%20%20%20%20%20%20%20%20c-0.9%2C0-1.6%2C0.2-2.2%2C0.5c-0.5%2C0.3-0.8%2C0.8-0.8%2C1.4c0%2C0.5%2C0.2%2C0.8%2C0.5%2C1.1c0.3%2C0.3%2C0.9%2C0.6%2C1.8%2C0.9l2.3%2C0.7c1.2%2C0.4%2C2%2C0.9%2C2.5%2C1.6%20%20%20%20%20%20%20%20%20%20%20c0.5%2C0.7%2C0.8%2C1.4%2C0.8%2C2.3c0%2C0.7-0.1%2C1.3-0.4%2C1.9c-0.3%2C0.6-0.7%2C1-1.2%2C1.4c-0.5%2C0.4-1.1%2C0.7-1.8%2C0.9C68.2%2C51.6%2C67.5%2C51.7%2C66.6%2C51.7z%20%20%20%20%20%20%20%20%20%20%20%22%2F%3E%20%20%20%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%23FFFFFF%22%20d%3D%22M69.7%2C59.5c-5.3%2C3.9-13.1%2C6-19.7%2C6c-9.3%2C0-17.8-3.5-24.1-9.2%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c-0.5-0.5-0.1-1.1%2C0.5-0.7c6.9%2C4%2C15.4%2C6.4%2C24.1%2C6.4c5.9%2C0%2C12.4-1.2%2C18.4-3.8C69.8%2C57.9%2C70.6%2C58.9%2C69.7%2C59.5z%22%2F%3E%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%23FFFFFF%22%20d%3D%22M71.9%2C57c-0.7-0.9-4.5-0.4-6.2-0.2c-0.5%2C0.1-0.6-0.4-0.1-0.7%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c3.1-2.1%2C8.1-1.5%2C8.6-0.8c0.6%2C0.7-0.2%2C5.7-3%2C8.1c-0.4%2C0.4-0.9%2C0.2-0.7-0.3C71.2%2C61.5%2C72.6%2C57.9%2C71.9%2C57z%22%2F%3E%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E","title":"Condition: DoDBBootStrap\nType: 'Custom::LambdaAPGBootStrap'\nDependsOn:\n  - AuroraDBFirstInstance\nVersion: '1.0'\nProperties:\n  ServiceToken: !!GetAtt DBBootStrapLambdaFn.Arn\n","resource":{"Condition":"DoDBBootStrap","Type":"Custom::LambdaAPGBootStrap","DependsOn":["AuroraDBFirstInstance"],"Version":"1.0","Properties":{"ServiceToken":{"Fn::GetAtt":["DBBootStrapLambdaFn","Arn"]}}}},{"id":"root.iam  aws\npolicy/service-role/amazonrdsenhancedmonitoringrole","dependencies":[],"prefix":"root","hidden":false,"type":"External resource (aws::iam::policy)","label":"iam  aws\npolicy/service-role/amazonrdsenhancedmonitoringrole","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-Identity-and-Access-Management_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23BD0816%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF5252%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-Identity-and-Access-Management_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FSecurity-Identity-Compliance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M14%2C59%20L66%2C59%20L66%2C21%20L14%2C21%20L14%2C59%20Z%20M68%2C20%20L68%2C60%20C68%2C60.552%2067.553%2C61%2067%2C61%20L13%2C61%20C12.447%2C61%2012%2C60.552%2012%2C60%20L12%2C20%20C12%2C19.448%2012.447%2C19%2013%2C19%20L67%2C19%20C67.553%2C19%2068%2C19.448%2068%2C20%20L68%2C20%20Z%20M44%2C48%20L59%2C48%20L59%2C46%20L44%2C46%20L44%2C48%20Z%20M57%2C42%20L62%2C42%20L62%2C40%20L57%2C40%20L57%2C42%20Z%20M44%2C42%20L52%2C42%20L52%2C40%20L44%2C40%20L44%2C42%20Z%20M29%2C46%20C29%2C45.449%2028.552%2C45%2028%2C45%20C27.448%2C45%2027%2C45.449%2027%2C46%20C27%2C46.551%2027.448%2C47%2028%2C47%20C28.552%2C47%2029%2C46.551%2029%2C46%20L29%2C46%20Z%20M31%2C46%20C31%2C47.302%2030.161%2C48.401%2029%2C48.816%20L29%2C51%20L27%2C51%20L27%2C48.815%20C25.839%2C48.401%2025%2C47.302%2025%2C46%20C25%2C44.346%2026.346%2C43%2028%2C43%20C29.654%2C43%2031%2C44.346%2031%2C46%20L31%2C46%20Z%20M19%2C53.993%20L36.994%2C54%20L36.996%2C50%20L33%2C50%20L33%2C48%20L36.996%2C48%20L36.998%2C45%20L33%2C45%20L33%2C43%20L36.999%2C43%20L37%2C40.007%20L19.006%2C40%20L19%2C53.993%20Z%20M22%2C38.001%20L34%2C38.006%20L34%2C31%20C34.001%2C28.697%2031.197%2C26.677%2028%2C26.675%20L27.996%2C26.675%20C24.804%2C26.675%2022.004%2C28.696%2022.002%2C31%20L22%2C38.001%20Z%20M17%2C54.992%20L17.006%2C39%20C17.006%2C38.734%2017.111%2C38.48%2017.299%2C38.292%20C17.486%2C38.105%2017.741%2C38%2018.006%2C38%20L20%2C38.001%20L20.002%2C31%20C20.004%2C27.512%2023.59%2C24.675%2027.996%2C24.675%20L28%2C24.675%20C32.412%2C24.677%2036.001%2C27.515%2036%2C31%20L36%2C38.007%20L38%2C38.008%20C38.553%2C38.008%2039%2C38.456%2039%2C39.008%20L38.994%2C55%20C38.994%2C55.266%2038.889%2C55.52%2038.701%2C55.708%20C38.514%2C55.895%2038.259%2C56%2037.994%2C56%20L18%2C55.992%20C17.447%2C55.992%2017%2C55.544%2017%2C54.992%20L17%2C54.992%20Z%20M60%2C36%20L62%2C36%20L62%2C34%20L60%2C34%20L60%2C36%20Z%20M44%2C36%20L55%2C36%20L55%2C34%20L44%2C34%20L44%2C36%20Z%22%20id%3D%22AWS-Identity-and-Access-Management_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Type: 'External resource (aws::iam::policy)'\n","resource":{"Type":"External resource (aws::iam::policy)"}},{"id":"root.iam  aws\npolicy/service-role/awslambdavpcaccessexecutionrole","dependencies":[],"prefix":"root","hidden":false,"type":"External resource (aws::iam::policy)","label":"iam  aws\npolicy/service-role/awslambdavpcaccessexecutionrole","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-Identity-and-Access-Management_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23BD0816%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF5252%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-Identity-and-Access-Management_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FSecurity-Identity-Compliance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M14%2C59%20L66%2C59%20L66%2C21%20L14%2C21%20L14%2C59%20Z%20M68%2C20%20L68%2C60%20C68%2C60.552%2067.553%2C61%2067%2C61%20L13%2C61%20C12.447%2C61%2012%2C60.552%2012%2C60%20L12%2C20%20C12%2C19.448%2012.447%2C19%2013%2C19%20L67%2C19%20C67.553%2C19%2068%2C19.448%2068%2C20%20L68%2C20%20Z%20M44%2C48%20L59%2C48%20L59%2C46%20L44%2C46%20L44%2C48%20Z%20M57%2C42%20L62%2C42%20L62%2C40%20L57%2C40%20L57%2C42%20Z%20M44%2C42%20L52%2C42%20L52%2C40%20L44%2C40%20L44%2C42%20Z%20M29%2C46%20C29%2C45.449%2028.552%2C45%2028%2C45%20C27.448%2C45%2027%2C45.449%2027%2C46%20C27%2C46.551%2027.448%2C47%2028%2C47%20C28.552%2C47%2029%2C46.551%2029%2C46%20L29%2C46%20Z%20M31%2C46%20C31%2C47.302%2030.161%2C48.401%2029%2C48.816%20L29%2C51%20L27%2C51%20L27%2C48.815%20C25.839%2C48.401%2025%2C47.302%2025%2C46%20C25%2C44.346%2026.346%2C43%2028%2C43%20C29.654%2C43%2031%2C44.346%2031%2C46%20L31%2C46%20Z%20M19%2C53.993%20L36.994%2C54%20L36.996%2C50%20L33%2C50%20L33%2C48%20L36.996%2C48%20L36.998%2C45%20L33%2C45%20L33%2C43%20L36.999%2C43%20L37%2C40.007%20L19.006%2C40%20L19%2C53.993%20Z%20M22%2C38.001%20L34%2C38.006%20L34%2C31%20C34.001%2C28.697%2031.197%2C26.677%2028%2C26.675%20L27.996%2C26.675%20C24.804%2C26.675%2022.004%2C28.696%2022.002%2C31%20L22%2C38.001%20Z%20M17%2C54.992%20L17.006%2C39%20C17.006%2C38.734%2017.111%2C38.48%2017.299%2C38.292%20C17.486%2C38.105%2017.741%2C38%2018.006%2C38%20L20%2C38.001%20L20.002%2C31%20C20.004%2C27.512%2023.59%2C24.675%2027.996%2C24.675%20L28%2C24.675%20C32.412%2C24.677%2036.001%2C27.515%2036%2C31%20L36%2C38.007%20L38%2C38.008%20C38.553%2C38.008%2039%2C38.456%2039%2C39.008%20L38.994%2C55%20C38.994%2C55.266%2038.889%2C55.52%2038.701%2C55.708%20C38.514%2C55.895%2038.259%2C56%2037.994%2C56%20L18%2C55.992%20C17.447%2C55.992%2017%2C55.544%2017%2C54.992%20L17%2C54.992%20Z%20M60%2C36%20L62%2C36%20L62%2C34%20L60%2C34%20L60%2C36%20Z%20M44%2C36%20L55%2C36%20L55%2C34%20L44%2C34%20L44%2C36%20Z%22%20id%3D%22AWS-Identity-and-Access-Management_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Type: 'External resource (aws::iam::policy)'\n","resource":{"Type":"External resource (aws::iam::policy)"}},{"id":"root.iam  \nroot","dependencies":[],"prefix":"root","hidden":false,"type":"External resource (aws::iam::root)","label":"iam  \nroot","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.0%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20%20%20%20width%3D%22100px%22%20height%3D%22100px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%20%20%20%3Crect%20x%3D%2215%22%20y%3D%2215%22%20fill%3D%22%23FF9900%22%20width%3D%2270%22%20height%3D%2270%22%2F%3E%20%20%20%3Cg%3E%20%20%20%20%20%20%20%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M39.4%2C47c0%2C0.6%2C0.1%2C1.1%2C0.2%2C1.4c0.1%2C0.4%2C0.3%2C0.7%2C0.5%2C1.2c0.1%2C0.1%2C0.1%2C0.3%2C0.1%2C0.4c0%2C0.2-0.1%2C0.3-0.3%2C0.5%20%20%20%20%20%20%20%20%20%20%20l-1%2C0.7c-0.2%2C0.1-0.3%2C0.1-0.4%2C0.1c-0.2%2C0-0.3-0.1-0.5-0.2c-0.2-0.2-0.4-0.5-0.6-0.8c-0.2-0.3-0.3-0.6-0.5-1%20%20%20%20%20%20%20%20%20%20%20c-1.3%2C1.5-2.9%2C2.2-4.8%2C2.2c-1.4%2C0-2.4-0.4-3.2-1.2c-0.8-0.8-1.2-1.8-1.2-3.1c0-1.4%2C0.5-2.5%2C1.5-3.3c1-0.8%2C2.3-1.3%2C4-1.3%20%20%20%20%20%20%20%20%20%20%20c0.5%2C0%2C1.1%2C0%2C1.7%2C0.1c0.6%2C0.1%2C1.2%2C0.2%2C1.9%2C0.4V42c0-1.2-0.3-2.1-0.8-2.6c-0.5-0.5-1.4-0.8-2.6-0.8c-0.6%2C0-1.1%2C0.1-1.7%2C0.2%20%20%20%20%20%20%20%20%20%20%20c-0.6%2C0.1-1.2%2C0.3-1.7%2C0.6c-0.3%2C0.1-0.5%2C0.2-0.6%2C0.2c-0.1%2C0-0.2%2C0-0.3%2C0c-0.2%2C0-0.3-0.2-0.3-0.5v-0.8c0-0.3%2C0-0.5%2C0.1-0.6%20%20%20%20%20%20%20%20%20%20%20c0.1-0.1%2C0.2-0.2%2C0.5-0.3c0.6-0.3%2C1.2-0.5%2C2-0.7c0.8-0.2%2C1.6-0.3%2C2.5-0.3c1.9%2C0%2C3.3%2C0.4%2C4.2%2C1.3c0.9%2C0.9%2C1.3%2C2.2%2C1.3%2C4V47z%20%20%20%20%20%20%20%20%20%20%20%20M32.8%2C49.5c0.5%2C0%2C1.1-0.1%2C1.7-0.3c0.6-0.2%2C1.1-0.5%2C1.5-1c0.3-0.3%2C0.4-0.6%2C0.6-1c0.1-0.4%2C0.2-0.9%2C0.2-1.4V45%20%20%20%20%20%20%20%20%20%20%20c-0.5-0.1-1-0.2-1.5-0.3c-0.5-0.1-1-0.1-1.5-0.1c-1.1%2C0-1.9%2C0.2-2.4%2C0.7c-0.5%2C0.4-0.8%2C1.1-0.8%2C1.9c0%2C0.8%2C0.2%2C1.3%2C0.6%2C1.7%20%20%20%20%20%20%20%20%20%20%20C31.5%2C49.3%2C32%2C49.5%2C32.8%2C49.5z%20M45.8%2C51.2c-0.3%2C0-0.5-0.1-0.6-0.2c-0.1-0.1-0.2-0.3-0.3-0.6L41%2C37.9c-0.1-0.3-0.1-0.5-0.1-0.7%20%20%20%20%20%20%20%20%20%20%20c0-0.3%2C0.1-0.4%2C0.4-0.4h1.6c0.3%2C0%2C0.5%2C0.1%2C0.6%2C0.2c0.1%2C0.1%2C0.2%2C0.3%2C0.3%2C0.6l2.7%2C10.7l2.5-10.7c0.1-0.3%2C0.2-0.5%2C0.3-0.6%20%20%20%20%20%20%20%20%20%20%20c0.1-0.1%2C0.3-0.2%2C0.7-0.2h1.3c0.3%2C0%2C0.5%2C0.1%2C0.7%2C0.2c0.1%2C0.1%2C0.2%2C0.3%2C0.3%2C0.6l2.6%2C10.9l2.8-10.9c0.1-0.3%2C0.2-0.5%2C0.3-0.6%20%20%20%20%20%20%20%20%20%20%20c0.1-0.1%2C0.3-0.2%2C0.6-0.2h1.5c0.3%2C0%2C0.4%2C0.1%2C0.4%2C0.4c0%2C0.1%2C0%2C0.2%2C0%2C0.3c0%2C0.1-0.1%2C0.2-0.1%2C0.4l-3.9%2C12.5c-0.1%2C0.3-0.2%2C0.5-0.3%2C0.6%20%20%20%20%20%20%20%20%20%20%20c-0.1%2C0.1-0.3%2C0.2-0.6%2C0.2h-1.4c-0.3%2C0-0.5-0.1-0.7-0.2c-0.1-0.1-0.2-0.3-0.3-0.7L50.7%2C40l-2.5%2C10.4c-0.1%2C0.3-0.2%2C0.5-0.3%2C0.7%20%20%20%20%20%20%20%20%20%20%20c-0.1%2C0.1-0.4%2C0.2-0.7%2C0.2H45.8z%20M66.6%2C51.7c-0.9%2C0-1.7-0.1-2.5-0.3c-0.8-0.2-1.4-0.4-1.9-0.7c-0.3-0.2-0.4-0.3-0.5-0.5%20%20%20%20%20%20%20%20%20%20%20c-0.1-0.2-0.1-0.3-0.1-0.5V49c0-0.3%2C0.1-0.5%2C0.4-0.5c0.1%2C0%2C0.2%2C0%2C0.3%2C0.1c0.1%2C0%2C0.2%2C0.1%2C0.4%2C0.2c0.5%2C0.2%2C1.1%2C0.4%2C1.8%2C0.6%20%20%20%20%20%20%20%20%20%20%20c0.6%2C0.1%2C1.3%2C0.2%2C1.9%2C0.2c1%2C0%2C1.8-0.2%2C2.4-0.5c0.6-0.4%2C0.8-0.9%2C0.8-1.5c0-0.5-0.1-0.8-0.4-1.1c-0.3-0.3-0.8-0.6-1.6-0.9l-2.4-0.7%20%20%20%20%20%20%20%20%20%20%20c-1.2-0.4-2.1-0.9-2.6-1.6c-0.5-0.7-0.8-1.5-0.8-2.4c0-0.7%2C0.1-1.3%2C0.4-1.8c0.3-0.5%2C0.7-1%2C1.2-1.3c0.5-0.4%2C1-0.6%2C1.7-0.8%20%20%20%20%20%20%20%20%20%20%20c0.6-0.2%2C1.3-0.3%2C2-0.3c0.4%2C0%2C0.7%2C0%2C1.1%2C0.1c0.4%2C0%2C0.7%2C0.1%2C1%2C0.2c0.3%2C0.1%2C0.6%2C0.2%2C0.9%2C0.3c0.3%2C0.1%2C0.5%2C0.2%2C0.7%2C0.3%20%20%20%20%20%20%20%20%20%20%20c0.2%2C0.1%2C0.4%2C0.3%2C0.5%2C0.4c0.1%2C0.1%2C0.1%2C0.3%2C0.1%2C0.5v0.8c0%2C0.3-0.1%2C0.5-0.4%2C0.5c-0.1%2C0-0.3-0.1-0.6-0.2c-0.9-0.4-2-0.6-3.1-0.6%20%20%20%20%20%20%20%20%20%20%20c-0.9%2C0-1.6%2C0.2-2.2%2C0.5c-0.5%2C0.3-0.8%2C0.8-0.8%2C1.4c0%2C0.5%2C0.2%2C0.8%2C0.5%2C1.1c0.3%2C0.3%2C0.9%2C0.6%2C1.8%2C0.9l2.3%2C0.7c1.2%2C0.4%2C2%2C0.9%2C2.5%2C1.6%20%20%20%20%20%20%20%20%20%20%20c0.5%2C0.7%2C0.8%2C1.4%2C0.8%2C2.3c0%2C0.7-0.1%2C1.3-0.4%2C1.9c-0.3%2C0.6-0.7%2C1-1.2%2C1.4c-0.5%2C0.4-1.1%2C0.7-1.8%2C0.9C68.2%2C51.6%2C67.5%2C51.7%2C66.6%2C51.7z%20%20%20%20%20%20%20%20%20%20%20%22%2F%3E%20%20%20%20%20%20%20%3Cg%3E%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%23FFFFFF%22%20d%3D%22M69.7%2C59.5c-5.3%2C3.9-13.1%2C6-19.7%2C6c-9.3%2C0-17.8-3.5-24.1-9.2%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c-0.5-0.5-0.1-1.1%2C0.5-0.7c6.9%2C4%2C15.4%2C6.4%2C24.1%2C6.4c5.9%2C0%2C12.4-1.2%2C18.4-3.8C69.8%2C57.9%2C70.6%2C58.9%2C69.7%2C59.5z%22%2F%3E%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%23FFFFFF%22%20d%3D%22M71.9%2C57c-0.7-0.9-4.5-0.4-6.2-0.2c-0.5%2C0.1-0.6-0.4-0.1-0.7%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c3.1-2.1%2C8.1-1.5%2C8.6-0.8c0.6%2C0.7-0.2%2C5.7-3%2C8.1c-0.4%2C0.4-0.9%2C0.2-0.7-0.3C71.2%2C61.5%2C72.6%2C57.9%2C71.9%2C57z%22%2F%3E%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E","title":"Type: 'External resource (aws::iam::root)'\n","resource":{"Type":"External resource (aws::iam::root)"}},{"id":"root.iam  aws\npolicy/secretsmanagerreadwrite","dependencies":[],"prefix":"root","hidden":false,"type":"External resource (aws::iam::policy)","label":"iam  aws\npolicy/secretsmanagerreadwrite","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-Identity-and-Access-Management_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23BD0816%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF5252%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-Identity-and-Access-Management_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FSecurity-Identity-Compliance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M14%2C59%20L66%2C59%20L66%2C21%20L14%2C21%20L14%2C59%20Z%20M68%2C20%20L68%2C60%20C68%2C60.552%2067.553%2C61%2067%2C61%20L13%2C61%20C12.447%2C61%2012%2C60.552%2012%2C60%20L12%2C20%20C12%2C19.448%2012.447%2C19%2013%2C19%20L67%2C19%20C67.553%2C19%2068%2C19.448%2068%2C20%20L68%2C20%20Z%20M44%2C48%20L59%2C48%20L59%2C46%20L44%2C46%20L44%2C48%20Z%20M57%2C42%20L62%2C42%20L62%2C40%20L57%2C40%20L57%2C42%20Z%20M44%2C42%20L52%2C42%20L52%2C40%20L44%2C40%20L44%2C42%20Z%20M29%2C46%20C29%2C45.449%2028.552%2C45%2028%2C45%20C27.448%2C45%2027%2C45.449%2027%2C46%20C27%2C46.551%2027.448%2C47%2028%2C47%20C28.552%2C47%2029%2C46.551%2029%2C46%20L29%2C46%20Z%20M31%2C46%20C31%2C47.302%2030.161%2C48.401%2029%2C48.816%20L29%2C51%20L27%2C51%20L27%2C48.815%20C25.839%2C48.401%2025%2C47.302%2025%2C46%20C25%2C44.346%2026.346%2C43%2028%2C43%20C29.654%2C43%2031%2C44.346%2031%2C46%20L31%2C46%20Z%20M19%2C53.993%20L36.994%2C54%20L36.996%2C50%20L33%2C50%20L33%2C48%20L36.996%2C48%20L36.998%2C45%20L33%2C45%20L33%2C43%20L36.999%2C43%20L37%2C40.007%20L19.006%2C40%20L19%2C53.993%20Z%20M22%2C38.001%20L34%2C38.006%20L34%2C31%20C34.001%2C28.697%2031.197%2C26.677%2028%2C26.675%20L27.996%2C26.675%20C24.804%2C26.675%2022.004%2C28.696%2022.002%2C31%20L22%2C38.001%20Z%20M17%2C54.992%20L17.006%2C39%20C17.006%2C38.734%2017.111%2C38.48%2017.299%2C38.292%20C17.486%2C38.105%2017.741%2C38%2018.006%2C38%20L20%2C38.001%20L20.002%2C31%20C20.004%2C27.512%2023.59%2C24.675%2027.996%2C24.675%20L28%2C24.675%20C32.412%2C24.677%2036.001%2C27.515%2036%2C31%20L36%2C38.007%20L38%2C38.008%20C38.553%2C38.008%2039%2C38.456%2039%2C39.008%20L38.994%2C55%20C38.994%2C55.266%2038.889%2C55.52%2038.701%2C55.708%20C38.514%2C55.895%2038.259%2C56%2037.994%2C56%20L18%2C55.992%20C17.447%2C55.992%2017%2C55.544%2017%2C54.992%20L17%2C54.992%20Z%20M60%2C36%20L62%2C36%20L62%2C34%20L60%2C34%20L60%2C36%20Z%20M44%2C36%20L55%2C36%20L55%2C34%20L44%2C34%20L44%2C36%20Z%22%20id%3D%22AWS-Identity-and-Access-Management_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Type: 'External resource (aws::iam::policy)'\n","resource":{"Type":"External resource (aws::iam::policy)"}},{"id":"root.iam  aws\npolicy/iamfullaccess","dependencies":[],"prefix":"root","hidden":false,"type":"External resource (aws::iam::policy)","label":"iam  aws\npolicy/iamfullaccess","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-Identity-and-Access-Management_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23BD0816%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF5252%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-Identity-and-Access-Management_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FSecurity-Identity-Compliance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M14%2C59%20L66%2C59%20L66%2C21%20L14%2C21%20L14%2C59%20Z%20M68%2C20%20L68%2C60%20C68%2C60.552%2067.553%2C61%2067%2C61%20L13%2C61%20C12.447%2C61%2012%2C60.552%2012%2C60%20L12%2C20%20C12%2C19.448%2012.447%2C19%2013%2C19%20L67%2C19%20C67.553%2C19%2068%2C19.448%2068%2C20%20L68%2C20%20Z%20M44%2C48%20L59%2C48%20L59%2C46%20L44%2C46%20L44%2C48%20Z%20M57%2C42%20L62%2C42%20L62%2C40%20L57%2C40%20L57%2C42%20Z%20M44%2C42%20L52%2C42%20L52%2C40%20L44%2C40%20L44%2C42%20Z%20M29%2C46%20C29%2C45.449%2028.552%2C45%2028%2C45%20C27.448%2C45%2027%2C45.449%2027%2C46%20C27%2C46.551%2027.448%2C47%2028%2C47%20C28.552%2C47%2029%2C46.551%2029%2C46%20L29%2C46%20Z%20M31%2C46%20C31%2C47.302%2030.161%2C48.401%2029%2C48.816%20L29%2C51%20L27%2C51%20L27%2C48.815%20C25.839%2C48.401%2025%2C47.302%2025%2C46%20C25%2C44.346%2026.346%2C43%2028%2C43%20C29.654%2C43%2031%2C44.346%2031%2C46%20L31%2C46%20Z%20M19%2C53.993%20L36.994%2C54%20L36.996%2C50%20L33%2C50%20L33%2C48%20L36.996%2C48%20L36.998%2C45%20L33%2C45%20L33%2C43%20L36.999%2C43%20L37%2C40.007%20L19.006%2C40%20L19%2C53.993%20Z%20M22%2C38.001%20L34%2C38.006%20L34%2C31%20C34.001%2C28.697%2031.197%2C26.677%2028%2C26.675%20L27.996%2C26.675%20C24.804%2C26.675%2022.004%2C28.696%2022.002%2C31%20L22%2C38.001%20Z%20M17%2C54.992%20L17.006%2C39%20C17.006%2C38.734%2017.111%2C38.48%2017.299%2C38.292%20C17.486%2C38.105%2017.741%2C38%2018.006%2C38%20L20%2C38.001%20L20.002%2C31%20C20.004%2C27.512%2023.59%2C24.675%2027.996%2C24.675%20L28%2C24.675%20C32.412%2C24.677%2036.001%2C27.515%2036%2C31%20L36%2C38.007%20L38%2C38.008%20C38.553%2C38.008%2039%2C38.456%2039%2C39.008%20L38.994%2C55%20C38.994%2C55.266%2038.889%2C55.52%2038.701%2C55.708%20C38.514%2C55.895%2038.259%2C56%2037.994%2C56%20L18%2C55.992%20C17.447%2C55.992%2017%2C55.544%2017%2C54.992%20L17%2C54.992%20Z%20M60%2C36%20L62%2C36%20L62%2C34%20L60%2C34%20L60%2C36%20Z%20M44%2C36%20L55%2C36%20L55%2C34%20L44%2C34%20L44%2C36%20Z%22%20id%3D%22AWS-Identity-and-Access-Management_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Type: 'External resource (aws::iam::policy)'\n","resource":{"Type":"External resource (aws::iam::policy)"}},{"id":"root.cloudformation  \nstack/serverlessrepo--secretrotationlambdastack/*","dependencies":[],"prefix":"root","hidden":false,"type":"External resource (aws::cloudformation::stack)","label":"cloudformation  \nstack/serverlessrepo--secretrotationlambdastack/*","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-CloudFormation_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23B0084D%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF4F8B%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-CloudFormation_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FManagement-Governance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M53%2C39.9632039%20L58%2C39.9632039%20L58%2C37.9601375%20L53%2C37.9601375%20L53%2C39.9632039%20Z%20M28%2C51.9816019%20L33%2C51.9816019%20L33%2C49.9785356%20L28%2C49.9785356%20L28%2C51.9816019%20Z%20M18%2C51.9816019%20L25%2C51.9816019%20L25%2C49.9785356%20L18%2C49.9785356%20L18%2C51.9816019%20Z%20M18%2C45.9724029%20L30%2C45.9724029%20L30%2C43.9693366%20L18%2C43.9693366%20L18%2C45.9724029%20Z%20M18%2C33.9540048%20L27%2C33.9540048%20L27%2C31.9509385%20L18%2C31.9509385%20L18%2C33.9540048%20Z%20M18%2C39.9632039%20L51%2C39.9632039%20L51%2C37.9601375%20L18%2C37.9601375%20L18%2C39.9632039%20Z%20M37%2C61.9969337%20L14%2C61.9969337%20L14%2C27.9448058%20L37%2C27.9448058%20L37%2C35.9570712%20L39%2C35.9570712%20L39%2C26.9432726%20C39%2C26.3904263%2038.552%2C25.9417395%2038%2C25.9417395%20L13%2C25.9417395%20C12.447%2C25.9417395%2012%2C26.3904263%2012%2C26.9432726%20L12%2C62.9984668%20C12%2C63.5513131%2012.447%2C64%2013%2C64%20L38%2C64%20C38.552%2C64%2039%2C63.5513131%2039%2C62.9984668%20L39%2C42.9678034%20L37%2C42.9678034%20L37%2C61.9969337%20Z%20M68%2C36.9586044%20C68%2C43.4305117%2062.173%2C45.6819583%2059.092%2C45.9683968%20L43%2C45.9724029%20L43%2C43.9693366%20L59%2C43.9693366%20C59.195%2C43.9463013%2066%2C43.2121775%2066%2C36.9586044%20C66%2C31.2638867%2060.863%2C30.1081175%2059.834%2C29.9338507%20C59.321%2C29.8467173%2058.96%2C29.3820059%2059.004%2C28.8632117%20C59.005%2C28.8441826%2059.007%2C28.826155%2059.009%2C28.8081274%20C58.954%2C25.5902013%2056.981%2C24.584662%2056.126%2C24.3002266%20C54.53%2C23.769414%2052.751%2C24.2771913%2051.81%2C25.5391231%20C51.591%2C25.8355769%2051.229%2C25.9868085%2050.861%2C25.9307226%20C50.497%2C25.8756383%2050.192%2C25.625255%2050.068%2C25.2767214%20C49.447%2C23.5360568%2048.546%2C22.4083304%2047.293%2C21.1534094%20C44.159%2C18.0386412%2039.905%2C17.1783242%2035.925%2C18.8528877%20C33.837%2C19.7332353%2032.012%2C21.7282894%2030.922%2C24.327268%20L29.078%2C23.5500782%20C30.37%2C20.4743699%2032.584%2C18.0887179%2035.15%2C17.007062%20C39.905%2C15.0049972%2044.971%2C16.0255595%2048.704%2C19.7342369%20C49.774%2C20.8068789%2050.66%2C21.851478%2051.35%2C23.2035478%20C52.843%2C22.0978551%2054.857%2C21.7673492%2056.757%2C22.3993166%20C59.189%2C23.2085554%2060.727%2C25.3207889%2060.975%2C28.1290879%20C64.381%2C28.9884034%2068%2C31.7115721%2068%2C36.9586044%20L68%2C36.9586044%20Z%22%20id%3D%22AWS-CloudFormation_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Type: 'External resource (aws::cloudformation::stack)'\n","resource":{"Type":"External resource (aws::cloudformation::stack)"}},{"id":"root.lambda  \nsecretsmanager-secretrotationfn-","dependencies":[],"prefix":"root","hidden":false,"type":"External resource (aws::lambda::function)","label":"lambda  \nsecretsmanager-secretrotationfn-","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-Lambda_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23C8511B%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF9900%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-Lambda_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FCompute%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M28.0075352%2C66%20L15.5907274%2C66%20L29.3235885%2C37.296%20L35.5460249%2C50.106%20L28.0075352%2C66%20Z%20M30.2196674%2C34.553%20C30.0512768%2C34.208%2029.7004629%2C33.989%2029.3175745%2C33.989%20L29.3145676%2C33.989%20C28.9286723%2C33.99%2028.5778583%2C34.211%2028.4124746%2C34.558%20L13.097944%2C66.569%20C12.9495999%2C66.879%2012.9706487%2C67.243%2013.1550766%2C67.534%20C13.3374998%2C67.824%2013.6582439%2C68%2014.0020416%2C68%20L28.6420072%2C68%20C29.0299071%2C68%2029.3817234%2C67.777%2029.5481094%2C67.428%20L37.563706%2C50.528%20C37.693006%2C50.254%2037.6920037%2C49.937%2037.5586944%2C49.665%20L30.2196674%2C34.553%20Z%20M64.9953491%2C66%20L52.6587274%2C66%20L32.866809%2C24.57%20C32.7014253%2C24.222%2032.3486067%2C24%2031.9617091%2C24%20L23.8899822%2C24%20L23.8990031%2C14%20L39.7197081%2C14%20L59.4204149%2C55.429%20C59.5857986%2C55.777%2059.9386172%2C56%2060.3255148%2C56%20L64.9953491%2C56%20L64.9953491%2C66%20Z%20M65.9976745%2C54%20L60.9599868%2C54%20L41.25928%2C12.571%20C41.0938963%2C12.223%2040.7410777%2C12%2040.3531778%2C12%20L22.89768%2C12%20C22.3453987%2C12%2021.8963569%2C12.447%2021.8953545%2C12.999%20L21.884329%2C24.999%20C21.884329%2C25.265%2021.9885708%2C25.519%2022.1780103%2C25.707%20C22.3654452%2C25.895%2022.6200358%2C26%2022.8866544%2C26%20L31.3292417%2C26%20L51.1221625%2C67.43%20C51.2885485%2C67.778%2051.6393624%2C68%2052.02626%2C68%20L65.9976745%2C68%20C66.5519605%2C68%2067%2C67.552%2067%2C67%20L67%2C55%20C67%2C54.448%2066.5519605%2C54%2065.9976745%2C54%20L65.9976745%2C54%20Z%22%20id%3D%22AWS-Lambda_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Type: 'External resource (aws::lambda::function)'\n","resource":{"Type":"External resource (aws::lambda::function)"}},{"id":"root.iam  \nrole/serverlessrepo*","dependencies":[],"prefix":"root","hidden":false,"type":"External resource (aws::iam::role)","label":"iam  \nrole/serverlessrepo*","shape":"image","image":"data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Csvg%20width%3D%2280px%22%20height%3D%2280px%22%20viewBox%3D%220%200%2080%2080%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C!--%20Generator%3A%20Sketch%2064%20(93537)%20-%20https%3A%2F%2Fsketch.com%20--%3E%0A%20%20%20%20%3Ctitle%3EIcon-Architecture%2F64%2FArch_AWS-Identity-and-Access-Management_64%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%0A%20%20%20%20%20%20%20%20%3ClinearGradient%20x1%3D%220%25%22%20y1%3D%22100%25%22%20x2%3D%22100%25%22%20y2%3D%220%25%22%20id%3D%22linearGradient-1%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23BD0816%22%20offset%3D%220%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cstop%20stop-color%3D%22%23FF5252%22%20offset%3D%22100%25%22%3E%3C%2Fstop%3E%0A%20%20%20%20%20%20%20%20%3C%2FlinearGradient%3E%0A%20%20%20%20%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Icon-Architecture%2F64%2FArch_AWS-Identity-and-Access-Management_64%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Icon-Architecture-BG%2F64%2FSecurity-Identity-Compliance%22%20fill%3D%22url(%23linearGradient-1)%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2280%22%20height%3D%2280%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M14%2C59%20L66%2C59%20L66%2C21%20L14%2C21%20L14%2C59%20Z%20M68%2C20%20L68%2C60%20C68%2C60.552%2067.553%2C61%2067%2C61%20L13%2C61%20C12.447%2C61%2012%2C60.552%2012%2C60%20L12%2C20%20C12%2C19.448%2012.447%2C19%2013%2C19%20L67%2C19%20C67.553%2C19%2068%2C19.448%2068%2C20%20L68%2C20%20Z%20M44%2C48%20L59%2C48%20L59%2C46%20L44%2C46%20L44%2C48%20Z%20M57%2C42%20L62%2C42%20L62%2C40%20L57%2C40%20L57%2C42%20Z%20M44%2C42%20L52%2C42%20L52%2C40%20L44%2C40%20L44%2C42%20Z%20M29%2C46%20C29%2C45.449%2028.552%2C45%2028%2C45%20C27.448%2C45%2027%2C45.449%2027%2C46%20C27%2C46.551%2027.448%2C47%2028%2C47%20C28.552%2C47%2029%2C46.551%2029%2C46%20L29%2C46%20Z%20M31%2C46%20C31%2C47.302%2030.161%2C48.401%2029%2C48.816%20L29%2C51%20L27%2C51%20L27%2C48.815%20C25.839%2C48.401%2025%2C47.302%2025%2C46%20C25%2C44.346%2026.346%2C43%2028%2C43%20C29.654%2C43%2031%2C44.346%2031%2C46%20L31%2C46%20Z%20M19%2C53.993%20L36.994%2C54%20L36.996%2C50%20L33%2C50%20L33%2C48%20L36.996%2C48%20L36.998%2C45%20L33%2C45%20L33%2C43%20L36.999%2C43%20L37%2C40.007%20L19.006%2C40%20L19%2C53.993%20Z%20M22%2C38.001%20L34%2C38.006%20L34%2C31%20C34.001%2C28.697%2031.197%2C26.677%2028%2C26.675%20L27.996%2C26.675%20C24.804%2C26.675%2022.004%2C28.696%2022.002%2C31%20L22%2C38.001%20Z%20M17%2C54.992%20L17.006%2C39%20C17.006%2C38.734%2017.111%2C38.48%2017.299%2C38.292%20C17.486%2C38.105%2017.741%2C38%2018.006%2C38%20L20%2C38.001%20L20.002%2C31%20C20.004%2C27.512%2023.59%2C24.675%2027.996%2C24.675%20L28%2C24.675%20C32.412%2C24.677%2036.001%2C27.515%2036%2C31%20L36%2C38.007%20L38%2C38.008%20C38.553%2C38.008%2039%2C38.456%2039%2C39.008%20L38.994%2C55%20C38.994%2C55.266%2038.889%2C55.52%2038.701%2C55.708%20C38.514%2C55.895%2038.259%2C56%2037.994%2C56%20L18%2C55.992%20C17.447%2C55.992%2017%2C55.544%2017%2C54.992%20L17%2C54.992%20Z%20M60%2C36%20L62%2C36%20L62%2C34%20L60%2C34%20L60%2C36%20Z%20M44%2C36%20L55%2C36%20L55%2C34%20L44%2C34%20L44%2C36%20Z%22%20id%3D%22AWS-Identity-and-Access-Management_Icon_64_Squid%22%20fill%3D%22%23FFFFFF%22%3E%3C%2Fpath%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E","title":"Type: 'External resource (aws::iam::role)'\n","resource":{"Type":"External resource (aws::iam::role)"}}]);
  var edges = new vis.DataSet([{"from":"root.MonitoringIAMRole","to":"root.iam  aws\npolicy/service-role/amazonrdsenhancedmonitoringrole","label":"ManagedPolicyArns","color":{"color":"#d279ce"}},{"from":"root.DBBootStrapLambdaRole","to":"root.iam  aws\npolicy/service-role/awslambdavpcaccessexecutionrole","label":"ManagedPolicyArns","color":{"color":"#d279ce"}},{"from":"root.DBBootStrapLambdaRole","to":"root.AuroraMasterSecret","label":"PolicyDocument","color":{"color":"#ac5396"}},{"from":"root.ClusterSecurityGroupIngress","to":"root.ClusterSecurityGroup","label":"SourceSecurityGroupId","color":{"color":"#3a5778"}},{"from":"root.ClusterSecurityGroupIngress","to":"root.ClusterSecurityGroup","label":"GroupId","color":{"color":"#86402d"}},{"from":"root.AuroraKMSCMK","to":"root.iam  \nroot","label":"AWS","color":{"color":"#79d297"}},{"from":"root.AuroraKMSCMKAlias","to":"root.AuroraKMSCMK","label":"TargetKeyId","color":{"color":"#c5c287"}},{"from":"root.AuroraKMSCMKAlias","to":"root.AuroraDBCluster","label":"AliasName","color":{"color":"#3a7872"}},{"from":"root.SecretAuroraClusterAttachment","to":"root.AuroraMasterSecret","label":"SecretId","color":{"color":"#4a3a78"}},{"from":"root.SecretAuroraClusterAttachment","to":"root.AuroraDBCluster","label":"TargetId","color":{"color":"#2d8653"}},{"from":"root.AuroraSecretResourcePolicy","to":"root.AuroraMasterSecret","label":"SecretId","color":{"color":"#4a3a78"}},{"from":"root.AuroraSecretResourcePolicy","to":"root.iam  \nroot","label":"AWS","color":{"color":"#79d297"}},{"from":"root.CreateSecretRotationLambdaRole","to":"root.iam  aws\npolicy/service-role/awslambdavpcaccessexecutionrole","label":"ManagedPolicyArns","color":{"color":"#d279ce"}},{"from":"root.CreateSecretRotationLambdaRole","to":"root.iam  aws\npolicy/secretsmanagerreadwrite","label":"ManagedPolicyArns","color":{"color":"#d279ce"}},{"from":"root.CreateSecretRotationLambdaRole","to":"root.iam  aws\npolicy/iamfullaccess","label":"ManagedPolicyArns","color":{"color":"#d279ce"}},{"from":"root.CreateSecretRotationLambdaRole","to":"root.cloudformation  \nstack/serverlessrepo--secretrotationlambdastack/*","label":"PolicyDocument","color":{"color":"#ac5396"}},{"from":"root.CreateSecretRotationLambdaRole","to":"root.lambda  \nsecretsmanager-secretrotationfn-","label":"PolicyDocument","color":{"color":"#ac5396"}},{"from":"root.CreateSecretRotationLambdaRole","to":"root.iam  \nrole/serverlessrepo*","label":"PolicyDocument","color":{"color":"#ac5396"}},{"from":"root.CreateSecretRotationLambdaFn","to":"root.CreateSecretRotationLambdaRole","label":"Role","color":{"color":"#2d8670"}},{"from":"root.CreateSecretRotationLambdaFnTrigger","to":"root.CreateSecretRotationLambdaFn","label":"ServiceToken","color":{"color":"#786a3a"}},{"from":"root.AuroraSecretRotationSchedule","to":"root.AuroraMasterSecret","label":"SecretId","color":{"color":"#4a3a78"}},{"from":"root.AuroraSecretRotationSchedule","to":"root.CreateSecretRotationLambdaFnTrigger","label":"RotationLambdaARN","color":{"color":"#3ad22d"}},{"from":"root.AuroraDBCluster","to":"root.DBSubnetGroup","label":"DBSubnetGroupName","color":{"color":"#53ac93"}},{"from":"root.AuroraDBCluster","to":"root.ClusterSecurityGroup","label":"VpcSecurityGroupIds","color":{"color":"#537aac"}},{"from":"root.AuroraDBCluster","to":"root.RDSDBClusterParameterGroup","label":"DBClusterParameterGroupName","color":{"color":"#5dac53"}},{"from":"root.AuroraDBCluster","to":"root.AuroraKMSCMK","label":"KmsKeyId","color":{"color":"#936b1f"}},{"from":"root.AuroraDBCluster","to":"root.AuroraMasterSecret","label":"MasterUsername","color":{"color":"#bf4055"}},{"from":"root.AuroraDBCluster","to":"root.AuroraMasterSecret","label":"MasterUserPassword","color":{"color":"#cdd22d"}},{"from":"root.AuroraDBFirstInstance","to":"root.AuroraDBCluster","label":"DBClusterIdentifier","color":{"color":"#79d2b3"}},{"from":"root.AuroraDBFirstInstance","to":"root.DBParamGroup","label":"DBParameterGroupName","color":{"color":"#c587a2"}},{"from":"root.AuroraDBFirstInstance","to":"root.DBSubnetGroup","label":"DBSubnetGroupName","color":{"color":"#53ac93"}},{"from":"root.AuroraDBFirstInstance","to":"root.AuroraKMSCMK","label":"PerformanceInsightsKMSKeyId","color":{"color":"#5356ac"}},{"from":"root.AuroraDBFirstInstance","to":"root.MonitoringIAMRole","label":"MonitoringRoleArn","color":{"color":"#5374ac"}},{"from":"root.AuroraDBSecondInstance","to":"root.AuroraDBCluster","label":"DBClusterIdentifier","color":{"color":"#79d2b3"}},{"from":"root.AuroraDBSecondInstance","to":"root.DBParamGroup","label":"DBParameterGroupName","color":{"color":"#c587a2"}},{"from":"root.AuroraDBSecondInstance","to":"root.DBSubnetGroup","label":"DBSubnetGroupName","color":{"color":"#53ac93"}},{"from":"root.AuroraDBSecondInstance","to":"root.AuroraKMSCMK","label":"PerformanceInsightsKMSKeyId","color":{"color":"#5356ac"}},{"from":"root.AuroraDBSecondInstance","to":"root.MonitoringIAMRole","label":"MonitoringRoleArn","color":{"color":"#5374ac"}},{"from":"root.CPUUtilizationAlarm1","to":"root.DBSNSTopic","label":"AlarmActions","color":{"color":"#6cdae0"}},{"from":"root.CPUUtilizationAlarm1","to":"root.AuroraDBFirstInstance","label":"Value","color":{"color":"#8240bf"}},{"from":"root.CPUUtilizationAlarm2","to":"root.DBSNSTopic","label":"AlarmActions","color":{"color":"#6cdae0"}},{"from":"root.CPUUtilizationAlarm2","to":"root.AuroraDBSecondInstance","label":"Value","color":{"color":"#8240bf"}},{"from":"root.MaxUsedTxIDsAlarm1","to":"root.DBSNSTopic","label":"AlarmActions","color":{"color":"#6cdae0"}},{"from":"root.MaxUsedTxIDsAlarm1","to":"root.AuroraDBFirstInstance","label":"Value","color":{"color":"#8240bf"}},{"from":"root.MaxUsedTxIDsAlarm2","to":"root.DBSNSTopic","label":"AlarmActions","color":{"color":"#6cdae0"}},{"from":"root.MaxUsedTxIDsAlarm2","to":"root.AuroraDBSecondInstance","label":"Value","color":{"color":"#8240bf"}},{"from":"root.FreeLocalStorageAlarm1","to":"root.DBSNSTopic","label":"AlarmActions","color":{"color":"#6cdae0"}},{"from":"root.FreeLocalStorageAlarm1","to":"root.AuroraDBFirstInstance","label":"Value","color":{"color":"#8240bf"}},{"from":"root.FreeLocalStorageAlarm2","to":"root.DBSNSTopic","label":"AlarmActions","color":{"color":"#6cdae0"}},{"from":"root.FreeLocalStorageAlarm2","to":"root.AuroraDBSecondInstance","label":"Value","color":{"color":"#8240bf"}},{"from":"root.DatabaseClusterEventSubscription","to":"root.DBSNSTopic","label":"SnsTopicArn","color":{"color":"#79d28e"}},{"from":"root.DatabaseClusterEventSubscription","to":"root.AuroraDBCluster","label":"SourceIds","color":{"color":"#672d86"}},{"from":"root.DatabaseInstanceEventSubscription","to":"root.DBSNSTopic","label":"SnsTopicArn","color":{"color":"#79d28e"}},{"from":"root.DatabaseInstanceEventSubscription","to":"root.AuroraDBFirstInstance","label":"SourceIds","color":{"color":"#672d86"}},{"from":"root.DatabaseInstanceEventSubscription","to":"root.AuroraDBSecondInstance","label":"SourceIds","color":{"color":"#672d86"}},{"from":"root.DBParameterGroupEventSubscription","to":"root.DBSNSTopic","label":"SnsTopicArn","color":{"color":"#79d28e"}},{"from":"root.DBParameterGroupEventSubscription","to":"root.DBParamGroup","label":"SourceIds","color":{"color":"#672d86"}},{"from":"root.DBBootStrapLambdaFn","to":"root.AuroraMasterSecret","label":"Variable","color":{"color":"#ac6953"}},{"from":"root.DBBootStrapLambdaFn","to":"root.DBBootStrapLambdaRole","label":"Role","color":{"color":"#2d8670"}},{"from":"root.DBBootStrapLambdaFn","to":"root.AuroraDBCluster","label":"Variable","color":{"color":"#ac6953"}},{"from":"root.DBBootStrapLambdaFnTrigger","to":"root.DBBootStrapLambdaFn","label":"ServiceToken","color":{"color":"#786a3a"}}]);
  var nested = [];
  var types = ["AWS::CloudWatch::Alarm","AWS::EC2::SecurityGroup","AWS::EC2::SecurityGroupIngress","AWS::IAM::Role","AWS::KMS::Alias","AWS::KMS::Key","AWS::Lambda::Function","AWS::RDS::DBCluster","AWS::RDS::DBClusterParameterGroup","AWS::RDS::DBInstance","AWS::RDS::DBParameterGroup","AWS::RDS::DBSubnetGroup","AWS::RDS::EventSubscription","AWS::SNS::Topic","AWS::SecretsManager::ResourcePolicy","AWS::SecretsManager::RotationSchedule","AWS::SecretsManager::Secret","AWS::SecretsManager::SecretTargetAttachment","Custom::LambdaAPGBootStrap","Custom::LambdaAPGSecretsManager","External resource (aws::cloudformation::stack)","External resource (aws::iam::policy)","External resource (aws::iam::role)","External resource (aws::iam::root)","External resource (aws::lambda::function)"];
  var showSidebar = true;
  